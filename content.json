{"meta":{"title":"THINK TWICE","subtitle":"YZC BLOG","description":"YZC BLOG","author":"yzc","url":"https://blog.yzcthinktwice.com"},"pages":[{"title":"","date":"2019-12-14T11:01:20.134Z","updated":"2019-12-14T11:01:20.134Z","comments":true,"path":"baidu_verify_U8QbXIxsvQ.html","permalink":"https://blog.yzcthinktwice.com/baidu_verify_U8QbXIxsvQ.html","excerpt":"","text":"U8QbXIxsvQ"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2019-10-23T16:29:35.816Z","comments":true,"path":"comment/index.html","permalink":"https://blog.yzcthinktwice.com/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2019-10-23T16:29:35.816Z","comments":false,"path":"client/index.html","permalink":"https://blog.yzcthinktwice.com/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2019-12-01T01:49:42.139Z","comments":false,"path":"bangumi/index.html","permalink":"https://blog.yzcthinktwice.com/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2019-10-23T16:29:35.817Z","comments":false,"path":"donate/index.html","permalink":"https://blog.yzcthinktwice.com/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2019-10-23T16:29:35.817Z","comments":false,"path":"lab/index.html","permalink":"https://blog.yzcthinktwice.com/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2019-10-23T16:29:35.821Z","comments":true,"path":"tags/index.html","permalink":"https://blog.yzcthinktwice.com/tags/index.html","excerpt":"","text":""},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2019-10-23T16:29:35.820Z","comments":true,"path":"rss/index.html","permalink":"https://blog.yzcthinktwice.com/rss/index.html","excerpt":"","text":""},{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2019-10-23T16:29:35.814Z","comments":false,"path":"about/index.html","permalink":"https://blog.yzcthinktwice.com/about/index.html","excerpt":"","text":"[ã•ãã‚‰è˜ã®hojun] ä¸&nbsp; Mashiro&nbsp; ï¼ˆ çœŸï¼ˆã¾ï¼‰ç™½ï¼ˆã—ã‚ï¼‰ ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2019-10-23T16:29:35.822Z","comments":false,"path":"theme-sakura/index.html","permalink":"https://blog.yzcthinktwice.com/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2019-11-23T14:31:23.679Z","comments":false,"path":"music/index.html","permalink":"https://blog.yzcthinktwice.com/music/index.html","excerpt":"","text":"æˆ‘çš„æ”¶è— å¤©æ°”ä¹‹å­æµ·ä¸Šé’¢ç´å¸ˆ","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2019-10-23T16:29:35.822Z","comments":false,"path":"video/index.html","permalink":"https://blog.yzcthinktwice.com/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"},{"title":"links","date":"2019-10-27T15:11:06.000Z","updated":"2019-10-27T14:44:38.022Z","comments":true,"path":"links/index.html","permalink":"https://blog.yzcthinktwice.com/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"}],"posts":[{"title":"CF1198F GCD Groups 2","slug":"CF1198F GCD Groups 2","date":"2020-01-06T11:13:06.000Z","updated":"2020-01-06T11:24:24.634Z","comments":true,"path":"2020/01/06/CF1198F GCD Groups 2/","link":"","permalink":"https://blog.yzcthinktwice.com/2020/01/06/CF1198F GCD Groups 2/","excerpt":"","text":"CF1198F GCD Groups 2 ä¸€é“div1çš„F,ç¥ä»–å–µå±…ç„¶æ˜¯é“ç„å­¦random_shuffleé¢˜ï¼Ÿï¼Ÿï¼Ÿ ç„¶é¹…ä¹Ÿæ˜¯éœ€è¦ä¸€äº›è´ªå¿ƒæ€è·¯çš„å‘¢ï¼Œæœ´ç´ éšæœºwaçš„æ¦‚ç‡è¿˜æ˜¯é«˜çš„å‘¢ é¢˜è§£ï¼šè€ƒè™‘å¯¹æ‰“ä¹±ååºåˆ—æ­£ç¡®æ€§çš„åˆ¤å®šåŠåˆ’åˆ† æˆ‘ä»¬æ³¨æ„åˆ°å¦‚æœæ•°$x$æ˜¯æŸä¸€ç»„çš„gcdçš„å€æ•°ï¼Œé‚£ä¾ç…§è´ªå¿ƒçš„æ€è·¯ï¼Œå®ƒè‚¯å®šä¸åº”è¯¥è¢«æ”¾è¿›é‚£ä¸€ç»„ï¼Œè€Œæ˜¯æ”¾è¿›å¦ä¸€ç»„ äºæ˜¯æˆ‘ä»¬å¯ä»¥åšåˆ°$O(n)$åˆ¤å®š ä¸ºä»€ä¹ˆè¿™ä¹ˆrandomæ˜¯å¯¹çš„å‘¢ï¼Ÿå£èƒ¡ä¸€ä¸‹å°±æ˜¯ä¸€ç»„æ•°gcd=1çš„æ¦‚ç‡ä¼šéšæ•°çš„å¢åŠ è€Œå‘ˆæŒ‡æ•°çº§å‡å°ï¼Œå®Œæ•´è¯æ˜å¯ä»¥çœ‹å®˜æ–¹çš„ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e5+5; int n,a[N],ans[N],b[N]; inline int gcd(int x,int y){ if(!y) return x; return gcd(y,x%y); } signed main(){ read(n); srand(time(NULL)); for(int i=1;i&lt;=n;i++) read(a[i]),b[i]=i; long long begin_time=clock(); while(clock()-begin_time&lt;CLOCKS_PER_SEC*0.45){ random_shuffle(b+1,b+1+n); int g1=0,g2=0; for(int i=1;i&lt;=n;i++){ int now=gcd(g1,a[b[i]]); if(now^g1){ g1=now; ans[b[i]]=1; } else{ g2=gcd(g2,a[b[i]]); ans[b[i]]=2; } } if(g1==1&amp;&amp;g2==1){ puts(&quot;YES&quot;); for(int i=1;i&lt;=n;i++) write(ans[i]),putchar(&#39; &#39;); return 0; } } puts(&quot;NO&quot;); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://blog.yzcthinktwice.com/tags/æ•°å­¦/"},{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"ä¹±æ","slug":"ä¹±æ","permalink":"https://blog.yzcthinktwice.com/tags/ä¹±æ/"},{"name":"éšæœº","slug":"éšæœº","permalink":"https://blog.yzcthinktwice.com/tags/éšæœº/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1198E Rectangle Painting 2","slug":"CF1198E Rectangle Painting 2","date":"2020-01-06T11:13:05.000Z","updated":"2020-01-06T11:22:52.064Z","comments":true,"path":"2020/01/06/CF1198E Rectangle Painting 2/","link":"","permalink":"https://blog.yzcthinktwice.com/2020/01/06/CF1198E Rectangle Painting 2/","excerpt":"","text":"CF1198E Rectangle Painting 2 ç½‘ç»œæµå¥½é¢˜ï¼Œæ¨¡å‹æ˜¯äºŒåˆ†å›¾çš„æœ€å°è¦†ç›– é¢˜è§£ï¼šé¦–å…ˆè¦æƒ³åˆ°ä¸€ä¸ªå¾ˆæ˜¾ç„¶çš„è´ªå¿ƒï¼Œå¯¹äºä¸€ä¸ªé»‘æ ¼ï¼Œä»–è¦ä¹ˆæ˜¯åœ¨çºµå‘ä¸Šè¢«å®Œå…¨è¦†ç›–ï¼Œè¦ä¹ˆæ˜¯åœ¨æ¨ªå‘ä¸Šè¢«å®Œå…¨è¦†ç›–ï¼Œå…¶ä¸­â€œå®Œå…¨è¦†ç›–â€æ˜¯æŒ‡æ•´è¡Œæˆ–æ•´åˆ—éƒ½è¢«ä¸€æ¬¡æ€§æ¶‚ç™½ ç¨å¾®æ€è€ƒä¸€ä¸‹ï¼Œé¢˜ç›®å˜æˆäº†åœ¨çºµå‘ä¸Šé€‰ä¸€äº›åˆ—ï¼Œåœ¨æ¨ªå‘ä¸Šé€‰ä¸€äº›è¡Œï¼Œä½¿å¾—å°†ä»–ä»¬å®Œå…¨è¦†ç›–åä¸å­˜åœ¨ä¸€ä¸ªé»‘æ ¼ï¼Œé—®æœ€å°‘çš„é€‰æ‹©æ•° æˆ‘ä»¬å¯ä»¥å°†æœ‰é»‘æ ¼çš„è¡Œçœ‹æˆä¸€ä¸ªç‚¹é›†ï¼Œå°†æœ‰é»‘æ ¼çš„åˆ—çœ‹æˆå¦ä¸€ä¸ªç‚¹é›†ï¼Œå¯¹äºä¸¤è€…ä¹‹é—´çš„äº¤ç‚¹ï¼Œçœ‹æˆä¸¤ä¸ªç‚¹é›†ä¹‹é—´çš„è¿è¾¹ï¼Œäºæ˜¯æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªäºŒåˆ†å›¾ é¢˜ç›®å˜æˆäº†äºŒåˆ†å›¾çš„æœ€å°è¦†ç›–é—®é¢˜ ç”±äºè¿™å¼ äºŒåˆ†å›¾çš„ç‚¹æ•°å¾ˆå’Œè¾¹æ•°å¤šï¼Œæˆ‘ä»¬è€ƒè™‘ç¦»æ•£ä¸å‹ç¼©ï¼Œå¹¶ç”¨ç½‘ç»œæµè¿›è¡Œä¼˜åŒ–ï¼Œå› ä¸ºæœ‰ä¸€ä¸ªé‡è¦å®šç†ï¼šæœ€å°è¦†ç›–=æœ€å¤§æµ ç¦»æ•£åï¼Œå¯¹äºä¸€ä¸ªçŸ©å½¢ï¼Œæˆ‘ä»¬åªè€ƒè™‘å®ƒçš„å››ä¸ªè¾¹ç•Œï¼Œä¸¤ä¸ªå¯¹ç«‹è¾¹ç•Œä¸­æ‰€æœ‰ç‚¹çš„ä»£ä»·å…¨éƒ¨èµ‹ç»™é å³ï¼ˆæˆ–ä¸‹ï¼‰çš„è¾¹ç•Œç‚¹ï¼Œå³ï¼ˆå³å‡å·¦ï¼Œæˆ–ä¸‹å‡ä¸Šï¼‰ æˆ‘ä»¬çŸ¥é“ï¼Œç½‘ç»œæµä¸­ç‚¹çš„ä»£ä»·æ˜¯ç”±è¶…æºå’Œè¶…æ±‡ç»™ä»–çš„ï¼Œäºæ˜¯ä»è¶…æºå‘è¡Œç‚¹è¿è¾¹ï¼Œå®¹é‡ä¸ºå…¶ä»£ä»·ï¼Œä»åˆ—ç‚¹å‘è¶…æ±‡è¿è¾¹ï¼Œå®¹é‡ä¸ºå…¶ä»£ä»·ï¼Œè¡Œç‚¹å’Œåˆ—ç‚¹ä¹‹é—´çš„è¿è¾¹å³ä¸¤è€…æ˜¯å¦ç›¸äº¤ï¼Œå®¹é‡ä¸ºæ— ç©·å¤§ å…·ä½“çš„ï¼Œåœ¨ä»£ç å®ç°ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€æ¡è¾¹ç•Œå½¢å¦‚$[l,r]$çš„å·¦é—­å³é—­åŒºé—´ï¼Œä¿®æ”¹æˆå½¢å¦‚$[l,r+1)$çš„å·¦é—­å³å¼€åŒºé—´ è¿™æ˜¯ä¸€ä¸ªååˆ†å¥—è·¯çš„æ–¹ä¾¿æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„åˆ¤å®šä¸€ä¸ªç‚¹åˆ°åº•æ˜¯è¦è¢«ç®—è¿›å·¦è¾¹çš„ä»£ä»·è¿˜æ˜¯å³è¾¹çš„ä»£ä»·ï¼Œå¹¶é˜²æ­¢æœ€å³è¾¹è¢«æ¼æ‰ï¼Œè¯¦ç»†å¯ä»¥çœ‹ä»£ç  ä»£ç è½»å¾®å¤æ‚ï¼Œç‰¹å…ˆåšå‡ºæ³¨é‡Šï¼š .x.x=x1 .x.y=y1 .y.x=x2 .y.y=y2 ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define pii pair&lt;int,int&gt; #define x first #define y second const int oo=0x7fffffff,N=405,M=N*N+5; int en=1,h[N],n,m,s,t,cur[N],d[N],ux[N],uy[N],uxn,uyn; pair&lt;pii,pii&gt; a[N]; //piiå¥—pii~ struct edge{ int n,v,w; }e[M&lt;&lt;1]; void add(int x,int y,int z){ e[++en]=(edge){h[x],y,z}; h[x]=en; } bool bfs(int s,int t){ for(int i=s;i&lt;=t;i++) d[i]=0,cur[i]=h[i]; queue&lt;int&gt; q; q.push(s); d[s]=1; while(!q.empty()){ int x=q.front(); q.pop(); for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(!d[y]&amp;&amp;e[i].w){ d[y]=d[x]+1; if(y==t) return 1; q.push(y); } } } return 0; } int dfs(int x,int flow,int t){ if(x==t) return flow; int rest=flow; for(int &amp;i=cur[x];i&amp;&amp;rest;i=e[i].n){ int y=e[i].v; if(d[y]==d[x]+1&amp;&amp;e[i].w){ int tp=dfs(y,min(rest,e[i].w),t); rest-=tp; e[i].w-=tp; e[i^1].w+=tp; } } return flow-rest; } int dinic(int s,int t){ int res=0; while(bfs(s,t)) res+=dfs(s,oo,t); return res; } signed main(){ read(n);read(m); for(int i=1;i&lt;=m;i++){ read(a[i].x.x); read(a[i].x.y); read(a[i].y.x);a[i].y.x++; //æ”¹æˆå·¦é—­å³å¼€åŒºé—´ read(a[i].y.y);a[i].y.y++; ux[++uxn]=a[i].x.x; uy[++uyn]=a[i].x.y; ux[++uxn]=a[i].y.x; uy[++uyn]=a[i].y.y; } ux[++uxn]=uy[++uyn]=n+1; //åŠ ä¸€ä¸ªè¾¹ç•Œï¼Œä»¥é˜²é—æ¼æœ€å³ç‚¹ sort(ux+1,ux+1+uxn); sort(uy+1,uy+1+uyn); uxn=unique(ux+1,ux+1+uxn)-ux-1; //ç¦»æ•£ uyn=unique(uy+1,uy+1+uyn)-uy-1; s=0,t=uxn+uyn+1; //è¶…æºè¶…æ±‡ for(int i=1;i&lt;=m;i++){ a[i].x.x=lower_bound(ux+1,ux+1+uxn,a[i].x.x)-ux; //ç¦»æ•£åçš„åæ ‡ a[i].x.y=lower_bound(uy+1,uy+1+uyn,a[i].x.y)-uy; a[i].y.x=lower_bound(ux+1,ux+1+uxn,a[i].y.x)-ux; a[i].y.y=lower_bound(uy+1,uy+1+uyn,a[i].y.y)-uy; for(int x=a[i].x.x;x&lt;a[i].y.x;x++) for(int y=a[i].x.y;y&lt;a[i].y.y;y++) add(x,y+uxn,oo),add(y+uxn,x,0); //æ·»åŠ äº¤ç‚¹çš„æ— ç©·è¾¹ } for(int i=1;i&lt;uxn;i++) add(s,i,ux[i+1]-ux[i]),add(i,s,0); //æ ¹æ®ç›¸é‚»è¾¹ä¹‹é—´çš„è·ç¦»ï¼Œè®¡ç®—å®ƒçš„ä»£ä»·ï¼Œå¹¶ä»è¶…æºå‘è¡Œç‚¹è¿è¾¹ for(int i=1;i&lt;uyn;i++) add(i+uxn,t,uy[i+1]-uy[i]),add(t,i+uxn,0); write(dinic(s,t)); //æœ€å¤§æµ=æœ€å°è¦†ç›– }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµ/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P2149 [SDOI2009]Elaxiaçš„è·¯çº¿","slug":"P2149 [SDOI2009]Elaxiaçš„è·¯çº¿","date":"2020-01-06T11:13:03.000Z","updated":"2020-01-06T11:20:19.751Z","comments":true,"path":"2020/01/06/P2149 [SDOI2009]Elaxiaçš„è·¯çº¿/","link":"","permalink":"https://blog.yzcthinktwice.com/2020/01/06/P2149 [SDOI2009]Elaxiaçš„è·¯çº¿/","excerpt":"","text":"P2149 [SDOI2009]Elaxiaçš„è·¯çº¿ æœ€çŸ­è·¯å¥½é¢˜ï¼Œéœ€è¦ä¸€å®šæ€ç»´ é¢˜è§£ï¼šé¦–å…ˆè¦æ³¨æ„åˆ°ä¸€ä¸ªæ€§è´¨ï¼šå¯¹äºä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯æ‰€æ„æˆçš„æ–°æœ‰å‘å›¾ï¼Œå°†æ˜¯ä¸€ä¸ªDAG è¿™æ˜¯å¾ˆæ˜¾ç„¶çš„ï¼Œå› ä¸ºæœ‰ç¯å°±ä¼šä»ç»ˆç‚¹è½¬å›èµ·ç‚¹ï¼Œä¹Ÿå°±ä¸ä¼˜äº† å› æ­¤é¢˜ç›®å˜æˆç»™å‡ºä¸¤ä¸ªDAGï¼Œæ±‚ä»–ä»¬çš„ä¸¤æ¡æ‰€å±é“¾ï¼Œä½¿å¾—é‡åˆéƒ¨åˆ†æœ€å¤§ å¯¹äºæ ·ä¾‹æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ç”»å‡ºä¸‹é¢è¿™å¼ å›¾ï¼Œï¼ˆå…¶ä¸­è“ç‚¹æ˜¯ä¸€ç»„ï¼Œçº¢ç‚¹æ˜¯ä¸€ç»„ï¼‰ï¼š äºæ˜¯æˆ‘ä»¬å¯ä»¥é€‰æ‹©å…¶ä¸­ä¸€ç»„ç‚¹ï¼ˆè¿™é‡Œé€‰çº¢ç‚¹ï¼‰ï¼Œä»èµ·ç‚¹å¾€ç»ˆç‚¹éå†ä¸€æ¬¡ï¼ˆçº¢ï¼‰è¾¹ï¼Œæ³¨æ„æ˜¯æœ‰å‘è¾¹ï¼ŒåŒæ—¶åˆ¤æ–­å½“å‰è¾¹æ˜¯å¦æ˜¯å¦å¤–ä¸€ä¸ªäººå¯ä»¥åŒå‘è€Œè¡Œï¼ˆæˆ–é€†å‘è€Œè¡Œçš„è¾¹ï¼‰ï¼Œè®°$f[x]$å’Œ$g[x]$ï¼Œåˆ†åˆ«è¡¨ç¤ºä»ï¼ˆçº¢è‰²ï¼‰èµ·ç‚¹åˆ°$x$è·¯å¾„ä¸ŠåŒå‘æˆ–é€†å‘çš„æœ€é•¿ç›¸äº¤è·¯çº¿é•¿åº¦ï¼Œäºæ˜¯å°±å˜æˆäº†ä¸€ä¸ªDAGä¸Šçš„DPé—®é¢˜ï¼Œç”¨æ‹“æ‰‘æ’åºè§£å†³ï¼Œç­”æ¡ˆ$ans=\\max\\{\\{f\\},\\{g\\}\\}$ å¦å¤–å¯èƒ½ä¼šæœ‰ä¸€ä¸ªç–‘é—®ï¼Œä¸ºä»€ä¹ˆä¸€æ¡è¾¹è¦ä¹ˆç®—åœ¨åŒå‘è´¡çŒ®é‡Œï¼Œè¦ä¹ˆç®—åœ¨é€†å‘è´¡çŒ®é‡Œå‘¢ï¼Œå› ä¸ºä¸€æ¡è¾¹åœ¨æ‰€å±DAGä¸­ï¼Œè¦ä¹ˆæ˜¯ä»Aåˆ°Bï¼Œè¦ä¹ˆæ˜¯ä»Båˆ°Aï¼Œä¸ç„¶å°±æˆç¯äº† ç„¶åå†ç¨å¾®æä¸€ä¸‹å¦‚ä½•åˆ¤æ–­ä¸€æ¡è¾¹æ˜¯å¦åœ¨ï¼ˆx1-&gt;y1ï¼‰æˆ–ï¼ˆx2-&gt;y2ï¼‰çš„æœ€çŸ­è·¯å¾„ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«ä»¥x1,y1,x2,y2ä¸ºæºç‚¹è·‘ä¸€æ¬¡æœ€çŸ­è·¯ï¼Œè‹¥$dis_{x,y}=dis_{x,u}+dis_{v,u}$ï¼Œåˆ™ç‚¹$u$åœ¨(x-&gt;y)æœ€çŸ­è·¯å¾„ä¸Šï¼ˆæ³¨æ„ç®­å¤´æ˜¯æœ‰å‘çš„ï¼‰ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } #define x1 X #define x2 XX #define y1 Y #define y2 YY const int N=1505,M=2e4+5; int en,h[N],dis[N][4],n,m,x1,x2,y1,y2,ans,f[N],g[N],du[N]; bool exi[M]; struct edge{ int n,v,w; }e[M]; void add(int x,int y,int z){ e[++en]=(edge){h[x],y,z}; h[x]=en; } struct node{ int x,v; inline bool operator &lt; (const node &amp;nt) const { return v&gt;nt.v; } }; void dij(int s,int op){ //æœ´ç´ çš„æœ€çŸ­è·¯ priority_queue&lt;node&gt; q; q.push((node){s,0}); dis[s][op]=0; while(!q.empty()){ node x=q.top(); q.pop(); if(dis[x.x][op]^x.v) continue; for(int i=h[x.x];i;i=e[i].n){ int y=e[i].v; if(dis[x.x][op]+e[i].w&lt;dis[y][op]){ dis[y][op]=dis[x.x][op]+e[i].w; q.push((node){y,dis[y][op]}); } } } } void topo(){ queue&lt;int&gt; q; q.push(x1); while(!q.empty()){ int x=q.front(); q.pop(); ans=max(ans,max(f[x],g[x])); //ç­”æ¡ˆå–ä¸ªæœ€å¤§å€¼ for(int i=h[x];i;i=e[i].n) if(exi[i]){ int y=e[i].v; if(!--du[y]) q.push(y); if(dis[x][2]+e[i].w+dis[y][3]==dis[y2][2]) f[y]=max(f[y],f[x]+e[i].w); //ä¸¤äººåŒå‘è€Œè¡Œ if(dis[x][3]+e[i].w+dis[y][2]==dis[y2][2]) g[y]=max(g[y],g[x]+e[i].w); //ä¸¤äººé€†å‘è€Œè¡Œ } } } signed main(){ read(n);read(m);read(x1);read(y1);read(x2);read(y2); for(int i=1,x,y,z;i&lt;=m;i++){ read(x);read(y);read(z); add(x,y,z); add(y,x,z); } memset(dis,60,sizeof dis); dij(x1,0); dij(y1,1); dij(x2,2); dij(y2,3); for(int x=1;x&lt;=n;x++) for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(dis[x][0]+e[i].w+dis[y][1]==dis[y1][0]){ exi[i]=1; //exi=exist è¿™æ¡è¾¹æ˜¯å±äºè“ç‚¹DAGçš„ du[y]++; //å…¥åº¦åŠ ä¸€ } } topo(); write(ans); } ```","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æœ€çŸ­è·¯","slug":"æœ€çŸ­è·¯","permalink":"https://blog.yzcthinktwice.com/tags/æœ€çŸ­è·¯/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"},{"name":"æ‹“æ‰‘æ’åº","slug":"æ‹“æ‰‘æ’åº","permalink":"https://blog.yzcthinktwice.com/tags/æ‹“æ‰‘æ’åº/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P1306 æ–æ³¢é‚£å¥‘å…¬çº¦æ•°","slug":"P1306 æ–æ³¢é‚£å¥‘å…¬çº¦æ•°","date":"2020-01-06T11:13:02.000Z","updated":"2020-01-06T11:19:00.060Z","comments":true,"path":"2020/01/06/P1306 æ–æ³¢é‚£å¥‘å…¬çº¦æ•°/","link":"","permalink":"https://blog.yzcthinktwice.com/2020/01/06/P1306 æ–æ³¢é‚£å¥‘å…¬çº¦æ•°/","excerpt":"","text":"P1306 æ–æ³¢é‚£å¥‘å…¬çº¦æ•° æ•°å­¦ç»“è®º+çŸ©ä¹˜ç®€å•ä¼˜åŒ– ç”±äºæ•°å­¦ç»“è®ºè¯æ˜è¿‡äºå·§å¦™ï¼Œè¿™é‡Œä»…æ”¾å‡ºæˆ‘çœ‹çš„é‚£ç¯‡é¢˜è§£ é¢˜è§£ï¼šè½¬è½½ï¼šè§è¿™é‡Œ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int mod=1e8; struct mat{ int a[2][2]; mat(){memset(a,0,sizeof a);} inline mat operator * (const mat &amp;nt) const { mat res; for(int i=0;i&lt;=1;i++) for(int j=0;j&lt;=1;j++) for(int k=0;k&lt;=1;k++) res.a[i][j]=(1ll*res.a[i][j]+1ll*a[i][k]*nt.a[k][j]%mod)%mod; return res; } }A,B; mat mpow(mat x,int y){ mat res; for(int i=0;i&lt;=1;i++) res.a[i][i]=1; for(;y;y&gt;&gt;=1,x=x*x) if(y&amp;1) res=res*x; return res; } int n,m; signed main(){ read(n);read(m); A.a[0][0]=A.a[0][1]=1; B.a[0][1]=B.a[1][0]=B.a[1][1]=1; write((A*mpow(B,__gcd(n,m)-1)).a[0][0]); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://blog.yzcthinktwice.com/tags/æ•°å­¦/"},{"name":"çŸ©é˜µä¹˜æ³•","slug":"çŸ©é˜µä¹˜æ³•","permalink":"https://blog.yzcthinktwice.com/tags/çŸ©é˜µä¹˜æ³•/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"},{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"https://blog.yzcthinktwice.com/tags/è½¬è½½/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1055F Tree and XOR","slug":"CF1055F Tree and XOR","date":"2020-01-06T11:13:01.000Z","updated":"2020-01-06T11:16:01.129Z","comments":true,"path":"2020/01/06/CF1055F Tree and XOR/","link":"","permalink":"https://blog.yzcthinktwice.com/2020/01/06/CF1055F Tree and XOR/","excerpt":"","text":"CF1055F Tree and XOR æ€è·¯ç®—æ³•éš¾åº¦åŒé«˜çš„ä¸€é“trieæ ‘é¢˜ç›®ï¼Œä»£ç æ˜¯æˆ‘çœ‹åˆ«äººçš„æ‰“çš„ï¼Œç„¶åä½¿ç”¨çªçœ¼æ³•æ€è€ƒäº†åŠå¤©æ‰æœ‰äº†æ‡‚äº†äº›é—¨è·¯ é¢˜è§£ï¼šå…ˆæ˜¯å¯¹é¢˜æ„çš„ä¸€äº›ç®€å•è½¬æ¢ï¼šç”±äºå¯¹äºæ¯ä¸€æ¡xoré“¾éƒ½å¯ä»¥çœ‹æˆæ˜¯ä¸¤ä¸ªæ•°ï¼ˆxorå‰ç¼€ï¼‰çš„ç»“æœï¼Œæ‰€ä»¥é¢˜ç›®å˜æˆäº†å¯¹äºé•¿åº¦ä¸º$n$çš„æ•°åˆ—$val_i$ï¼ˆä¹Ÿå°±æ˜¯xorå‰ç¼€ï¼‰ï¼Œæ±‚ä¸¤ä¸¤å¼‚æˆ–ç»“æœçš„ç¬¬$k$å°å€¼ ä¸‹é¢å¼€å§‹æ­£æ–‡ï¼š æˆ‘ä»¬è€ƒè™‘ä»¥è´ªå¿ƒçš„æ€è·¯ä»é«˜åˆ°ä½é€ä½æ¨å‡ºansæ¯ä¸€ä½çš„å€¼ æ„å»ºtrieæ ‘çš„åŒæ—¶ï¼Œå¯¹äºæ¯ä¸€ä¸ª$val_i$ï¼Œæˆ‘ä»¬è®¡ç®—å‡ºåœ¨å½“å‰ç­”æ¡ˆè¿›åº¦ä¸‹ï¼Œä¸å®ƒé…å¯¹æ‰€èƒ½å¾—åˆ°0çš„æ–¹æ¡ˆæ•°$cnt$ï¼Œå‡å¦‚æ¯”å½“å‰å‰©ä½™çš„$k$å€¼å°ï¼Œå°±åœ¨$k$ä¸­å‡æ‰$cnt$ï¼Œä¸”å½“å‰ä½ç­”æ¡ˆåº”ä¸º1ï¼Œå¦åˆ™0 (ä¸Šé¢çš„è¯å¯èƒ½å¾ˆç„ä¹ï¼Œæ¯•ç«Ÿæ˜¯æ´›è°·é»‘é¢˜CF2800ptå‘¢ï¼Œæˆ‘äº‰å–å†è®²æ¸…æ¥šç‚¹) åœ¨æŸä¸€å±‚ä¸Šï¼Œéå†æ—¶å¯¹äºtrieæ ‘ä¸Šçš„ä¸¤æ¡é“¾ï¼Œæˆ‘ä»¬å‘ç°ä¼šæœ‰ä¸‰ç§æƒ…å†µï¼Œä¸€ç§æ˜¯å°äºç­”æ¡ˆçš„ï¼Œæˆ‘ä»¬ä¼šåœ¨å‡cntæ—¶å‡æ‰å¹¶æ¢ä¸€æ¡é“¾ç»§ç»­ä¾¿åˆ©ï¼ˆå› ä¸ºå¦ä¸€æ¡ä¸€å®šæ˜¯æ›´å¤§çš„ï¼‰ï¼›ä¸€ç§æ˜¯å¤§äºç­”æ¡ˆçš„ï¼Œæˆ‘ä»¬ä¸ä¼šå»ç®¡ï¼ˆéå†ï¼‰å®ƒï¼›è¿˜æœ‰ä¸€ç§æ˜¯ï¼ˆå¯èƒ½ï¼‰ç­‰äºç­”æ¡ˆçš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¦ä»ä¸Šåˆ°ä¸‹éå†çš„ï¼Œæ³¨æ„åˆ°å› ä¸ºæ˜¯ä¸¤æ¡é“¾ï¼Œå› æ­¤å¯¹äºæ¯ä¸ª$val_i$è‡ªå·±çš„é“¾ï¼ˆä»£ç ä¸­æ˜¯$a[i]$ï¼‰ï¼Œè¿˜è¦é¢å¤–è®°ä¸€æ¡èƒ½ä¸å®ƒå¼‚æˆ–å‡ºç­”æ¡ˆçš„é“¾ï¼ˆä»£ç ä¸­æ˜¯$b[i]$ï¼‰ è¿™æ ·å°±æ˜¯ä¸€ä¸ªæ—¶ç©º$O(62*N)$çš„ç®—æ³• æ€è·¯è²Œä¼¼æœ‰äº†å‘¢ï¼Œä½†ä»£ç éš¾åº¦è¿˜æ˜¯ååˆ†é«˜çš„ å› ä¸ºè¿˜æœ‰å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œç”±äºæœ´ç´ çš„trieå†…å­˜ä¼šç‚¸ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è€ƒè™‘æ»šå­˜trieæ ‘ï¼ˆç„¶åä¼šä½¿ä»£ç å¯è¯»æ€§æåº¦ä¸‹é™ï¼Œå¯¼è‡´è’Ÿè’»æˆ‘ä¸€å¼€å§‹éš¾ä»¥ç†è§£ï¼‰ trieæ ‘æ»šå­˜çš„å¤§è‡´æ€è·¯æ˜¯ç”±äºä¸€å±‚æœ€å¤šåªæœ‰$n$ä¸ªç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬åªä¿å­˜æ”¹å±‚$n$ä¸ªç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œå¹¶å¯¹äºæ¯ä¸ª$val_i$è®°ä¸¤ä¸ªæŒ‡é’ˆ$a[i]$å’Œ$b[i]$ï¼ˆä¸Šé¢æœ‰æåˆ°ï¼‰ï¼Œä¸€ä¸ªæ˜¯è‡ªå·±çš„ï¼Œä¸€ä¸ªæ˜¯è¦ä¸è‡ªå·±åŒ¹é…çš„é“¾çš„ï¼Œæ¯æ¬¡å¼€å§‹å¤„ç†æ–°çš„ä¸€å±‚ï¼Œå¤„ç†æŒ‡é’ˆæ•°ç»„éƒ½è¦æ¸…ç©ºï¼Œåœ¨æ ¹æ®ä¸Šä¸€å±‚çš„æŒ‡é’ˆæ•°ç»„æ„å»ºå‡ºè¿™ä¸€å±‚çš„trieæ ‘ï¼Œä¸ºå•¥è¿™ä¸ä¼šå¯¼è‡´èŠ‚ç‚¹æ··ä¹±å‘¢ï¼Ÿå¤§æ¦‚æ˜¯å› ä¸ºå¦‚æœä¸Šä¸€å±‚ä¸¤ä¸ª$val_i$æŒ‡å‘åŒä¸€ä¸ªèŠ‚ç‚¹çš„è¯ï¼Œä»–ä»¬åœ¨æ–°å»ºçš„èŠ‚ç‚¹ä¸­çš„â€œæŒ‡å‘â€ä¹Ÿä¸ä¼šå‘ç”Ÿæ”¹å˜ è¿™æ ·ï¼Œç©ºé—´å¤æ‚åº¦å°±é™åˆ°äº†$O(n)$ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e6+5; int n,a[N],b[N],ch[N][2],sz[N]; /*a[]b[]ä¸Šæ–‡æœ‰è®²ï¼Œch[i][0/1]è¡¨ç¤ºval[i]çš„å·¦å³èŠ‚ç‚¹ç¼–å·ï¼Œsz[]è¡¨ç¤ºæœ‰å¤šå°‘val[i]ç»è¿‡è¿™ä¸ªèŠ‚ç‚¹*/ long long sum,ans,k,val[N]; signed main(){ read(n);read(k); a[1]=b[1]=1; //1è¡¨ç¤ºtrieæ ‘çš„æ ¹èŠ‚ç‚¹ for(int i=2;i&lt;=n;i++){ int x;long long y; read(x);read(y); val[i]=y^val[x]; //çˆ¶èŠ‚ç‚¹ç¼–å·ä¿è¯å°äºè‡ªå·±ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥O(1)ç»´æŠ¤xorå‰ç¼€ a[i]=b[i]=1; } for(int i=61;i&gt;=0;i--){ int cnt=0;sum=0; for(int j=1;j&lt;=n;j++) ch[j][0]=ch[j][1]=sz[j]=0; //æ¸…ç©ºä¸Šä¸€å±‚çš„ for(int j=1;j&lt;=n;j++){ int &amp;p=ch[a[j]][val[j]&gt;&gt;i&amp;1]; //æ ¹æ®æŒ‡é’ˆå»ºæ–°ç‚¹ if(!p) p=++cnt; sz[a[j]=p]++; } for(int j=1;j&lt;=n;j++) sum+=sz[ch[b[j]][val[j]&gt;&gt;i&amp;1]]; //ç»Ÿè®¡åœ¨â€œå¯èƒ½ç›¸ç­‰â€ä¸­ä¼šäº§ç”Ÿå‡ å¯¹0 int op=0; //opæ˜¯å½“å‰ä½çš„ç­”æ¡ˆ if(sum&lt;k) k-=sum,op=1,ans|=1ll&lt;&lt;i; for(int j=1;j&lt;=n;j++) b[j]=ch[b[j]][val[j]&gt;&gt;i&amp;1^op]; //çœ‹çœ‹bæŒ‡é’ˆæ˜¯å¦è¦æ¢ä¸€æ¡é“¾ } write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"https://blog.yzcthinktwice.com/tags/è´ªå¿ƒ/"},{"name":"å­—å…¸æ ‘","slug":"å­—å…¸æ ‘","permalink":"https://blog.yzcthinktwice.com/tags/å­—å…¸æ ‘/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P2048 [NOI2010]è¶…çº§é’¢ç´","slug":"P2048 [NOI2010]è¶…çº§é’¢ç´","date":"2020-01-06T11:13:00.000Z","updated":"2020-01-06T11:14:45.523Z","comments":true,"path":"2020/01/06/P2048 [NOI2010]è¶…çº§é’¢ç´/","link":"","permalink":"https://blog.yzcthinktwice.com/2020/01/06/P2048 [NOI2010]è¶…çº§é’¢ç´/","excerpt":"","text":"P2048 [NOI2010]è¶…çº§é’¢ç´ ä»£ç éš¾åº¦ä½ï¼Œä½†æ€ç»´éš¾åº¦è¾ƒé«˜ä¸”æä¸ºå·§å¦™çš„ä¸€é“é¢˜ é¢˜è§£ï¼šè¶…çº§å’Œå¼¦æœ‰å¾ˆå¤šé€‰æ‹©ï¼Œä½†å¯¹äºå·¦ç«¯ç‚¹åªæœ‰$n-l+1$ç§é€‰æ‹© å…ˆæ€è€ƒä¸€ä¸ªå­é—®é¢˜ï¼šå›ºå®šä¸€ä¸ªå·¦ç«¯ç‚¹$x$ï¼Œå¦‚ä½•$O(1)$åœ¨$[x+l-1,x+r-1]$å†…é€‰æ‹©å³ç«¯ç‚¹$y$ä½¿å¾—$\\sum\\limits_{i=x}^{y}a_i$æœ€å¤§ï¼Ÿ è€ƒè™‘å‰ç¼€å’Œ$pre_i=\\sum\\limits_{j=1}^{i}a_j$ï¼Œåˆ™$\\sum\\limits_{i=x}^{y}a_i=pre_y-pre_{x-1}$ ç”±äºå·¦ç«¯ç‚¹$x$å›ºå®šæ‰€ä»¥$pre_{x-1}$æ˜¯å®šå€¼ï¼Œæ‰€ä»¥åªéœ€è¦æ‰¾å‡º$pre_y$çš„æœ€å°å€¼çš„ä¸‹æ ‡å³å¯ è¿™å°±å˜æˆäº†ä¸€ä¸ªæ— ä¿®æ”¹çš„rmqé—®é¢˜ï¼Œç”¨stè¡¨å¯ä»¥åšåˆ°$O(1)$è§£å†³ è¿™æ ·æˆ‘ä»¬å¯ä»¥$O(n)$æšä¸¾å·¦ç«¯ç‚¹å¹¶é€šè¿‡stè¡¨ç®—å‡ºæœ€ä¼˜çš„å³ç«¯ç‚¹ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†$n-l+1$æ¡å·¦ç«¯ç‚¹å„å¼‚çš„è¶…çº§å’Œå¼¦ï¼Œå¹¶ä¸”æ˜¾ç„¶çš„ï¼Œå…¶ä¸­ä¸€æ¡ä¸€å®šæ˜¯å…¨å±€æœ€ä¼˜çš„ è€ƒè™‘é€šè¿‡è¿™äº›å’Œå¼¦ç®—å‡ºæ¬¡ä¼˜çš„ å¯¹äºä¸æ˜¯æœ€ä¼˜çš„å’Œå¼¦ï¼Œæˆ‘ä»¬ä¿ç•™ï¼Œå¯¹äºæœ€ä¼˜å’Œå¼¦ï¼Œæˆ‘ä»¬æ‹†åˆ† å› ä¸ºæœ€ä¼˜å’Œå¼¦çš„å³ç«¯ç‚¹å°±å¥½æ¯”äºŒåˆ†ç­”æ¡ˆçš„æŒ‡é’ˆï¼Œä¸­é—´æ‰¾è¿‡äº†å°±å¾€å·¦å³ä¸¤è¾¹æ‰¾ï¼Œåˆ†è£‚å‡ºä¸¤ä¸ªå·¦ç«¯ç‚¹ä¸å˜ä½†å³ç«¯ç‚¹æ”¹å˜çš„å±€éƒ¨æœ€ä¼˜å’Œå¼¦ è€ƒè™‘å°†è¿™ä¸¤æ¡å’Œå¼¦ä¸å…¶å®ƒä¿ç•™çš„å’Œå¼¦æ¯”è¾ƒï¼Œé€‰å‡ºå½“å‰æœ€ä¼˜çš„ æ˜¾ç„¶çš„ï¼Œè¿™ç§æ–¹æ³•æ˜¯å…·æœ‰æ™®éæ€§çš„ï¼Œå› æ­¤å¯ä»¥æ¨å¹¿å¼€å»ï¼Œæ±‚å‡ºå‰$k$æ¡æœ€ä¼˜å’Œå¼¦ å¦å¤–ï¼Œå¯¹äºâ€œæ¯”è¾ƒæœ€ä¼˜å’Œå¼¦â€è¿™ä¸€æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¼˜å…ˆé˜Ÿåˆ—å¿«é€Ÿå®ç° ç”±äºä¸€æ¬¡æœ€å¤šå‡ºä¸¤æ¡æ–°çš„ï¼Œå› æ­¤æ€»å¤æ‚åº¦æ˜¯$O(k\\log(n+k))$ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=5e5+5; int n,m,l,r,f[N][21]; long long ans,pre[N]; struct exstr{ int x,l,r,a; /*x=start l=left_limit_of_map_range r=right_limit_of_map_range a=aim*/ inline bool operator &lt; (const exstr &amp;nt) const { return pre[a]-pre[x-1]&lt;pre[nt.a]-pre[nt.x-1]; } }; priority_queue&lt;exstr&gt; q; int max(int x,int y){ return pre[x]&gt;pre[y]?x:y; } void init(){ for(int i=1;i&lt;=n;i++) f[i][0]=i; //å­˜çš„æ˜¯ä¸‹æ ‡ï¼Œæ¯”è¾ƒçš„æ˜¯å‰ç¼€å’Œ int lg=log2(n); for(int j=1;j&lt;=lg;j++) for(int i=1;i&lt;=n;i++) if(i+(1&lt;&lt;j)-1&lt;=n) f[i][j]=max(f[i][j-1],f[i+(1&lt;&lt;(j-1))][j-1]); } int rmq(int l,int r){ int k=log2(r-l+1); return max(f[l][k],f[r-(1&lt;&lt;k)+1][k]); } exstr mk(int x,int l,int r){ return (exstr){x,l,r,rmq(l,r)}; //åœ¨[l,r]åŒºé—´é‡Œæ‰¾ä¸ªæœ€ä¼˜çš„å³ç«¯ç‚¹ } signed main(){ read(n);read(m);read(l);read(r); for(int i=1,x;i&lt;=n;i++) pre[i]=pre[i-1]+read(x); //æå‡ºå‰ç¼€å’Œ init(); //é¢„å¤„ç†stè¡¨ for(int i=1;i+l-1&lt;=n;i++) //æšä¸¾å·¦ç«¯ç‚¹ q.push(mk(i,i+l-1,min(i+r-1,n))); while(m--){ exstr x=q.top(); q.pop(); ans+=pre[x.a]-pre[x.x-1]; if(x.a^x.l) q.push(mk(x.x,x.l,x.a-1)); //æ²¡ç¢°åˆ°å·¦ç«¯ç‚¹å°±æ‹† if(x.a^x.r) q.push(mk(x.x,x.a+1,x.r)); //æ²¡ç¢°åˆ°å³ç«¯ç‚¹å°±æ‹† } write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"},{"name":"stè¡¨","slug":"stè¡¨","permalink":"https://blog.yzcthinktwice.com/tags/stè¡¨/"},{"name":"ä¼˜å…ˆé˜Ÿåˆ—","slug":"ä¼˜å…ˆé˜Ÿåˆ—","permalink":"https://blog.yzcthinktwice.com/tags/ä¼˜å…ˆé˜Ÿåˆ—/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"å¼€å­¦!","slug":"å¼€å­¦!","date":"2020-01-01T23:00:00.000Z","updated":"2020-01-06T11:29:02.389Z","comments":true,"path":"2020/01/02/å¼€å­¦!/","link":"","permalink":"https://blog.yzcthinktwice.com/2020/01/02/å¼€å­¦!/","excerpt":"","text":"ä»Šå¤©å¼€å­¦ï¼","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"https://blog.yzcthinktwice.com/categories/æ—¥è®°/"}],"tags":[],"keywords":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"https://blog.yzcthinktwice.com/categories/æ—¥è®°/"}]},{"title":"CF455B A Lot of Games","slug":"CF455B A Lot of Games","date":"2019-12-31T15:58:02.000Z","updated":"2020-01-06T11:11:14.865Z","comments":true,"path":"2019/12/31/CF455B A Lot of Games/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/31/CF455B A Lot of Games/","excerpt":"","text":"CF455B A Lot of Games ä¸€é“trieæ ‘ä¸Šåšå¼ˆå¥½é¢˜ï¼Œè€ƒå¯Ÿäº†å¯¹äºåšå¼ˆçŠ¶æ€çš„è®¾è®¡ æˆ‘æ˜¯ä»è¿™ç¯‡é¢˜è§£å¾—åˆ°å¯ç¤ºçš„ é¢˜è§£ï¼šå…ˆåªè€ƒè™‘å…¶ä¸­ä¸€åœºåšå¼ˆ å¯¹äºnä¸ªå•è¯å»ºå‡ºå®ƒä»¬çš„trieæ ‘ å¯¹äºtrieæ ‘ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹è®¾è®¡å››ç§çŠ¶æ€ï¼šå¿…èƒœï¼Œå¿…è´¥ï¼Œèƒœè´¥ä¸»åŠ¨ï¼ˆç”±è‡ªå·±å†³å®šï¼‰ï¼Œèƒœè´¥è¢«åŠ¨ï¼ˆç”±å¯¹æ‰‹å†³å®šï¼‰ ç”±é¢˜æ„å¯å¾—ï¼Œå¶å­ç»“ç‚¹éƒ½æ˜¯å¿…èƒœæ€çš„ï¼Œç„¶åå°±ä¼šæœ‰å››ç§è½¬ç§»ï¼š è‹¥å„¿å­ä¸­æœ‰ä¸»åŠ¨ç‚¹ï¼Œé‚£ä¹ˆå¯¹æ‰‹è‚¯å®šä¼šèµ°é‚£ä¸ªç‚¹ï¼Œæ‰€ä»¥å½“å‰ç‚¹æ˜¯è¢«åŠ¨ç‚¹ è‹¥å„¿å­ä¸­å¿…èƒœå¿…è´¥ä¸¤ç§ç‚¹éƒ½æœ‰ï¼Œé‚£ä¹ˆå¯¹æ‰‹å¯ä»¥éšä¾¿é€‰ï¼Œæ‰€ä»¥å½“å‰ç‚¹æ˜¯è¢«åŠ¨ç‚¹ è‹¥å„¿å­ä¸­åªæœ‰è¢«åŠ¨ç‚¹ï¼Œé‚£ä¹ˆå¯¹æ‰‹æ˜¯çœŸçš„è¢«åŠ¨ï¼Œæ‰€ä»¥å½“å‰ç‚¹æ˜¯ä¸»åŠ¨ç‚¹ è‹¥å„¿å­åªæœ‰å¿…èƒœç‚¹ï¼Œå½“å‰ç‚¹è‚¯å®šæ˜¯å¿…è´¥ç‚¹ï¼›è‹¥å„¿å­åªæœ‰å¿…è´¥ç‚¹ï¼Œå½“å‰ç‚¹è‚¯å®šæ˜¯å¿…èƒœç‚¹ ç”±ä¸‹å¾€ä¸Šå¤„ç†å‡ºæ¯ä¸ªç‚¹çš„åšå¼ˆæ€åï¼Œæˆ‘ä»¬å¯¹äºtrieçš„æ ¹èŠ‚ç‚¹ï¼ˆå¯ä»¥çœ‹æˆæ˜¯æŠŠå¯¹æ‰‹å½“æˆå·²ç»å†³ç­–è¿‡çš„å…ˆæ‰‹ï¼‰çš„çŠ¶æ€å†æ¬¡è¿›è¡Œåˆ†ç±»è®¨è®ºï¼š å…ˆæ‰‹å¿…è´¥ä¼šæœ‰ä¸‰ç§æƒ…å†µï¼š æ ¹èŠ‚ç‚¹æ˜¯ä¸ªä¸»åŠ¨ç‚¹ é‚£ä¹ˆå¯¹æ‰‹å¯ä»¥å…ˆæ•…æ„è¾“k-1å±€ä¿è¯ä¸»åŠ¨ç„¶åå†èµ¢ä¸€å±€ æ ¹èŠ‚ç‚¹æ˜¯ä¸ªå¿…èƒœç‚¹ é‚£ä¹ˆæ— è®ºæ€ä¹ˆç©éƒ½æ˜¯å¯¹æ‰‹èµ¢ æ ¹èŠ‚ç‚¹æ˜¯ä¸ªå¿…è´¥ç‚¹ä½†æ˜¯kæ˜¯ä¸ªå¶æ•° é‚£ä¹ˆä¸¤äººäº¤æ›¿ç€å½“å…ˆæ‰‹ï¼Œå¶æ•°å±€åæ­£å¥½è½®åˆ°å¯¹æ‰‹è·èƒœ å…¶ä½™æƒ…å†µéƒ½æ˜¯å…ˆæ‰‹å¿…èƒœ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e5+5; int cnt,n,k; char s[N]; struct node{ int nxt[26],s; /* sè¡¨ç¤ºè¯¥èŠ‚ç‚¹çš„åšå¼ˆçŠ¶æ€=0/1/2/3 =0:å¿…è´¥ =1:å¿…èƒœ =2:ä¸»åŠ¨èƒœè´¥ =3:è¢«åŠ¨èƒœè´¥ */ }a[N]; void ins(char *s){ int x=0; for(int i=0;s[i];i++){ int k=s[i]-&#39;a&#39;; if(!a[x].nxt[k]) a[x].nxt[k]=++cnt; x=a[x].nxt[k]; } } void dfs(int x){ int son=0,cnt[4]={0}; for(int i=0;i&lt;26;i++) if(a[x].nxt[i]){ dfs(a[x].nxt[i]); son++; cnt[a[a[x].nxt[i]].s]++; } if(!son){ a[x].s=1; return ; } if(cnt[0]) a[x].s=1; if(cnt[1]) a[x].s=0; if(cnt[0]&amp;&amp;cnt[1]) a[x].s=3; if(cnt[3]==son) a[x].s=2; if(cnt[2]) a[x].s=3; } signed main(){ read(n);read(k); for(int i=1;i&lt;=n;i++){ scanf(&quot;%s&quot;,s); ins(s); } dfs(0); if(a[0].s==2){ puts(&quot;Second&quot;); return 0; } if(a[0].s==0&amp;&amp;!(k&amp;1)){ puts(&quot;Second&quot;); return 0; } if(a[0].s==1){ puts(&quot;Second&quot;); return 0; } puts(&quot;First&quot;); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"åšå¼ˆè®º","slug":"åšå¼ˆè®º","permalink":"https://blog.yzcthinktwice.com/tags/åšå¼ˆè®º/"},{"name":"å­—å…¸æ ‘","slug":"å­—å…¸æ ‘","permalink":"https://blog.yzcthinktwice.com/tags/å­—å…¸æ ‘/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1270X Good Bye 2019","slug":"CF1270X Good Bye 2019","date":"2019-12-30T15:59:04.000Z","updated":"2019-12-30T13:35:14.493Z","comments":true,"path":"2019/12/30/CF1270X Good Bye 2019/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/30/CF1270X Good Bye 2019/","excerpt":"","text":"CF1270X Good Bye 2019 2019å¹´çš„æœ€åä¸€åœºCFï¼Œå‚åŠ çš„äººå¾ˆå¤šï¼ŒæŒ‰ç†è¯´ä¸Šåˆ†æ›´å®¹æ˜“ï¼Œä½†æˆ‘æ²¡æœ‰æŠŠæ¡ä½æœºä¼šï¼Œå·®ç‚¹å˜æˆgoodbye rating 2019 ä½œä¸ºéš¾å¾—çš„9é¢˜åœºï¼Œé¢˜ç›®è´¨é‡å¾ˆé«˜ï¼Œå›Šæ‹¬äº†å‡ ä½•é¢˜ï¼Œæ„é€ é¢˜ï¼Œäº¤äº’é¢˜ï¼Œæ•°å­¦é¢˜ç­‰ç­‰ï¼Œäºæ˜¯æˆ‘æ¥ç»Ÿä¸€å†™ç¯‡é¢˜è§£ï¼ŒåŒ…æ‹¬é¢˜Aã€Bã€Cã€Dã€Eã€Gã€‚ï¼ˆFå…ˆå’•ç€ï¼Œæˆ‘çœ‹æ‡‚å†è¯´ï¼‰ CF1270A Card Gameé¢˜æ„ï¼šä¸¤ä¸ªäººæ‰“ç‰Œï¼Œç‰Œå¯ä»¥é‡å¤å‡ºï¼Œä¿è¯ç‰Œçš„ç‚¹æ•°ä¸åŒï¼Œç‚¹æ•°å¤§çš„äººè·èƒœ é¢˜è§£ï¼šæ°´å‡ºå¤©é™…çš„ä¸€é“é¢˜ï¼Œçœ‹çœ‹ç¬¬ä¸€ä¸ªäººé‚£æœ‰æ²¡æœ‰ç‰Œnå°±è¡Œäº† ä»£ç ï¼švoid doit(){ int n,a,b; bool flag=0; read(n);read(a);read(b); for(int i=1,x;i&lt;=a;i++){ read(x); if(x==n) flag=1; } for(int i=1,x;i&lt;=b;i++) read(x); if(flag) puts(&quot;YES&quot;); else puts(&quot;NO&quot;); } CF1270B Interesting Subarrayé¢˜æ„ï¼šç»™å‡ºä¸€ä¸ªåºåˆ—ï¼Œè¯·æ„é€ å‡ºä¸€ä¸ªæ‰€ç»™åºåˆ—çš„å­åºåˆ—ï¼Œä½¿å¾—è¯¥å­åºåˆ—ä¸­çš„æœ€å¤§å€¼-æœ€å°å€¼&gt;=å­åºåˆ—é•¿åº¦ é¢˜è§£ï¼šç”±äºæ²¡æœ‰é•¿åº¦é™åˆ¶ï¼Œå› æ­¤åªè¦$O(n)$æ‰«ä¸€éåˆ¤æ–­æ¯ä¸ªé•¿åº¦ä¸º2çš„å­åºåˆ—ï¼ˆä¹Ÿå°±æ˜¯ç›¸é‚»çš„ä¸¤ä¸ªæ•°ï¼‰æ˜¯å¦åˆæ³•å³å¯ ä»£ç ï¼švoid doit(){ int n,flag=0; read(n); for(int i=1;i&lt;=n;i++){ read(a[i]); if(i==1) continue; if(abs(a[i]-a[i-1])&gt;1) flag=i-1; } if(flag){ puts(&quot;YES&quot;); write(flag);putchar(&#39; &#39;);write(flag+1);puts(&quot;&quot;); } else{ puts(&quot;NO&quot;); } } CF1270C Make Goodé¢˜æ„ï¼šç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸º$n$çš„åºåˆ—$a_1â€¦a_n$ï¼Œè¯·éšæ„æ·»åŠ $k$ä¸ªæ•°$a_{n+1}â€¦a_{n+k}$ï¼Œæ»¡è¶³$k\\in[0,3]$ï¼Œä½¿å¾—$\\sum\\limits_{i=1}^{n+k}a_i=2\\cdot\\oplus_{i=1}^{n+k}a_i$ é¢˜è§£ï¼šå› ä¸ºæ²¡æœ‰è¦æ±‚æœ€å°åŒ–$k$ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘è¿™æ ·æ„é€ ï¼šå…ˆæ·»åŠ ä¸€ä¸ªæ•°$a_{n+1}$ä½¿å¾—$\\oplus_{i=1}^{n+1}a_i=0$ï¼Œç”±äºå¼‚æˆ–çš„æ€§è´¨ï¼Œè¿™æ˜¯ååˆ†å®¹æ˜“å®ç°çš„ï¼š$a_{n+1}=\\oplus_{i=1}^{n}a_i$ æ­¤æ—¶å¯ä»¥æŠŠè¿™$n+1$ä¸ªæ•°çœ‹åšå¸¸æ•°ï¼Œæˆ‘ä»¬è¿˜è¦æ·»åŠ çš„æ•°$a_{n+2}$ä¸ºæœªçŸ¥æ•°ï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ªä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹$\\sum\\limits_{i=1}^{n+1}+a_{n+2}=2*a_{n+2}$ï¼Œä¾å¼åŒ–ç®€ç®—å‡ºå°±å¯ä»¥å¾—åˆ°$a_{n+2}$ è¿™æ ·ï¼Œæ— è®ºç»™å‡ºæ€æ ·çš„åºåˆ—$a$ï¼Œéƒ½åªéœ€è¦æ·»åŠ è‡³å¤šä¸¤ä¸ªæ•°$a_{n+1}$å’Œ$a_{n+2}$å°±å¯ä»¥æ»¡è¶³æ¡ä»¶ ä»£ç ï¼švoid doit(){ int n,sum=0,p=0; read(n); for(int i=1,x;i&lt;=n;i++) p^=read(x),sum+=x; puts(&quot;2&quot;); write(p),putchar(&#39; &#39;);write(p+sum); puts(&quot;&quot;); } CF1270D Strange Deviceçœ‹è¿™é‡Œ CF1270E Divide Pointsçœ‹è¿™é‡Œ CF1270G Subset with Zero Sumçœ‹è¿™é‡Œ","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ€»é›†","slug":"æ€»é›†","permalink":"https://blog.yzcthinktwice.com/tags/æ€»é›†/"},{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1270D Strange Device","slug":"CF1270D Strange Device","date":"2019-12-30T15:59:03.000Z","updated":"2019-12-30T13:28:45.703Z","comments":true,"path":"2019/12/30/CF1270D Strange Device/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/30/CF1270D Strange Device/","excerpt":"","text":"CF1270D Strange Device æ€ç»´é¢˜ï¼Œäº¤äº’é¢˜ï¼Œç°åœºè„‘æŠ½æ²¡æœ‰æ‰“å‡ºè„‘å­ä¸­çš„æ­£ç¡®ç®—æ³•ï¼Œå¯¼è‡´æ’åå¹¶ä¸æ˜¯å¾ˆé«˜ï¼Œç›´æ¥å¯¼è‡´äº†æ–°å¹´ä¸Šç´«å¤±è´¥ é¢˜æ„ï¼šç»™å‡º$n$å’Œ$k$ï¼Œè®©ä½ æ±‚$m$ å…¶ä¸­$n$è¡¨ç¤º$n$ä¸ªæ•°ï¼Œ$k$è¡¨ç¤ºæ¯æ¬¡ä½ å¯ä»¥è¯¢é—®çš„æ•°çš„ä¸ªæ•°ï¼Œ$m$æ˜¯å¯¹äºä½ çš„è¯¢é—®ï¼Œäº¤äº’å™¨è¿”å›çš„æ˜¯ä½ æ‰€è¯¢é—®$k$ä¸ªæ•°ä¸­çš„ç¬¬$m$å°æ•° ç‰¹åˆ«çš„ï¼Œnä¸ªæ•°äº’ä¸ç›¸åŒ è§„å®šè¯¢é—®æ ¼å¼ä¸ºï¼š $k$ä¸ª$\\in[1,n]$äº’ä¸ç›¸åŒçš„æ•°ï¼Œè¡¨ç¤ºä¸‹æ ‡ è§„å®šäº¤äº’å™¨å›ç­”ä½ çš„è¯¢é—®çš„æ ¼å¼ä¸ºï¼š ä¸¤ä¸ªæ•°$x$å’Œ$y$ï¼Œå…¶ä¸­$x$æ˜¯è¿™$k$ä¸ªæ•°ä¸­ç¬¬$m$å°æ•°çš„ä¸‹æ ‡ï¼Œ$y=a_x$ é¢˜è§£ï¼šé¢˜ç›®ç»™å‡ºäº†$n$ä¸ªæ•°ï¼Œä½†å…¶å®æˆ‘ä»¬åªéœ€è¦ç”¨åˆ°$k+1$ä¸ªæ•° ä¸ºäº†æ–¹ä¾¿è§£é‡Šï¼Œè§„å®š$ask(x) [x\\in[1,k+1]]$è¡¨ç¤ºä¸€æ¬¡ä»$1$åˆ°$k+1$çš„è¯¢é—®ï¼Œä½†ä¸åŒ…æ‹¬ä¸‹æ ‡$x$ å…ˆ$ask(k+1)$ï¼Œè®°è¿”å›çš„$x$ä¸º$pos$ï¼Œ$y$ä¸º$p$ å†$ask(pos)$ï¼Œè®°è¿”å›çš„$y$ä¸º$q$ é€šè¿‡ä¸¤æ¬¡è¯¢é—®æˆ‘ä»¬å¯ä»¥å¾—å‡º$a_{pos}$å’Œ$a_{k+1}$å¤§å°å…³ç³» åˆ¤æ–­æ–¹æ³•ä¸ºï¼šè‹¥$q&gt;p$åˆ™$a_{k+1}&gt;a_{pos}$ï¼Œå¦åˆ™$a_{k+1}&lt;a_{pos}$ ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¯ä»¥ç±»æ¯”ä¸€ä¸‹å¹³å‡æ•°ï¼Œæ›´æ¢ä¸€ä¸ªæ•°å°±æ˜¯åœ¨ä¿®æ”¹å¹³å‡æ•°çš„æƒé‡ ç„¶åå†åš$k-1$æ¬¡è¯¢é—®$ask(x) [x\\in[1,k] | x\\neq pos]$ è®°æ¯æ¬¡è¯¢é—®çš„åˆ°çš„$y$ä¸º$num$ï¼Œå‰$k$ä¸ªæ•°ä¸­æ¯”$p$å°çš„æ•°æœ‰$cnt$ä¸ª æ ¹æ®ä¸Šæ–‡å¾—å‡ºçš„$a_{pos}$å’Œ$a_{k+1}$å¤§å°å…³ç³»è¿›è¡Œå¦‚ä¸‹åˆ†ç±»è®¨è®ºï¼š $a_{pos}&lt;a_{k+1}$ æ­¤æ—¶è‹¥$num=p$åˆ™è¯´æ˜åªæ˜¯åœ¨æ¯”$p$å°çš„æ•°é‡Œåšäº†ä¸ªäº¤æ¢ï¼Œ$cnt+1$ $a_{pos}&gt;a_{k+1}$ æ­¤æ—¶è‹¥$num!=p$åˆ™è¯´æ˜æ˜¯ä»æ¯”$p$å°çš„æ•°é‡Œé€‰äº†ä¸ªæ•°åšäº¤æ¢ï¼Œ$cnt+1$ æœ€åçš„ç­”æ¡ˆ$m=cnt+1$ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } int n,k,ka,kb,pa,pb,ans,op; void print(int x){ printf(&quot;? &quot;); for(int i=1;i&lt;=k+1;i++) if(i^x) printf(&quot;%d &quot;,i); puts(&quot;&quot;); cout.flush(); } signed main(){ read(n);read(k); print(k+1); read(ka);read(kb); print(ka); read(pa);read(pb); op=pb&gt;kb; for(int i=1,x,y;i&lt;=k;i++) if(i^ka){ print(i); read(x);read(y); if(!op){ if(y==kb) ans++; } else{ if(y^kb) ans++; } } printf(&quot;! %d\\n&quot;,ans+1); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"æ„é€ ","slug":"æ„é€ ","permalink":"https://blog.yzcthinktwice.com/tags/æ„é€ /"},{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://blog.yzcthinktwice.com/tags/äº¤äº’/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1270E Divide Points","slug":"CF1270E Divide Points","date":"2019-12-30T15:59:02.000Z","updated":"2019-12-30T13:28:36.785Z","comments":true,"path":"2019/12/30/CF1270E Divide Points/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/30/CF1270E Divide Points/","excerpt":"","text":"CF1270E Divide Points ç¥ä»™é¢˜ï¼Œéœ€è¦ä¸€äº›å‡ ä½•å’Œä»£æ•°çš„ç›´è§‰ é¢˜æ„ï¼šç»™å‡º$n$ä¸ªç›´è§’åæ ‡ç³»ä¸Šçš„ç‚¹ï¼Œä¸¤ä¸¤è¿è¾¹ï¼Œç°è¦æ±‚å°†å®ƒä»¬åˆ†æˆä¸¤ä¸ªéç©ºç‚¹é›†ï¼Œä½¿å¾—åŒç‚¹é›†è¿è¾¹çš„é•¿åº¦ä¸ä¼šåœ¨å¼‚ç‚¹é›†è¿è¾¹çš„é•¿åº¦ä¸­æœ‰ç›¸åŒçš„å‡ºç° é¢˜è§£ï¼šé¦–å…ˆè¦æ„è¯†åˆ°è¿™ä¹ˆä¸€ç§åˆ’åˆ†æ–¹å¼ï¼šè®¾ç‚¹åæ ‡$(x,y)$ï¼Œç‰¹å¾å€¼$p=x+y$ï¼Œå°†$p$çš„å¥‡å¶æ€§ç›¸åŒçš„ç‚¹åˆ’åˆ†åœ¨ä¸€èµ· ä¸ºä»€ä¹ˆè¿™æ ·æ˜¯æ­£ç¡®çš„å‘¢ï¼Ÿå› ä¸º$p$å¥‡å¶æ€§ç›¸åŒçš„ç‚¹ä¹‹é—´çš„è¿è¾¹ä¸€å®šæ˜¯å¶æ•°çš„ï¼ˆæŒ‡ä¸å¼€æ ¹å·ï¼‰ï¼Œå¦åˆ™ä¸€å®šæ˜¯å¥‡æ•°çš„ï¼Œè¿™ä¸€ç‚¹æœ‰ç–‘é—®çš„è¯å¯ä»¥ç”¨ä»£æ•°ç®€å•çš„è¯æ˜å¾—åˆ° é—®é¢˜çœ‹èµ·æ¥å°±è¿™æ ·è§£å†³äº†ï¼Œä½†é¢˜ç›®è¿˜æœ‰ä¸€ä¸ªè¦æ±‚ï¼šç‚¹é›†éç©º è¿™æ ·å½“æ‰€æœ‰çš„$p$éƒ½æ˜¯å¥‡æ•°æˆ–éƒ½æ˜¯å¶æ•°æ—¶å°±ä¸åˆæ³•äº† æ€ä¹ˆåŠå‘¢ï¼Ÿä¸‹é¢å¼€å§‹ç¥ä»™æ“ä½œäº†ï¼š è€ƒè™‘å°†åŸå›¾å½¢ç­‰æ¯”ä¾‹ç¼©å°ä¸€åŠï¼ˆæŒ‡é¢ç§¯ï¼‰ï¼Œæ­¤æ—¶ä¸å˜çš„æ˜¯è¾¹ä¹‹é—´çš„å¤§å°å…³ç³»ï¼Œæ”¹å˜çš„æ˜¯æ¯ä¸ªç‚¹çš„$p$å€¼çš„å¥‡å¶æ€§ï¼Œè¿™ä¿è¯äº†ç»§ç»­ä½¿ç”¨ä¸Šè¿°åˆ’åˆ†æ–¹æ³•çš„æ­£ç¡®æ€§ é‚£å¦‚ä½•è®©å›¾å½¢ç¼©å°ä¸€åŠå‘¢ï¼Ÿè¿™å°±è¦ç”¨åˆ°åˆ‡æ¯”é›ªå¤«è·ç¦»äº† å…·ä½“çš„ï¼Œè‹¥åŸæ¥çš„ç‚¹$A$åæ ‡$(x,y)$ï¼Œé‚£å®ƒå˜æ¢åçš„å¯¹åº”ç‚¹$Aâ€™$å°±æ˜¯$(\\frac{x+y}{2},\\frac{x-y}{2})$ å½¢è±¡çš„ï¼Œå¯ä»¥çœ‹ä¸‹ä¸‹é¢è¿™å¼ å›¾ï¼š ï¼ˆå…¶å®ä¸ä»…ç¼©å°äº†ï¼Œè¿˜æ—‹è½¬äº†45åº¦å‘¢ï¼‰ ä¸ºå•¥è¿™ä¹ˆç¥å¥‡å‘¢ï¼Ÿæˆ‘ä¹Ÿä¸çŸ¥é“å“ˆqwq è¿™æ ·å°±å¯ä»¥å¯¹å›¾å½¢ä¸€ç›´åšè¿™ç§å˜æ¢ï¼Œç›´åˆ°æœ‰ä¸ªç‚¹çš„$p$çš„å¥‡å¶æ€§ä¸åŒäºå…¶å®ƒçš„ç‚¹ä¸ºæ­¢ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e3+5; int a[N],n,x[N],y[N]; vector&lt;int&gt; odd; signed main(){ read(n); for(int i=1;i&lt;=n;i++){ read(x[i]);read(y[i]); a[i]=x[i]+y[i]; if(a[i]&amp;1) odd.push_back(i); } while(odd.empty()||odd.size()==n){ odd.clear(); for(int i=1;i&lt;=n;i++){ int xx=x[i],yy=y[i]; x[i]=xx+yy&gt;&gt;1; y[i]=xx-yy&gt;&gt;1; a[i]=x[i]+y[i]; if(a[i]&amp;1) odd.push_back(i); } } write(odd.size());puts(&quot;&quot;); for(int i=0;i&lt;odd.size();i++) write(odd[i]),putchar(&#39; &#39;); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://blog.yzcthinktwice.com/tags/æ•°å­¦/"},{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"æ„é€ ","slug":"æ„é€ ","permalink":"https://blog.yzcthinktwice.com/tags/æ„é€ /"},{"name":"å‡ ä½•","slug":"å‡ ä½•","permalink":"https://blog.yzcthinktwice.com/tags/å‡ ä½•/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1270G Subset with Zero Sum","slug":"CF1270G Subset with Zero Sum","date":"2019-12-30T15:59:01.000Z","updated":"2019-12-30T13:29:14.900Z","comments":true,"path":"2019/12/30/CF1270G Subset with Zero Sum/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/30/CF1270G Subset with Zero Sum/","excerpt":"","text":"CF1270G Subset with Zero Sum å·§å¦™çš„æ€ç»´ã€æ„é€ é¢˜ é¢˜æ„ï¼šç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸º$n$çš„åºåˆ—$a$ï¼Œå…¶ä¸­$a_i\\in[i-n,i-1]$ ç°è®©ä½ ä»ä¸­é€‰å‡ºå‡ ä¸ªæ•°ï¼Œä½¿å¾—ä»–ä»¬çš„å’Œä¸º0 é¢˜è§£ï¼šå‘ç°$a_i$çš„èŒƒå›´å¾ˆç‰¹æ®Šï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥è€ƒè™‘æŠŠå®ƒæ‹†æˆ$i$å’Œ$i-a_i$ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­$i$æ˜¯å®ƒçš„æ­£è´¡çŒ®ï¼Œ$i-a_i$æ˜¯å®ƒçš„è´Ÿè´¡çŒ® æ„é€ æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼šå°†$a_i$çœ‹ä½œä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»ä»»æ„ä¸€ä¸ªç‚¹å‡ºå‘ï¼Œè´ªå¿ƒçš„æ‰¾å¯ä»¥ç›´æ¥ç”¨æ­£è´¡çŒ®æŠµæ¶ˆå®ƒçš„è´Ÿè´¡çŒ®çš„ç‚¹ï¼Œå†ä¾æ¬¡å¾€ä¸‹æ‰¾ç‚¹ï¼Œç›´åˆ°å›åˆ°äº†ä¸€ä¸ªå·²ç»èµ°è¿‡çš„ç‚¹ æŠ½è±¡çš„ï¼Œå¯ä»¥æŠŠè¿™$n$ä¸ªç‚¹çœ‹ä½œä¸€å¼ æœ‰å‘å›¾ï¼ˆåŸºç¯æ ‘ï¼‰ï¼Œé—®é¢˜å°±å˜æˆäº†åœ¨ä¸Šé¢æ‰¾ä¸ªç®€å•ç¯ï¼Œ$O(n)$å³å¯è§£å†³ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e6+5; int n,a[N]; bool v[N]; void doit(){ vector&lt;int&gt; ans; read(n); for(int i=1;i&lt;=n;i++){ a[i]=i-read(a[i]); v[i]=0; } int aim=1; for(;!v[aim];aim=a[aim]) v[aim]=1; ans.push_back(aim); for(int i=a[aim];i^aim;i=a[i]) ans.push_back(i); write(ans.size());puts(&quot;&quot;); for(int i=0;i&lt;ans.size();i++) write(ans[i]),putchar(&#39; &#39;);puts(&quot;&quot;); } signed main(){ int t; read(t); while(t--) doit(); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"æ„é€ ","slug":"æ„é€ ","permalink":"https://blog.yzcthinktwice.com/tags/æ„é€ /"},{"name":"åŸºç¯æ ‘","slug":"åŸºç¯æ ‘","permalink":"https://blog.yzcthinktwice.com/tags/åŸºç¯æ ‘/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF700B Connecting Universities","slug":"CF700B Connecting Universities","date":"2019-12-30T15:58:02.000Z","updated":"2019-12-30T13:29:22.741Z","comments":true,"path":"2019/12/30/CF700B Connecting Universities/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/30/CF700B Connecting Universities/","excerpt":"","text":"CF700B Connecting Universities å·§å¦™çš„æ€ç»´é¢˜ é¢˜è§£ï¼šç›´æ¥ç¡¬é…æ±‚è´¡çŒ®çš„æ–¹æ³•æ˜¾ç„¶æ˜¯éš¾ä»¥å®ç°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è½¬æ¢æ€è·¯ï¼š è€ƒè™‘è®¡ç®—æ¯æ¡è¾¹çš„è´¡çŒ®ï¼Œè¾¹çš„è´¡çŒ®å’Œå°±æ˜¯æˆ‘ä»¬çš„ç­”æ¡ˆ ä¸¾ä¸ªä¾‹å­ï¼Œçœ‹ä¸‹é¢è¿™å¼ å›¾ï¼š çº¢è¾¹å°†å¤§å­¦åˆ†æˆäº†å·¦å³ä¸¤ä¸ªç‚¹é›†ï¼Œåœ¨æ‰€æœ‰çš„é…å¯¹æ–¹æ¡ˆä¸­ï¼Œä»å·¦å³ç‚¹é›†å„é€‰ä¸€ä¸ªç‚¹é…å¯¹è‚¯å®šæ˜¯æœ€ä¼˜å…ˆè€ƒè™‘çš„ ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºåŒä¸€é›†åˆä¸­é€‰ç‚¹ï¼Œè·ç¦»éƒ½æ˜¯å›ºå®šçš„ï¼Œä½†ä»ä¸åŒé›†åˆé€‰ç‚¹ï¼Œè¿˜èƒ½å¤Ÿé¢å¤–åŠ ä¸Šä¸€æ¡çº¢è¾¹çš„ä»·å€¼ ä¹Ÿå°±æ˜¯è¯´è´ªå¿ƒæ€è·¯å°±æ˜¯è¦æœ€å¤§åŒ–å·¦å³ä¸¤ç«¯é…å¯¹çš„æ–¹æ¡ˆæ•° å¦‚æœè®¾å·¦ç‚¹é›†ä¸º$A$ï¼Œå³ç‚¹é›†ä¸º$B$ï¼Œæ˜¾ç„¶çš„ï¼Œè¿æ¥å®ƒä»¬çš„è¾¹çš„ä»·å€¼å°±æ˜¯$\\min(|A|,|B|)$ å› ä¸º$|A|+|B|=2*k$ï¼Œæ‰€ä»¥åªéœ€è¦çŸ¥é“æ¯æ¡è¾¹ä¸€ä¾§çš„å¤§å­¦æ•° åˆå› ä¸ºè¿™æ˜¯ä¸€æ£µæ ‘ï¼Œä»ä¸‹å¾€ä¸Šç»Ÿè®¡ä¸€ä¸ªç‚¹å­æ ‘å†…çš„å¤§å­¦æ•°å¯ä»¥äº† ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=2e5+5; int en,n,m,h[N],a[N]; long long ans; struct edge{ int n,v; }e[N&lt;&lt;1]; void add(int x,int y){ e[++en]=(edge){h[x],y}; h[x]=en; } void dfs(int x,int fa){ for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(y==fa) continue; dfs(y,x); a[x]+=a[y]; } ans+=min(a[x],m-a[x]); } signed main(){ read(n);read(m);m&lt;&lt;=1; for(int i=1,x;i&lt;=m;i++) a[read(x)]=1; for(int i=1,x,y;i&lt;n;i++){ read(x);read(y); add(x,y); add(y,x); } dfs(1,0); write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1268B Domino for Young","slug":"CF1268B Domino for Young","date":"2019-12-30T15:57:02.000Z","updated":"2019-12-30T13:28:02.771Z","comments":true,"path":"2019/12/30/CF1268B Domino for Young/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/30/CF1268B Domino for Young/","excerpt":"","text":"CF1268B Domino for Young ä¸€é“ç”»å›¾çŒœæ€§è´¨é¢˜ é¢˜è§£ï¼šé¦–å…ˆï¼Œååˆ†è´ªå¿ƒçš„ï¼Œå¶æ•°é«˜åº¦åˆ—å¯ä»¥è‡ªå·±æ¶ˆå®Œè‡ªå·±ï¼Œå¥‡æ•°é«˜åº¦åˆ—åˆ™ä¼šå‰©ä¸‹æœ€åº•ä¸‹ä¸€ä¸ª æ‰‹åŠ¨ç”»å›¾å¯ä»¥å¾ˆå¿«å‘ç°è¿™ä¹ˆä¸€ä¸ªæ€§è´¨ï¼šè‹¥ä¸¤ä¸ªå¥‡æ•°é«˜åº¦åˆ—ä¹‹é—´æœ‰è¿ç»­çš„å¶æ•°ä¸ªå¶æ•°é«˜åº¦åˆ—ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå¥‡æ•°é«˜åº¦åˆ—çš„æœ€åº•ä¸‹ä¹Ÿä¼šè¢«æ¶ˆæ‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥å¤šæ”¾ä¸€ä¸ªéª¨ç‰Œ äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥å¼€ä¸€ä¸ªæ ˆï¼Œè®°å½•å¥‡æ•°é«˜åº¦åˆ—å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ ˆé¡¶ä¸å½“å‰çš„è·ç¦»ä¸ºå¶æ•°å°±å¯å¼¹æ‰ï¼Œç­”æ¡ˆåŠ ä¸€ åˆå› ä¸ºä¸‹æ ‡å¥‡å¶æ€§åŠ ä¸Šä¸€ä¸ªå¶æ•°ä¸ä¼šæ”¹å˜ï¼Œæ‰€ä»¥æ ˆé‡Œåªè¦å­˜ä¸‹æ ‡æ˜¯å¥‡è¿˜æ˜¯å¶å°±è¡Œäº† ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } int n; long long ans; stack&lt;int&gt; s; signed main(){ read(n); for(int i=1,x;i&lt;=n;i++){ read(x); ans+=x&gt;&gt;1; if(x&amp;1){ if(!s.empty()&amp;&amp;(s.top()^i&amp;1)){ s.pop(); ans++; } else s.push(i&amp;1); } } write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1263E Editor","slug":"CF1263E Editor","date":"2019-12-30T15:56:02.000Z","updated":"2019-12-30T13:27:38.720Z","comments":true,"path":"2019/12/30/CF1263E Editor/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/30/CF1263E Editor/","excerpt":"","text":"CF1263E Editor éš¾åº¦ä¸å¤§ï¼Œæ¯”è¾ƒæœ‰æ„æ€çš„ä¸€é“æ€ç»´é¢˜ é¢˜è§£ï¼šé¦–å…ˆæ˜¯æ‹¬å·åºåˆ—çš„ç»å…¸æ“ä½œï¼šå°†å·¦æ‹¬å·çœ‹ä½œ1ï¼Œå°†å³æ‹¬å·çœ‹ä½œ-1 æŒ‰ç…§è¯¥æ“ä½œï¼Œæ˜¾ç„¶çš„ï¼Œåˆæ³•çš„æ‹¬å·åºåˆ—çš„å‰ç¼€åº”è¯¥éƒ½æ˜¯å¤§äºç­‰äº0çš„ï¼Œä¸”æ€»å’Œç­‰äº0 æ¢å¥è¯è¯´ï¼Œè‹¥è¦åˆ¤æ–­å½“å‰æ‹¬å·åºåˆ—æ˜¯å¦åˆæ³•ï¼Œå°±è¦çŸ¥é“å®ƒçš„æœ€å°å‰ç¼€æ˜¯å¦å°äº0ï¼Œæ˜¯åˆ™ä¸åˆæ³•ï¼›è¿˜è¦çŸ¥é“æ€»å’Œæ˜¯å¦ç­‰äº0ï¼Œå¦åˆ™ä¸åˆæ³• åœ¨åˆæ³•çš„åŸºç¡€ä¸Šï¼Œæ¦‚æ‹¬å·åºåˆ—çš„æœ€å¤§æ·±åº¦å°±æ˜¯æœ€å¤§å‰ç¼€ æ•°å­—å’Œï¼Œå‰ç¼€æœ€å¤§ï¼Œå‰ç¼€æœ€å° å°†ä¸Šé¢ä¸‰æ ·ä¸œè¥¿æ‹¿çº¿æ®µæ ‘ç»´æŠ¤ä¸€ä¸‹å°±è§£å†³é—®é¢˜äº† å¦å¤–ï¼Œå¯¹äºå­—ç¬¦çš„ä¿®æ”¹ï¼Œåœ¨çº¿æ®µæ ‘ä¸Šçš„è¡¨ç°å°±æ˜¯å•ç‚¹èµ‹å€¼ï¼ˆ1/-1/0ï¼‰ ç”±äºåªæœ‰å…¨å±€æŸ¥è¯¢ï¼Œç”šè‡³éƒ½ä¸ç”¨å†™queryå‡½æ•° ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e6+5; int n,a[N&lt;&lt;2],mi[N&lt;&lt;2],ma[N&lt;&lt;2]; char s[N]; void pushup(int x){ a[x]=a[x&lt;&lt;1]+a[x&lt;&lt;1|1]; mi[x]=min(mi[x&lt;&lt;1],a[x&lt;&lt;1]+mi[x&lt;&lt;1|1]); ma[x]=max(ma[x&lt;&lt;1],a[x&lt;&lt;1]+ma[x&lt;&lt;1|1]); } void up(int x,int l,int r,int p,int v){ if(l==r){ a[x]=mi[x]=ma[x]=v; return ; } int mid=l+r&gt;&gt;1; if(p&lt;=mid) up(x&lt;&lt;1,l,mid,p,v); else up(x&lt;&lt;1|1,mid+1,r,p,v); pushup(x); } signed main(){ read(n); scanf(&quot;%s&quot;,s+1); for(int i=1,pos=1;i&lt;=n;i++){ if(s[i]==&#39;L&#39;) pos-=(pos&gt;1); else if(s[i]==&#39;R&#39;) pos++; else{ if(s[i]==&#39;(&#39;) up(1,1,n,pos,1); else if(s[i]==&#39;)&#39;) up(1,1,n,pos,-1); else up(1,1,n,pos,0); } if(a[1]||mi[1]&lt;0) write(-1); else write(ma[1]); putchar(&#39; &#39;); } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"https://blog.yzcthinktwice.com/tags/çº¿æ®µæ ‘/"},{"name":"æ‹¬å·åºåˆ—","slug":"æ‹¬å·åºåˆ—","permalink":"https://blog.yzcthinktwice.com/tags/æ‹¬å·åºåˆ—/"},{"name":"å‰ç¼€","slug":"å‰ç¼€","permalink":"https://blog.yzcthinktwice.com/tags/å‰ç¼€/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1266D Decreasing Debts","slug":"CF1266D Decreasing Debts","date":"2019-12-30T15:55:02.000Z","updated":"2019-12-30T13:28:14.534Z","comments":true,"path":"2019/12/30/CF1266D Decreasing Debts/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/30/CF1266D Decreasing Debts/","excerpt":"","text":"CF1266D Decreasing Debts å·§å¦™çš„æ€ç»´é¢˜ é¢˜è§£ï¼šä¸ºäº†æ–¹ä¾¿è¡¨è¿°ï¼Œæˆ‘è®¾$in(x)$è¡¨ç¤ºç‚¹$x$çš„å…¥è¾¹çš„æƒå€¼å’Œï¼Œ$out(x)$è¡¨ç¤ºç‚¹$x$çš„å‡ºè¾¹çš„æƒå€¼å’Œ åœ¨æ­¤é¢˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å‘ç°å¦‚æœä¸€æ¡å‡ºè¾¹$$æ»¡è¶³$in(u)=0$ï¼Œ$out(v)=0$ï¼Œä¸”èµ·ç‚¹$u$å›ºå®šï¼Œé‚£ä¹ˆåªè¦ç»ˆç‚¹$v$åˆæ³•å°±å¯ä»¥éšæ„è¿ï¼ˆè¿™é‡Œçš„â€œåˆæ³•â€æŒ‡çš„æ˜¯è¿™æ¡è¾¹çš„æƒå€¼å°äº$in(v)$ï¼‰ï¼Œå…¥è¾¹åŒç†ã€‚ ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå¦‚æœæ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼Œé‚£ä¹ˆæ­¤æ—¶èƒ½ä¸è¾¹$$å‘ç”Ÿå…³ç³»çš„è¾¹$$ä¸€å®šæ˜¯ä¸å®ƒæ— å…¬å…±ç«¯ç‚¹çš„ï¼Œæ­¤æ—¶ä¼šå˜æˆ$$ï¼Œä¹Ÿå°±æ˜¯ä¸Šæ–‡æ‰€è¯´çš„â€œéšä¾¿è¿â€ ä¸ºäº†è®©å›¾ä¸­åªå­˜åœ¨è¿™æ ·çš„è¾¹ï¼Œæˆ‘ä»¬éœ€è¦æ¶ˆå»å½¢å¦‚$u-&gt;v-&gt;w$çš„è¾¹ å…·ä½“åœ°ï¼Œæ¶ˆå»çš„æ–¹æ³•å°±æ˜¯è®©$in(v)$å’Œ$out(v)$åŒæ—¶å‡å»$\\min(in(v),out(v))$ è¿™æ ·ï¼Œç‚¹$v$å°±ä¼šåå‘$u$æˆ–$w$ï¼Œç”šè‡³ç›´æ¥æ¶ˆå¤± ç°åœ¨ï¼Œå›¾ä¸Šå°±åªå‰©ä¸‹ä¸¤ç§ç‚¹äº†ï¼Œæˆ‘ä»¬æŠŠå®ƒåˆ’åˆ†æˆä¸¤ä¸ªç‚¹é›†ï¼š åªæœ‰å‡ºè¾¹çš„ç‚¹é›†A åªæœ‰å…¥è¾¹çš„ç‚¹é›†B åªè¦åŒæŒ‡é’ˆè·‘ä¸€éï¼ˆä¸¤ä¸ªç‚¹é›†åˆ†åˆ«ä¸€ä¸ªï¼‰ï¼Œå°†å®ƒä»¬éšæ„é…å¯¹ï¼Œç”¨ç‚¹é›†Bçš„$in()$å»æŠµæ¶ˆç‚¹é›†Açš„$out()$åªéœ€æ»¡è¶³æœ€åæ‰€æœ‰çš„$in()$å’Œ$out()$éƒ½ç­‰äº0å°±å¥½äº†ï¼Œè€Œæ¯è¿›è¡Œä¸€æ¬¡æŠµæ¶ˆï¼Œå°±æ˜¯è¿ä¸€æ¬¡è¾¹ï¼Œæ¶ˆä¸€ä¸ªï¼ˆæˆ–ä¸¤ä¸ªï¼‰ç‚¹ ä¸ºä»€ä¹ˆä¸€å®šæœ‰æ–¹æ¡ˆå­˜åœ¨ï¼Œä½¿å¾—Aå’ŒBå¯ä»¥åŒæ—¶æ¶ˆå®Œå‘¢ï¼Ÿå› ä¸º$\\sum\\limits_{u\\in A} out(u)=\\sum\\limits_{u\\in B} in(u)$ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long const int N=1e5+5; int n,m,in[N],out[N]; vector&lt;int&gt; a,b; struct edge{ int x,y,z; }; vector&lt;edge&gt; ans; signed main(){ read(n);read(m); for(int i=1,x,y,z;i&lt;=m;i++){ read(x);read(y);read(z); out[x]+=z; in[y]+=z; } for(int i=1;i&lt;=n;i++){ int tp=min(in[i],out[i]); in[i]-=tp; out[i]-=tp; if(in[i]) b.push_back(i); if(out[i]) a.push_back(i); } for(int i=0,j=0;i&lt;a.size()&amp;&amp;j&lt;b.size();){ int tp=min(out[a[i]],in[b[j]]); out[a[i]]-=tp; in[b[j]]-=tp; ans.push_back((edge){a[i],b[j],tp}); if(out[a[i]]==0) i++; if(in[b[j]]==0) j++; } write(ans.size());puts(&quot;&quot;); for(int i=0;i&lt;ans.size();i++){ write(ans[i].x);putchar(&#39; &#39;); write(ans[i].y);putchar(&#39; &#39;); write(ans[i].z);puts(&quot;&quot;); } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"https://blog.yzcthinktwice.com/tags/å›¾è®º/"},{"name":"æ„é€ ","slug":"æ„é€ ","permalink":"https://blog.yzcthinktwice.com/tags/æ„é€ /"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1067A Array Without Local Maximums","slug":"CF1067A Array Without Local Maximums","date":"2019-12-30T15:54:02.000Z","updated":"2019-12-30T13:27:51.899Z","comments":true,"path":"2019/12/30/CF1067A Array Without Local Maximums/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/30/CF1067A Array Without Local Maximums/","excerpt":"","text":"CF1067A Array Without Local Maximums å¸¸è§„dpé¢˜ é¢˜è§£ï¼šè®¾$f[i][j][0/1]$è¡¨ç¤ºå‰$i$ä¸ªæ•°ï¼Œç¬¬$i$ä¸ªæ•°é€‰$j$ï¼Œç¬¬$i-1$ä¸ªæ•°æ˜¯å¦å¤§äºç­‰äºç¬¬$i$ä¸ªæ•°çš„æ–¹æ¡ˆæ•°ï¼Œæ˜¾ç„¶çš„ï¼Œ1è¡¨ç¤ºåˆæ³•ï¼Œ0è¡¨ç¤ºä¸åˆæ³• ï¼ˆæ³¨æ„ï¼šé¢˜ç›®ä¸­æœ‰-1çš„æ¡ä»¶ï¼Œå…¶å®å¤„ç†èµ·æ¥åªéœ€è¦æŠŠå®šå€¼$a[i]$æ¢æˆä¸€å±‚ä»1åˆ°200çš„å¾ªç¯æšä¸¾å³å¯ï¼Œä¸‹æ–‡ä¸­ç»Ÿä¸€ç”¨$a[i]$æ›¿ä»£ï¼‰ åˆå§‹åŒ–$f[1][a[i]][0]=1$ è½¬ç§»è€ƒè™‘åˆ†ç±»è®¨è®ºï¼š å¾ªç¯æšä¸¾ç¬¬$i-1$ä¸ªæ•°ä¸º$k$ï¼Œé‚£ä¹ˆ$j$ä¸$k$ä¼šæœ‰ä¸‰ç§å¤§å°å…³ç³»ï¼š jç­‰äºk å¯¹$f[i][j][1]$é€ æˆå½±å“ï¼Œå› ä¸º$j$å¯¹äº$k$æ˜¯åˆæ³•çš„ï¼Œå‰é¢ä¸€ä½åªè¦é€‰$k$å°±åˆæ³•ï¼Œæ‰€ä»¥$f[i][j][1]+=f[i-1][k][0]+f[i-1][k][1]$ jå°äºk å¯¹$f[i][j][1]$é€ æˆå½±å“ï¼Œå› ä¸º$j$å¯¹äº$k$æ˜¯ä¸åˆæ³•çš„ï¼Œ$k$çš„å‰ä¸€ä½å¯¹äº$k$å°±ä¸€å®šè¦æ˜¯åˆæ³•çš„ï¼Œæ‰€ä»¥$f[i][j][1]+=f[i-1][k][1]$ jå¤§äºk å¯¹$f[i][j][0]$é€ æˆå½±å“ï¼Œå› ä¸º$j$å¯¹äº$k$æ˜¯åˆæ³•çš„ï¼Œå‰é¢ä¸€ä½åªè¦é€‰$k$å°±åˆæ³•ï¼Œæ‰€ä»¥$f[i][j][0]+=f[i-1][k][0]+f[i-1][k][1]$ ç”±æ­¤ï¼Œå¯ä»¥å¾—å‡ºå¦‚ä¸‹dpä»£ç ï¼š for(int j=1;j&lt;=200;j++){//å½“å‰ä½ for(int k=1;k&lt;=200;k++){//ä¸Šä¸€ä½ if(k==j) f[i][j][1]=(f[i][j][1]+f[i-1][k][0]+f[i-1][k][1])%mod; if(k&gt;j) f[i][j][1]=(f[i][j][1]+f[i-1][k][1])%mod; if(k&lt;j) f[i][j][0]=(f[i][j][0]+f[i-1][k][0]+f[i-1][k][1])%mod; } } è¿™æ ·çš„dpæ˜¯$O(200^2*n)$çš„ï¼Œä½†ä¸éš¾çœ‹å‡ºè¿™å¯ä»¥ç”¨å‰ç¼€å’Œä¼˜åŒ– ç»´æŠ¤$f[i][j][0/1]$çš„å‰ç¼€å’Œï¼Œå†åˆå¹¶ä¸€ä¸‹dpæ–¹ç¨‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥$O(1)$ç®—å‡º$f[i][j][0/1]$ï¼Œå¤æ‚åº¦å°±é™ä¸º$O(200*n)$ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long const int mod=998244353; const int N=1e5+5,M=205; int n,a[N],f[N][M][2],ans,sum[M][2]; int calc(int l,int r,int op){ return ((sum[r][op]-sum[l-1][op])%mod+mod)%mod; } signed main(){ read(n); for(int i=1;i&lt;=n;i++) read(a[i]); if(a[1]==-1) for(int i=1;i&lt;=200;i++) f[1][i][0]=1; else f[1][a[1]][0]=1; for(int i=1;i&lt;=200;i++){ sum[i][0]=sum[i-1][0]+f[1][i][0]; sum[i][1]=sum[i-1][1]+f[1][i][1]; } for(int i=2;i&lt;=n;i++){ if(a[i]==-1){ for(int j=1;j&lt;=200;j++){ f[i][j][1]=(calc(j,j,0)+calc(j,200,1))%mod; f[i][j][0]=(calc(1,j-1,0)+calc(1,j-1,1))%mod; } } else{ f[i][a[i]][1]=(calc(a[i],a[i],0)+calc(a[i],200,1))%mod; f[i][a[i]][0]=(calc(1,a[i]-1,0)+calc(1,a[i]-1,1))%mod; } for(int j=1;j&lt;=200;j++){ sum[j][0]=sum[j-1][0]+f[i][j][0]; sum[j][1]=sum[j-1][1]+f[i][j][1]; } } if(a[n]==-1) for(int i=1;i&lt;=200;i++) ans=(ans+f[n][i][1])%mod; else ans=f[n][a[n]][1]; write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1271D Portals","slug":"CF1271D Portals","date":"2019-12-30T15:50:02.000Z","updated":"2019-12-30T13:28:25.758Z","comments":true,"path":"2019/12/30/CF1271D Portals/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/30/CF1271D Portals/","excerpt":"","text":"CF1271D Portals æ¯”èµ›æ—¶è‡ªå·±å¡åœ¨äº†è¿™é¢˜ä¸Šï¼Œç°åœ¨ç‰¹æ¥å†™ç¯‡æ¯”è¾ƒç¬¦åˆç°åœºæ€è·¯çš„é¢˜è§£ é¢˜è§£ï¼šdpå¾ˆå¥½æƒ³ï¼ŒçŠ¶æ€ä¹Ÿååˆ†ç»å…¸ï¼šè®¾$f[i][j]$è¡¨ç¤ºå‰$i$ä¸ªåŸå ¡ï¼Œæ‰‹å¤´å‰©ä¸‹$j$ä¸ªå£«å…µçš„æœ€å¤§æ”¶ç›Š åˆå§‹åŒ–$f[0][k]=0$ï¼Œå…¶å®ƒèµ‹ä¸ºè´Ÿæ— ç©· ä»åå¾€å‰ç»§æ‰¿çŠ¶æ€æ—¶è¦ä»$a_i$å¼€å§‹æšä¸¾ï¼ˆèƒ½æˆåŠŸå é¢†çš„æ¡ä»¶ï¼‰ï¼Œå£«å…µæ•°è¦å‡$b_i$ï¼ˆå¯ä»¥åŠ å…µçš„æ¡ä»¶ï¼‰ è½¬ç§»éœ€è¦ç¨å¾®æ€è€ƒä¸‹ æ˜¯è€ƒè™‘ä»æ¯æ¡è·¯è½¬ç§»å—ï¼Ÿè¿™æ ·çš„è¯å°±ä¼šå˜å¾—ç›¸å½“å¤æ‚ï¼ŒäºŒç»´çŠ¶æ€ä¹Ÿä¸å¤Ÿç”¨äº† è¿™æ—¶å€™å°±éœ€è¦æ³¨æ„åˆ°ä¸€æ¡å¾ˆå…³é”®çš„æ€§è´¨ï¼šå‡è®¾å½“å‰è¦ä»$u$èµ°è·¯å¾„$$åˆ°$v$ï¼Œé‚£ä¹ˆåœ¨åˆæ³•çš„å‰æä¸‹ï¼Œ$u$è‚¯å®šæ˜¯è¶Šå¤§è¶Šå¥½ ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ å› ä¸ºé¢˜ç›®æœ‰ä¸€æ¡å¾ˆé‡è¦çš„é™åˆ¶ï¼Œå°±æ˜¯$n$åº§åŸå ¡éƒ½è¦è¢«å é¢†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ—¢ç„¶è¿™æ¡è·¯è½¬ç§»çš„æ”¶ç›Šæ˜¯ç›¸åŒçš„ï¼Œè€Œå¤šä¸€ä¸ªå£«å…µä¹Ÿè®¸èƒ½è®©ä½ å é¢†æ›´å¤šåŸå ¡ï¼Œé‚£ä¹ˆè´ªå¿ƒåœ°è‚¯å®šæ˜¯è¦æŠŠè¿™ä¸ªå£«å…µç•™çš„æ—¶é—´è¶Šé•¿è¶Šå¥½ ä¾ç…§è¿™æ ·çš„æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å¤„ç†å‡º$v_{u,i}$ï¼Œæ»¡è¶³å­˜åœ¨è¾¹$$ï¼Œä¸”$u$æ˜¯è¿å‘$v$çš„æœ€è¿œçš„ä¸€ä¸ªåŸå ¡ ç”±äº$v_{u,i}$éƒ½æ˜¯äº’ä¸å¹²æ‰°çš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®æ”¶ç›Šçš„ä»å¤§åˆ°å°ï¼Œè´ªå¿ƒåœ°åœ¨$v_{u,i}$ä¸­åšé€‰æ‹©ï¼Œæ³¨æ„æ‰€åšçš„é€‰æ‹©å¿…é¡»æ˜¯æˆå‰ç¼€å¼çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¦é€‰æ¬¡ä¼˜çš„å‰ææ¡ä»¶æ˜¯æ›´ä¼˜çš„éƒ½é€‰äº† å¦å¤–ï¼Œé¢˜ç›®è¿˜è¯´å¯ä»¥åŸåœ°ç•™å…µï¼Œè¿™æ€ä¹ˆæå‘¢ï¼Ÿ æˆ‘ä»¬ä¸å¦¨çœ‹æˆæ¯ä¸ªåŸå ¡ä¸Šéƒ½æœ‰ä¸€æ¡è‡ªç¯ï¼Œä¸å…¶å®ƒæœ‰ç€ç›¸åŒç»ˆç‚¹çš„è·¯ä¸€èµ·æ¯”è¾ƒèµ·ç‚¹çš„è¿œè¿‘å³å¯ è½¬ç§»éƒ¨åˆ†å…·ä½“å¯ä»¥çœ‹çœ‹ä»£ç  ä»£ç ä¸­ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæœ€å¤§å£«å…µäººæ•°æˆ‘ç”¨çš„éƒ½æ˜¯å¸¸æ•°5000ï¼Œå…¶å®ä¹Ÿå¯ä»¥æŠŠå®ƒæ¢æˆå£«å…µæ•°çš„å‰ç¼€å’Œæ¥å‡å°å¸¸æ•° ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=5005; int ans=-1,a[N],b[N],c[N],link[N],f[N][N],n,m,k,g[N]; vector&lt;int&gt; nxt[N]; inline bool cmp(const int &amp;x,const int &amp;y){ return c[x]&gt;c[y]; } signed main(){ read(n);read(m);read(k); for(int i=1;i&lt;=n;i++){ read(a[i]); read(b[i]); read(c[i]); link[i]=i; //å»ºç«‹è‡ªç¯ } for(int i=1,x,y;i&lt;=m;i++){ read(x);read(y); link[y]=max(link[y],x); //å¤„ç†å‡ºæœ€è¿œèµ·ç‚¹ } for(int i=1;i&lt;=n;i++) nxt[link[i]].push_back(i); //æšä¸¾ç»ˆç‚¹ï¼Œä»è¯¥ç‚¹çš„æœ€è¿œèµ·ç‚¹è¿è¾¹ for(int i=1;i&lt;=n;i++) sort(nxt[i].begin(),nxt[i].end(),cmp); //æŒ‰ç…§æ”¶ç›Šä»å¤§åˆ°å°æ’åº memset(f,~0x3f,sizeof f); f[0][k]=0; //åˆå§‹åŒ– for(int i=1;i&lt;=n;i++){ for(int j=a[i];j+b[i]&lt;=5000;j++) //ç»§æ‰¿ä¸Šä¸ªåŸå ¡çš„çŠ¶æ€ï¼Œæ³¨æ„a[i]å’Œb[i] f[i][j+b[i]]=f[i-1][j]; int cnt=nxt[i].size(); for(int j=0;j&lt;=5000;j++){ int sum=0; g[j]=f[i][j]; //å¦å¤–å¼€ä¸ªä¸´æ—¶æ•°ç»„g[]ï¼Œä»¥å…è¦†ç›–åŸæ•°ç»„ for(int k=0;k&lt;cnt;k++) if(j+k+1&lt;=5000){ sum+=c[nxt[i][k]]; //å‡ ä¸ªå‰ç¼€å’Œ g[j]=max(g[j],f[i][j+k+1]+sum); //k+1æ˜¯å› ä¸ºkæ˜¯ä»0å¼€å§‹çš„ï¼Œå…¶å®æ˜¯è¡¨ç¤ºåœ¨å‰ç¼€ä¸Šé€‰æ‹©çš„åŸå ¡çš„æ•°é‡ï¼ˆå³è¦èŠ±è´¹çš„å£«å…µçš„æ•°é‡ï¼‰ } } memcpy(f[i],g,sizeof g); //èµ‹å›å» } for(int i=0;i&lt;=5000;i++) ans=max(ans,f[n][i]); write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"https://blog.yzcthinktwice.com/tags/è´ªå¿ƒ/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1114F Please, another Queries on Array?","slug":"CF1114F Please, another Queries on Array","date":"2019-12-17T10:00:05.000Z","updated":"2019-12-17T14:10:05.140Z","comments":true,"path":"2019/12/17/CF1114F Please, another Queries on Array/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/17/CF1114F Please, another Queries on Array/","excerpt":"","text":"CF1114F Please, another Queries on Array? çŠ¶å‹+ç®€å•æ•°è®º+ç®€å•çº¿æ®µæ ‘ï¼Œä¸€çœ‹å°±å¾ˆå¥—è·¯ã€‚ã€‚ã€‚ é¢˜è§£ï¼šé¦–å…ˆæ€è€ƒæ¬§æ‹‰å‡½æ•°çš„é€šé¡¹å…¬å¼$\\varphi(x)=x*\\prod\\limits_{i=1}^{n}(1-\\frac{1}{p_i})$ï¼Œå…¶ä¸­$p_i$æ˜¯$x$çš„è´¨å› æ•° ä¹Ÿå°±æ˜¯è¯´å¯¹äºè¦æ±‚çš„$\\varphi(x)$ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å®ƒçš„å€¼$x$ï¼Œå’Œå®ƒçš„è´¨å› æ•°$p_i$ è€ƒè™‘é¢˜ç›®è¦æ±‚çš„æŸ¥è¯¢$\\varphi(\\prod \\limits_{i=l}^{r} a_i)$ï¼Œæ ¹æ®ä¸Šé¢çš„æ¨ç†ï¼Œè¦æ±‚å‡ºå®ƒæˆ‘ä»¬ä¹Ÿéœ€è¦çŸ¥é“ä¸¤æ ·ä¸œè¥¿ï¼Œ$\\prod \\limits_{i=l}^{r} a_i$å’ŒåŒºé—´$[l,r]$å†…æœ‰å“ªäº›è´¨å› æ•° ä¹˜ç§¯å¯ä»¥ç”¨çº¿æ®µæ ‘ç®€å•çš„ç»´æŠ¤ï¼Œé‚£æœ‰å“ªäº›è´¨å› æ•°ç”¨ä»€ä¹ˆç»´æŠ¤å‘¢ï¼Ÿ æ³¨æ„åˆ°é¢˜ç›®ç»™å‡ºçš„$a_i$å’Œ$x$éƒ½å¾ˆå°ï¼Œå¦‚æœæœ‰ç»éªŒçš„è¯ï¼ˆæˆ–è€…æ‰“ä¸ªè¡¨ï¼‰å¯ä»¥å‘ç°ï¼Œè¿™èŒƒå›´å†…åªæœ‰62ä¸ªè´¨æ•° è¿™ä¸å°±æ˜¯æç¤ºè¦çŠ¶å‹å—ï¼ äºæ˜¯çº¿æ®µæ ‘ä¸Šå¼€ä¸ªlonglongçŠ¶å‹æåŒºé—´æˆ–å°±å¥½äº† ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long #define res pair&lt;int,int&gt; #define x first //xæ˜¯æŸ¥è¯¢çš„ä¹˜ç§¯ #define y second //yæ˜¯æŸ¥è¯¢çš„çŠ¶å‹ const int mod=1e9+7; const int N=4e5+5; int pn,p[70]; bool prime[350]; int a[N&lt;&lt;2],s[N&lt;&lt;2],mtg[N&lt;&lt;2],stg[N&lt;&lt;2],n,q,inv[70],sit[N],val[N]; int fpow(int x,int y,int mod){ int mul=1; for(;y;y&gt;&gt;=1,mod?(x*=x)%=mod:x*=x) if(y&amp;1) mod?(mul*=x)%=mod:mul*=x; return mul; } void init(int n){ for(int i=2;i&lt;=n;i++) prime[i]=1; for(int i=2;i&lt;=n;i++){ if(prime[i]) p[pn]=i,inv[pn++]=fpow(i,mod-2,mod); for(int j=0;j&lt;pn&amp;&amp;i*p[j]&lt;=n;j++){ prime[i*p[j]]=0; if(i%p[j]==0) break; } } } void pushup(int x){ a[x]=a[x&lt;&lt;1]*a[x&lt;&lt;1|1]%mod; //aæ˜¯ä¹˜ç§¯ s[x]=s[x&lt;&lt;1]|s[x&lt;&lt;1|1]; //sæ˜¯çŠ¶å‹ } void build(int x,int l,int r){ mtg[x]=1; stg[x]=0; if(l==r){ a[x]=val[l]; s[x]=sit[l]; return ; } int mid=l+r&gt;&gt;1; build(x&lt;&lt;1,l,mid); build(x&lt;&lt;1|1,mid+1,r); pushup(x); } void pushdown(int x,int l,int r){ int mid=l+r&gt;&gt;1; if(mtg[x]^1){ //ä¹˜ä¸Š (mtg[x&lt;&lt;1]*=mtg[x])%=mod; (mtg[x&lt;&lt;1|1]*=mtg[x])%=mod; (a[x&lt;&lt;1]*=fpow(mtg[x],mid-l+1,mod))%=mod; (a[x&lt;&lt;1|1]*=fpow(mtg[x],r-mid,mod))%=mod; mtg[x]=1; } if(stg[x]){ //æˆ–ä¸Š stg[x&lt;&lt;1]|=stg[x]; stg[x&lt;&lt;1|1]|=stg[x]; s[x&lt;&lt;1]|=stg[x]; s[x&lt;&lt;1|1]|=stg[x]; stg[x]=0; } } res merge(res x,res y){ //ç­”æ¡ˆåˆå¹¶ return res(x.x*y.x%mod,x.y|y.y); } res que(int x,int l,int r,int p,int q){ if(p&lt;=l&amp;&amp;r&lt;=q){ return res(a[x],s[x]); } pushdown(x,l,r); int mid=l+r&gt;&gt;1; res ans=res(1,0); if(p&lt;=mid) ans=merge(ans,que(x&lt;&lt;1,l,mid,p,q)); if(q&gt;mid) ans=merge(ans,que(x&lt;&lt;1|1,mid+1,r,p,q)); return ans; } void up(int x,int l,int r,int p,int q,int xv,int sv){ if(p&lt;=l&amp;&amp;r&lt;=q){ (a[x]*=fpow(xv,r-l+1,mod))%=mod; s[x]|=sv; (mtg[x]*=xv)%=mod; stg[x]|=sv; return ; } pushdown(x,l,r); int mid=l+r&gt;&gt;1; if(p&lt;=mid) up(x&lt;&lt;1,l,mid,p,q,xv,sv); if(q&gt;mid) up(x&lt;&lt;1|1,mid+1,r,p,q,xv,sv); pushup(x); } void doit(){ char s[10]; scanf(&quot;%s&quot;,s); int l,r; read(l);read(r); if(s[0]==&#39;T&#39;){ res tp=que(1,1,n,l,r); for(int i=0;i&lt;pn;i++) if(tp.y&gt;&gt;i&amp;1) //è§£å‹ tp.x=tp.x*inv[i]%mod*(p[i]-1)%mod; write(tp.x);puts(&quot;&quot;); } else{ int x,s=0; read(x); for(int i=0;i&lt;pn;i++) if(x%p[i]==0) s|=1ll&lt;&lt;i; up(1,1,n,l,r,x,s); } } signed main(){ init(300); read(n);read(q); for(int i=1;i&lt;=n;i++){ read(val[i]); for(int j=0;j&lt;pn;j++) if(val[i]%p[j]==0) sit[i]|=1ll&lt;&lt;j; //åˆ†è§£å‡ºæœ‰å“ªäº›è´¨å› æ•°æçŠ¶å‹ } build(1,1,n); while(q--) doit(); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://blog.yzcthinktwice.com/tags/æ•°å­¦/"},{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"çŠ¶å‹","slug":"çŠ¶å‹","permalink":"https://blog.yzcthinktwice.com/tags/çŠ¶å‹/"},{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"https://blog.yzcthinktwice.com/tags/çº¿æ®µæ ‘/"},{"name":"æ¬§æ‹‰å‡½æ•°","slug":"æ¬§æ‹‰å‡½æ•°","permalink":"https://blog.yzcthinktwice.com/tags/æ¬§æ‹‰å‡½æ•°/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1151F Sonya and Informatics","slug":"CF1151F Sonya and Informatics","date":"2019-12-17T10:00:04.000Z","updated":"2019-12-17T14:14:50.876Z","comments":true,"path":"2019/12/17/CF1151F Sonya and Informatics/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/17/CF1151F Sonya and Informatics/","excerpt":"","text":"CF1151F Sonya and Informatics çŸ©é˜µä¼˜åŒ–dpè¶…å¥½é¢˜ï¼ŒdpçŠ¶æ€ååˆ†å·§å¦™ é¢˜è§£ï¼šDPéƒ¨åˆ†ï¼šé¢˜ç›®è¦æ±‚æ’æˆä¸€ä¸ªéé™åºåˆ—ï¼Œç”±äºåªæœ‰0å’Œ1ï¼Œè¿™æ„å‘³ç€è¦å°†æ‰€æœ‰0æ”¾åœ¨1çš„å‰é¢ï¼Œåˆå› ä¸º0å’Œ1çš„æ•°é‡æ˜¯ç¡®å®šçš„ï¼Œæ‰€ä»¥å“ªäº›ä½ç½®ç»™0ï¼Œå“ªäº›ä½ç½®ç»™1ä¹Ÿæ˜¯ç¡®å®šçš„ è®°$m$è¡¨ç¤ºåºåˆ—ä¸­0çš„ä¸ªæ•°ï¼Œæˆ‘ä»¬çŸ¥é“1~mä¸­çš„0å’Œm+1~nä¸­çš„1æ˜¯åˆæ³•çš„ï¼Œåä¹‹ä¸åˆæ³• çŠ¶æ€å¾ˆå·§å¦™ï¼Œè®¾$f[i][j]$è¡¨ç¤ºäº¤æ¢$i$æ¬¡åï¼Œå‰$m$ä¸ªä½ç½®æœ‰$j$ä¸ª0 å…‰å‡­çŠ¶æ€ä¸­çš„ä¸€ä¸ª$j$ï¼Œæˆ‘ä»¬å°±å¯ä»¥çŸ¥é“1~mä¸­0å’Œ1çš„ä¸ªæ•°ï¼Œm+1~nä¸­0å’Œ1çš„ä¸ªæ•°ï¼Œæ¢å¥è¯è¯´ï¼ŒçŸ¥é“äº†åˆæ³•çš„æ•°çš„ä¸ªæ•° è®°$cnt$è¡¨ç¤ºæ•°åˆ—ä¸­å‰$m$ä¸ªæ•°ä¸­0çš„ä¸ªæ•°ï¼Œåˆå§‹åŒ–$f[0][cnt]=1$ï¼Œè¡¨ç¤ºç°æœ‰çŠ¶å†µ è€ƒè™‘è½¬ç§»ï¼Œå®¹æ˜“å‘ç°æ¯æ¬¡äº¤æ¢ä¸¤ä¸ªæ•°ï¼Œ$f[i][j]$åªä¼šç”±$f[i-1][j-1]$ï¼Œ$f[i-1][j+1]$ï¼Œ$f[i-1][j]$å¾—åˆ°ï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹åˆ†ç±»è®¨è®ºï¼š $f[i-1][j-1](m-(j-1))(m-(j-1))$ è¡¨ç¤ºå°†å‰$m$ä¸ªæ•°ä¸­çš„0ä¸å$n-m$ä¸ªæ•°ä¸­çš„1åšäº¤æ¢ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ª$(m-(j-1))$çš„æ„æ€æ˜¯å‰mä¸ªæ•°ä¸­1çš„ä¸ªæ•°ï¼Œç¬¬äºŒä¸ªçš„æ„æ€æ˜¯å$n-m$ä¸ªæ•°ä¸­0çš„ä¸ªæ•° $f[i-1][j+1](j+1)(n-m-(m-(j+1)))$ ä¸ç¬¬ä¸€ä¸­è½¬ç§»ç›¸åï¼Œå³å°†å‰$m$ä¸ªæ•°ä¸­çš„1ä¸å$n-m$ä¸ªæ•°ä¸­çš„0åšäº¤æ¢ $f[i-1][j]j(m-j)$ åœ¨å‰$m$ä¸ªæ•°ä¸­é€‰ä¸¤ä¸ªæ•°äº¤æ¢ï¼ˆæ³¨æ„æ˜¯ä¸€ä¸ª1ä¸€ä¸ª0ï¼ï¼‰ $f[i-1][j](m-j)(n-m-(m-j))$ åœ¨å$n-m$ä¸ªæ•°ä¸­é€‰ä¸¤ä¸ªæ•°äº¤æ¢ï¼ˆæ³¨æ„æ˜¯ä¸€ä¸ª1ä¸€ä¸ª0ï¼ï¼‰ $f[i-1][j]m(m-1)/2$ è¡¨ç¤ºå°†ä¸¤ä¸ª0åšäº¤æ¢ $f[i-1][j](n-m)(n-m-1)/2$ è¡¨ç¤ºå°†ä¸¤ä¸ª1åšäº¤æ¢ æœ€å$f[i][j]$çš„å€¼å°±æ˜¯ä»¥ä¸Š6éƒ¨åˆ†è½¬ç§»ä¹‹å’Œ è€Œæ ¹æ®é¢˜ç›®çš„è¦æ±‚ï¼Œ$ans=\\frac{f[k][m]}{\\sum\\limits_{i=0}^{m}f[k][i]}$ï¼Œè¡¨ç¤º$k$æ¬¡äº¤æ¢åçš„å‰$m$ä¸ªæ•°éƒ½æ˜¯0çš„æ–¹æ¡ˆæ•°ï¼ˆåˆæ³•æ–¹æ¡ˆï¼‰é™¤ä»¥æ€»çš„æ–¹æ¡ˆæ•° è¿™æ ·ä½ å°±å¾—åˆ°äº†ä¸€ä¸ª$O(nk)$çš„dpï¼Œä¸‹é¢æŒ‰ç…§åˆ†ç±»è®¨è®ºçš„é¡ºåºdpä»£ç ï¼š int cnt=0; for(int i=1;i&lt;=m;i++) cnt+=(a[i]==0); f[0][cnt]=1; for(int i=1;i&lt;=k;i++) for(int j=0;j&lt;=m;j++){ if(j!=0) f[i][j]=(f[i][j]+f[i-1][j-1]*(m-(j-1))*(m-(j-1))%mod)%mod; if(j!=m) f[i][j]=(f[i][j]+f[i-1][j+1]*(j+1)*(n-m-(m-(j+1)))%mod)%mod; f[i][j]=(f[i][j]+f[i-1][j]*j*(m-j)%mod)%mod; f[i][j]=(f[i][j]+f[i-1][j]*(m-j)*(n-m-(m-j))%mod)%mod; f[i][j]=(f[i][j]+f[i-1][j]*m*(m-1)/2%mod)%mod; f[i][j]=(f[i][j]+f[i-1][j]*(n-m)*(n-m-1)/2%mod)%mod; } çŸ©ä¹˜éƒ¨åˆ†ï¼šæ³¨æ„åˆ°$k$éå¸¸å¤§ï¼Œè€Œ$n$å´å¾ˆå°ï¼Œè¿™æ„å‘³ç€è¿˜æœ‰ä¼˜åŒ–çš„ç©ºé—´ é‡æ–°è§‚å¯Ÿè½¬ç§»æ–¹ç¨‹ï¼Œå‘ç°$f[i][j]$å¯ä»¥è¡¨ç¤ºä¸º$f[i-1][j-1]k_1+f[i-1][j]k_2+f[i-1][j+1]*k_3$çš„å½¢å¼ï¼Œå…¶ä¸­$k_1$ï¼Œ$k_2$ï¼Œ$k_3$æ˜¯ä¸‰ä¸ªåªä¸$j$ç›¸å…³çš„å¸¸æ•° è¿™ä¸ªç³»æ•°æ’å®šä¸å˜çš„æ€§è´¨ï¼Œå°±æ˜¯çŸ©ä¹˜ä¼˜åŒ–çš„æ ‡å¿— çŸ©ä¹˜ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œ$1m$çŠ¶æ€çŸ©é˜µ$A$ï¼Œå’Œ$mm$è½¬ç§»çŸ©é˜µ$B$ $A$æè¿°çš„æ˜¯æ¯ä¸€é˜¶æ®µçš„$f$æ•°ç»„ï¼Œä¸‹æ ‡ä¸$f$æ•°ç»„çš„$j$æ„ä¹‰ç›¸åŒï¼Œå› æ­¤åˆå§‹åŒ–$A_{cnt}=1$ $B$æ˜¯ç”¨æ¥å°†$A$ä»æ—§çŠ¶æ€è½¬ç§»åˆ°æ–°çŠ¶æ€çš„ï¼Œ$B_{i,j}$è¡¨ç¤ºä»$A_i$è½¬ç§»åˆ°$A_j$çš„ç³»æ•° å…·ä½“åœ°ï¼Œåªè¦ä»”ç»†åœ°æ ¹æ®è½¬ç§»æ–¹ç¨‹å°†ç³»æ•°å¡«è¿›$B$çŸ©é˜µå°±å¥½äº† è¿™æ ·ç­”æ¡ˆæ‰€éœ€è¦çš„çŠ¶æ€$Aâ€™$å°±ç­‰äº$A*B^k$ï¼Œæ„æ€æ˜¯è½¬ç§»äº†$k$æ¬¡ è€Œåˆå› ä¸ºçŸ©ä¹˜çš„ç»“åˆå¾‹ï¼Œå¯ä»¥ç”¨å¿«é€Ÿå¹‚ å¤æ‚åº¦è¢«ä¼˜åŒ–åˆ°äº†$O(n^3\\log k)$ï¼Œå…¶ä¸­$n^3$æ˜¯çŸ©ä¹˜çš„ï¼Œ$\\log k$æ˜¯å¿«é€Ÿå¹‚çš„ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int mod=1e9+7; const int N=105; int n,k,m,cnt,a[N]; struct mat{ int a[N][N]; mat(){memset(a,0,sizeof a);} inline mat operator * (const mat &amp;nt) const { //é‡è½½çŸ©é˜µä¹˜æ³• mat res; for(int i=0;i&lt;=m;i++) for(int j=0;j&lt;=m;j++) for(int k=0;k&lt;=m;k++) res.a[i][j]=(1ll*res.a[i][j]+1ll*a[i][k]*nt.a[k][j]%mod)%mod; return res; } }A,B; mat mpow(mat x,int y){ //çŸ©é˜µå¿«é€Ÿå¹‚ mat res; for(int i=0;i&lt;=m;i++) res.a[i][i]=1; for(;y;y&gt;&gt;=1,x=x*x) if(y&amp;1) res=res*x; return res; } int fpow(int x,int y){ //æ™®é€šå¿«é€Ÿå¹‚ï¼ˆç”¨æ¥æ±‚é€†å…ƒï¼‰ int res=1; for(;y;y&gt;&gt;=1,x=1ll*x*x%mod) if(y&amp;1) res=1ll*res*x%mod; return res; } signed main(){ read(n);read(k); for(int i=1;i&lt;=n;i++){ read(a[i]); m+=(a[i]==0); } for(int i=1;i&lt;=m;i++) cnt+=(a[i]==0); A.a[0][cnt]=1; for(int i=0;i&lt;=m;i++){ //æšä¸¾ï¼ŒæŠŠè½¬ç§»æ–¹ç¨‹å¡åˆ°è½¬ç§»çŸ©é˜µé‡Œ if(i!=0) B.a[i-1][i]=1ll*(m-(i-1))*(m-(i-1))%mod; B.a[i][i]=1ll*i*(m-i)%mod; B.a[i][i]=(1ll*B.a[i][i]+1ll*(m-i)*(n-m-(m-i))%mod)%mod; B.a[i][i]=(1ll*B.a[i][i]+1ll*m*(m-1)/2%mod)%mod; B.a[i][i]=(1ll*B.a[i][i]+1ll*(n-m)*(n-m-1)/2%mod)%mod; if(i!=m) B.a[i+1][i]=1ll*(i+1)*(n-m-(m-(i+1)))%mod; } B=mpow(B,k); A=A*B; int sum=0; for(int i=0;i&lt;=m;i++) sum=(1ll*sum+A.a[0][i])%mod; //ç»Ÿè®¡æ€»æ–¹æ¡ˆæ•°ï¼ˆç­”æ¡ˆçš„åˆ†æ¯ï¼‰ write(1ll*A.a[0][m]*fpow(sum,mod-2)%mod); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"çŸ©é˜µä¹˜æ³•","slug":"çŸ©é˜µä¹˜æ³•","permalink":"https://blog.yzcthinktwice.com/tags/çŸ©é˜µä¹˜æ³•/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1272F Two Bracket Sequences","slug":"CF1272F Two Bracket Sequences","date":"2019-12-17T10:00:03.000Z","updated":"2019-12-17T14:03:11.281Z","comments":true,"path":"2019/12/17/CF1272F Two Bracket Sequences/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/17/CF1272F Two Bracket Sequences/","excerpt":"","text":"CF1272F Two Bracket Sequences é¢˜è§£ï¼šè®¾$g[i][j][k]$è¡¨ç¤ºè¦ä½¿$S$ä¸²åŒ¹é…åˆ°ç¬¬$i$ä¸ªæ‹¬å·ï¼Œ$T$ä¸²åŒ¹é…åˆ°ç¬¬$j$ä¸ªæ‹¬å·ï¼Œæ‰€å¾—åˆ°çš„ç­”æ¡ˆä¸²é‡Œè¿˜æœ‰$k$ä¸ªå·¦æ‹¬å·æœªåŒ¹é…æ‰€éœ€è¦çš„æœ€å°‘æ‹¬å· åŒæ—¶è®°å½•$f[i][j][k]=\\{iâ€™,jâ€™,kâ€™\\}$è¡¨ç¤º$g[i][j][k]$æ˜¯ä»$g[iâ€™][jâ€™][kâ€™]$è½¬ç§»æ¥çš„ è€ƒè™‘è½¬ç§»ï¼š å‡è®¾æˆ‘ä»¬ç°åœ¨è¦åœ¨çŠ¶æ€$\\{i,j,k\\}$ä¸Šæ·»åŠ ä¸ªå·¦æ‹¬å·è½¬ç§»åˆ°çŠ¶æ€$\\{ni,nj,nk\\}$ å› ä¸ºæ˜¯æ·»åŠ å·¦æ‹¬å·ï¼Œæ‰€ä»¥$nk=k+1$ å¦‚æœ$S_{i+1}$æ˜¯å·¦æ‹¬å·ï¼Œé‚£ä¹ˆ$ni=i+1$ï¼ˆæ„æ€æ˜¯åŒ¹é…ï¼‰ï¼Œå¦åˆ™å°±$ni=i$ï¼ˆæ„æ€æ˜¯åŠ ä¸ªä¸å­˜åœ¨çš„æ‹¬å·ï¼‰ $T$ä¸²åŒç† ç›¸åçš„ï¼Œå¦‚æœç°åœ¨è¦åŠ ä¸ªå³æ‹¬å·ï¼Œé‚£$nk=k-1$ï¼ˆå› ä¸ºå¯ä»¥æŠµæ¶ˆä¸€ä¸ªå·¦æ‹¬å·ï¼‰ï¼Œå…¶ä½™ä¸å·¦æ‹¬å·çš„æƒ…å†µåŒç† å¦å¤–ï¼Œè¿˜è¦æ³¨æ„$nk$çš„ä¸Šä¸‹è¾¹ç•Œï¼Œå³$nk\\in[0,len_S+len_T]$ ä»£ç ä¸­ï¼Œè€ƒè™‘ç”¨bfsè¿›è¡Œè¿™ä¸ªdpè¿‡ç¨‹ï¼Œä»$\\{0,0,0\\}$ä¸€æ­¥åŠ ä¸€ä¸ªæ‹¬å·ï¼Œç”±äºbfsçš„æ€§è´¨ï¼Œå¯ä»¥ä¿è¯ç¬¬ä¸€æ¬¡åˆ°è¾¾æŸç§çŠ¶æ€æ—¶ï¼Œè§£ä¸€å®šæ˜¯æœ€ä¼˜çš„ï¼ˆå³æ‹¬å·æ•°æœ€å°‘ï¼‰ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥çœç•¥gæ•°ç»„äº† æœ€åè€ƒè™‘å›æº¯ç»Ÿè®¡ç­”æ¡ˆ æ˜¾ç„¶çš„ï¼ŒçŠ¶æ€$\\{len_S,len_T,0\\}$æ˜¯æˆ‘ä»¬éœ€è¦çš„ç­”æ¡ˆçŠ¶æ€ï¼Œè¡¨ç¤º$S$å’Œ$T$ä¸²éƒ½åŒ¹é…å®Œäº†ï¼Œä¸”æ²¡æœ‰å·¦æ‹¬å·å‰©ä½™ æˆ‘ä»¬å°±å¯ä»¥ä»è¿™ä¸ªç­”æ¡ˆçŠ¶æ€å‡ºå‘ï¼Œæ²¿$f$æ•°ç»„å›æº¯åˆ°$\\{0,0,0\\}$ä¸ºæ­¢ å‡è®¾ç°åœ¨çŠ¶æ€æ—¶$\\{i,j,k\\}$ï¼Œå°†è¦å›æº¯åˆ°$\\{iâ€™,jâ€™,kâ€™\\}$ å¦‚æœ$k&gt;kâ€™$ï¼Œå°±è¯´æ˜ç°åœ¨è¿™ä¸ªçŠ¶æ€æ˜¯ä¸€ä¸ªå·¦æ‹¬å· å¦åˆ™$k&lt;kâ€™$å°±è¯´æ˜è¿™ä¸ªçŠ¶æ€æ˜¯ä¸€ä¸ªå³æ‹¬å· æŠŠç›¸åº”æ‹¬å·åŠ åˆ°ç­”æ¡ˆä¸²é‡Œé€†åºè¾“å‡ºå³å¯ ä»£ç ä¸­æˆ‘å†™äº†ä¸ªç»“æ„ä½“ï¼Œå®é™…ä¸Šä¹Ÿå¯ä»¥ç”¨c++11è‡ªå¸¦çš„å¤šå…ƒç»„tuple ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=205; int n,m; char a[N],b[N]; string ans; struct node{ int i,j,k; }f[N][N][N&lt;&lt;1]; void bfs(){ queue&lt;node&gt; q; memset(f,-1,sizeof f); //ä¸€å¼€å§‹éƒ½æ²¡èµ°è¿‡ f[0][0][0]=(node){0,0,0}; //èµ·å§‹çŠ¶æ€ q.push((node){0,0,0}); while(!q.empty()){ node x=q.front();q.pop(); int i=x.i,j=x.j,k=x.k,ni,nj,nk; ni=i+(a[i+1]==&#39;(&#39;); //åŠ ä¸ªå·¦æ‹¬å·ï¼Œè¿™æ ·å†™å¯ä»¥ç²¾ç®€ä»£ç çš„è¯´~ nj=j+(b[j+1]==&#39;(&#39;); nk=k+1; if(nk&lt;=n+m&amp;&amp;f[ni][nj][nk].i==-1){ //è®°å¿†åŒ–çš„æ€è·¯ï¼Œæ²¡èµ°è¿‡æ‰èƒ½èµ° f[ni][nj][nk]=x; q.push((node){ni,nj,nk}); } ni=i+(a[i+1]==&#39;)&#39;); //åŠ ä¸ªå³æ‹¬å· nj=j+(b[j+1]==&#39;)&#39;); nk=k-1; if(nk&gt;=0&amp;&amp;f[ni][nj][nk].i==-1){ f[ni][nj][nk]=x; q.push((node){ni,nj,nk}); } } } signed main(){ scanf(&quot;%s%s&quot;,a+1,b+1); n=strlen(a+1);m=strlen(b+1); bfs(); int i=n,j=m,k=0; while(i||j||k){ //å›æº¯ node nxt=f[i][j][k]; if(nxt.k&lt;k) ans=&quot;(&quot;+ans; else ans=&quot;)&quot;+ans; i=nxt.i;j=nxt.j;k=nxt.k; } cout&lt;&lt;ans; }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P3978 [TJOI2015]æ¦‚ç‡è®º","slug":"P3978 [TJOI2015]æ¦‚ç‡è®º","date":"2019-12-17T10:00:02.000Z","updated":"2019-12-17T14:14:10.188Z","comments":true,"path":"2019/12/17/P3978 [TJOI2015]æ¦‚ç‡è®º/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/17/P3978 [TJOI2015]æ¦‚ç‡è®º/","excerpt":"","text":"P3978 [TJOI2015]æ¦‚ç‡è®º ä¸€é“æ¨å¼å­å¥½é¢˜ï¼Œæœ¬æ¥ç¡®å®æ˜¯æƒ³å†™é¢˜è§£çš„ï¼Œä½†rqyå†™å¾—å®åœ¨æ˜¯å¤ªå¥½äº†ï¼Œè¿™é‡Œå°±æ”¾å‡ºå¥¹çš„é¢˜è§£ æˆ‘è¿™é‡Œè¡¥å……è¯´æ˜ä¸€ä¸‹$ans=\\frac{g_n}{f_n}$çš„åŸå› ï¼š é¢˜ç›®è¯´æ¯ç§æ ‘æ¦‚ç‡ç›¸åŒï¼Œé‚£æ¦‚ç‡$=\\frac{1}{f_n}$ è®¾ç¬¬$i$ç§nèŠ‚ç‚¹çš„æ ‘æœ‰$p_i$ä¸ªå¶å­ æ ¹æ®æœŸæœ›çš„çº¿æ€§æ€§ï¼Œ$ans=\\sum\\limits_{i=1}^{f_n}\\frac{p_i}{f_n}=\\frac{\\sum\\limits_{i=1}^{f_n}p_i}{f_n}$ åˆå› ä¸º$\\sum\\limits_{i=1}^{f_n}p_i=g_n$ æ‰€ä»¥å¯å¾—$ans=\\frac{g_n}{f_n}$","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://blog.yzcthinktwice.com/tags/æ•°å­¦/"},{"name":"æ¦‚ç‡æœŸæœ›","slug":"æ¦‚ç‡æœŸæœ›","permalink":"https://blog.yzcthinktwice.com/tags/æ¦‚ç‡æœŸæœ›/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"},{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"https://blog.yzcthinktwice.com/tags/è½¬è½½/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P4197 Peaks","slug":"P4197 Peaks","date":"2019-12-17T10:00:01.000Z","updated":"2019-12-17T14:11:54.779Z","comments":true,"path":"2019/12/17/P4197 Peaks/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/17/P4197 Peaks/","excerpt":"","text":"P4197 Peaks ç³…åˆäº†å€å¢ã€Kruskalé‡æ„æ ‘ã€å¯æŒä¹…åŒ–çº¿æ®µæ ‘æ±‚åŒºé—´ç¬¬Kå¤§è¿™äº›ç»å…¸é—®é¢˜ï¼Œæ˜¯ä¸€é“ä¸é”™çš„ç»ƒä¹ é¢˜ é¢˜è§£ï¼šè¿™é¢˜ç”±äºæ¯”è¾ƒå¤æ‚ï¼Œå…ˆæ”¾ä¸Šä¸€å¼ ä»è¿™ç›—æ¥çš„å›¾ï¼Œæ˜¯æ ·ä¾‹çš„Kruskalé‡æ„æ ‘ ï¼š é¦–å…ˆæ³¨æ„åˆ°åªç»è¿‡å›°éš¾å€¼å°äºç­‰äº$x$çš„è·¯å¾„è¿™ä¸€é™åˆ¶ï¼Œè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„Kruskalé‡æ„æ ‘é—®é¢˜ å…·ä½“è§ä¸Šå›¾ï¼šçº¢ç‚¹æ˜¯å®ç‚¹ï¼Œç™½ç‚¹æ˜¯è™šç‚¹ï¼Œçº¢è‰²æ•°å­—æ˜¯è¿æ¥ç™½ç‚¹ä¸‹æ–¹ä¸¤ä¸ªç‚¹çš„è¾¹çš„æƒå€¼ å¾ˆå®¹æ˜“å‘ç°Kruskalé‡æ„æ ‘çš„ä¸€ä¸ªæ€§è´¨ï¼šä¸€æ£µå­æ ‘é‡Œçš„æ‰€æœ‰çº¢æ•°å­—éƒ½æ˜¯å°äºç­‰äºè¯¥å­æ ‘æ ¹ä¸Šçš„çº¢æ•°å­—çš„ ç°åœ¨é¢˜ç›®ç»™å‡ºäº†ä½ èµ·ç‚¹$v$ï¼Œå’Œé™åˆ¶$x$ï¼Œæ ¹æ®è¿™ä¸ªæ€§è´¨ï¼Œå°±å¯ä»¥ä»çº¢ç‚¹$v$å¼€å§‹å‘ä¸Šçˆ¬ï¼Œç›´åˆ°çˆ¬åˆ°ä¸€ä¸ªç™½ç‚¹$p$ï¼Œæ»¡è¶³$p$çš„çˆ¶äº²çš„çº¢è‰²æ•°å­—å¤§äº$x$æˆ–$p$æ²¡æœ‰çˆ¶äº² è‡³äºçˆ¬çš„è¿‡ç¨‹è¿™åˆæ˜¯ä¸€ä¸ªç»å…¸é—®é¢˜ï¼Œæˆ‘ä»¬ç”¨å€å¢è§£å†³ï¼Œå¯ä»¥ä½¿çˆ¬çš„è¿‡ç¨‹å¤æ‚åº¦ä»$O(n)$é™ä¸º$O(\\log n)$ åœ¨å¾—åˆ°$p$ç‚¹åï¼Œä»¥$p$ä¸ºæ ¹çš„å­æ ‘å†…çš„æ‰€æœ‰çº¢ç‚¹å°±æ˜¯èµ·ç‚¹$v$å¯ä»¥åˆ°è¾¾çš„ç‚¹ï¼Œç°åœ¨çš„ä»»åŠ¡å°±æ˜¯è¦å¿«é€Ÿæ±‚å‡ºä¸€æ£µå­æ ‘ä¸Šçš„ç¬¬$k$å¤§æ•° ç”±äºæ‰€æœ‰çš„å±±å³°é«˜åº¦éƒ½åœ¨å¶å­ï¼ˆå³çº¢ç‚¹ä¸Šï¼‰ï¼Œä¸éš¾çœ‹å‡ºæ˜¯æœ‰è¿ç»­æ€§çš„ è§‚å¯Ÿä¸Šé¢çš„å›¾ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å»ºå®Œé‡æ„æ ‘åä»æ ‘æ ¹å¼€å§‹ï¼Œä»ä¸Šå¾€ä¸‹è·‘ä¸€édfs åœ¨æŠŠå€¼æ’å…¥ä¸»å¸­æ ‘çš„åŒæ—¶ï¼ŒæŠŠæ‰€æœ‰çš„å¶å­æ‹æ‰ï¼Œè®°å½•ä¸‹æ‰€æœ‰ç™½ç‚¹æ‰€ç®¡è¾–çš„çº¢ç‚¹çš„èŒƒå›´ è‡³äºè¿™ä¸ªçº¢ç‚¹çš„èŒƒå›´ï¼Œå¯ä»¥å…·ä½“çœ‹å›¾ï¼Œä»å·¦åˆ°å³ï¼Œååˆ†æ¸…æ¥š è¿™æ ·å¯¹äºè¯¢é—®ï¼Œå°±å¯ä»¥å…ˆæ ¹æ®$v$å’Œ$x$æ‰¾å‡º$p$ï¼Œå†åœ¨$p$çš„æ‰€ç®¡è¾–çº¢ç‚¹èŒƒå›´å†…åšä¸ªåŒºé—´ç¬¬$k$å¤§æŸ¥è¯¢å³å¯ å¦å¤–åœ¨ä»£ç ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªå¸¸è§„æ“ä½œæ˜¯è¦å…ˆå°†å±±å³°é«˜åº¦ç¦»æ•£åŒ–äº†å†åš ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e5+5,M=5e5+5; int height[N&lt;&lt;1],rt[N],h[N&lt;&lt;1],en,un,cnt,f[N&lt;&lt;1],fa[N&lt;&lt;1][21],n,m,q,num[N],val[N],id,lef[N&lt;&lt;1],rig[N&lt;&lt;1]; int lc[N&lt;&lt;6],rc[N&lt;&lt;6],a[N&lt;&lt;6]; struct edge{ int n,v; }e[N&lt;&lt;1]; inline void add(int x,int y){ e[++en]=(edge){h[x],y}; h[x]=en; } struct ee{ int x,y,z; inline bool operator &lt; (const ee &amp;nt) const { return z&lt;nt.z; } }data[M]; inline int getf(int x){ if(f[x]==x) return x; return f[x]=getf(f[x]); } /*å»ºåŸºæ ‘*/ int build(int l,int r){ int x=++cnt; if(l==r){ return x; } int mid=l+r&gt;&gt;1; lc[x]=build(l,mid); rc[x]=build(mid+1,r); return x; } /*æ’å…¥ä¸ªæ•°*/ int up(int pre,int l,int r,int p){ int x=++cnt; lc[x]=lc[pre]; rc[x]=rc[pre]; a[x]=a[pre]+1; if(l==r){ return x; } int mid=l+r&gt;&gt;1; if(p&lt;=mid) lc[x]=up(lc[pre],l,mid,p); else rc[x]=up(rc[pre],mid+1,r,p); return x; } /*æŸ¥è¯¢ç¬¬kå¤§*/ int que(int x,int y,int l,int r,int k){ if(l==r) return l; int now=a[rc[y]]-a[rc[x]]; //çœ‹çœ‹è¾ƒå¤§çš„åŠè¾¹æœ‰å¤šå°‘ä¸ªæ•° int mid=l+r&gt;&gt;1; if(now&gt;=k) return que(rc[x],rc[y],mid+1,r,k); //å¤Ÿkä¸ªå°±å¾€å¤§çš„æ‰¾ï¼ˆå³è¾¹ï¼‰ else return que(lc[x],lc[y],l,mid,k-now); //ä¸å¤Ÿå°±ç æ‰å³è¾¹çš„æ•°é‡ï¼Œå†å¾€å°çš„æ‰¾ï¼ˆå·¦è¾¹ï¼‰ } /*ç»´æŠ¤å€å¢æ‰€éœ€ä¿¡æ¯ï¼Œè®°å½•ç™½ç‚¹æ‰€ç®¡è¾–çº¢ç‚¹èŒƒå›´ï¼Œå°†å±±å³°é«˜åº¦æ’åˆ°ä¸»å¸­æ ‘ä¸­*/ void dfs(int x){ for(int i=1;i&lt;=20;i++) fa[x][i]=fa[fa[x][i-1]][i-1]; if(x&lt;=n){ int pos=lower_bound(num+1,num+1+un,val[x])-num; id++; //æ‰¾åˆ°ä¸€ä¸ªçº¢ç‚¹ï¼ŒèŒƒå›´+1 rt[id]=up(rt[id-1],1,un,pos); //æŠŠçº¢ç‚¹çš„å±±å³°é«˜åº¦æ’åˆ°ä¸»å¸­æ ‘ä¸­å» } else{ lef[x]=id; //Attention!!!æ³¨æ„è¿™è¾¹å­˜æ˜¯ä¸€ä¸ªå·¦å¼€å³é—­åŒºé—´ for(int i=h[x];i;i=e[i].n){ int y=e[i].v; dfs(y); } rig[x]=id; } } void doit(){ int s,x,k; read(s);read(x);read(k); for(int i=20;i&gt;=0;i--) if(fa[s][i]&amp;&amp;height[fa[s][i]]&lt;=x) s=fa[s][i]; //å€å¢æ‰¾é¢˜è§£ä¸­æ‰€è¯´çš„pç‚¹ if(rig[s]-lef[s]&lt;k){ //å¦‚æœç®¡è¾–èŒƒå›´å†…æ ¹æœ¬ä¸è¶³kä¸ªç‚¹å°±æ— è§£ puts(&quot;-1&quot;); return ; } write(num[que(rt[lef[s]],rt[rig[s]],1,un,k)]);puts(&quot;&quot;); //æŸ¥è¯¢ } signed main(){ read(n);read(m);read(q); for(int i=1;i&lt;=n;i++) num[i]=read(val[i]); sort(num+1,num+1+n); un=unique(num+1,num+1+n)-num-1; //ç¦»æ•£åŒ– for(int i=1,x,y,z;i&lt;=m;i++){ read(x);read(y);read(z); data[i]=(ee){x,y,z}; } sort(data+1,data+1+m); for(int i=1;i&lt;=n;i++) f[i]=i; for(int i=1,num=0;i&lt;=m;i++){ //Krusakal int x=getf(data[i].x),y=getf(data[i].y); if(x==y) continue; num++; height[n+num]=data[i].z; f[x]=f[y]=f[n+num]=n+num; //n+numæ˜¯è™šç‚¹ç¼–å· add(n+num,x); //ä»ä¸Šå¾€ä¸‹ï¼ˆä»è™šå¾€å®ï¼‰è¿è¾¹ add(n+num,y); fa[x][0]=fa[y][0]=n+num; if(num==n-1) break; } rt[0]=build(1,un); //å»ºåŸºæ ‘ dfs(2*n-1); //2*n-1æ˜¯æ·±åº¦æœ€æµ…çš„è™šç‚¹ï¼Œå³æ ‘æ ¹ while(q--) doit(); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"},{"name":"å€å¢","slug":"å€å¢","permalink":"https://blog.yzcthinktwice.com/tags/å€å¢/"},{"name":"Kruskalé‡æ„æ ‘","slug":"Kruskalé‡æ„æ ‘","permalink":"https://blog.yzcthinktwice.com/tags/Kruskalé‡æ„æ ‘/"},{"name":"å¯æŒä¹…åŒ–çº¿æ®µæ ‘","slug":"å¯æŒä¹…åŒ–çº¿æ®µæ ‘","permalink":"https://blog.yzcthinktwice.com/tags/å¯æŒä¹…åŒ–çº¿æ®µæ ‘/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P4284 [SHOI2014]æ¦‚ç‡å……ç”µå™¨","slug":"P4284 [SHOI2014]æ¦‚ç‡å……ç”µå™¨","date":"2019-12-10T12:11:00.000Z","updated":"2019-12-15T08:12:48.097Z","comments":true,"path":"2019/12/10/P4284 [SHOI2014]æ¦‚ç‡å……ç”µå™¨/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/P4284 [SHOI2014]æ¦‚ç‡å……ç”µå™¨/","excerpt":"","text":"P4284 [SHOI2014]æ¦‚ç‡å……ç”µå™¨ ä¸€é“æ¢æ ¹æ ‘å½¢æ¦‚ç‡æœŸæœ›dpå¥½é¢˜ é¢˜è§£ï¼šå…ˆå¯¹é—®é¢˜è¿›è¡Œè½¬åŒ– å› ä¸ºæœŸæœ›çš„çº¿æ€§æ€§ï¼Œæ‰€ä»¥æ•´æ£µæ ‘æœŸæœ›å‡ ä¸ªè¢«å……ç”µå°±ç­‰ä»·äºæ‰€æœ‰èŠ‚ç‚¹å„è‡ªè¢«å……ç”µçš„æœŸæœ›çš„å’Œï¼Œåˆç”±äºå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼ŒæœŸæœ›éƒ½ç­‰äºæ¦‚ç‡Ã—1ï¼Œæ‰€ä»¥å…¶å®é¢˜ç›®å°±æ˜¯åœ¨é—®ä½ æ‰€æœ‰èŠ‚ç‚¹èƒ½è¢«å……ä¸Šç”µçš„æ¦‚ç‡çš„å’Œ æ–¹ä¾¿èµ·è§ï¼Œè€ƒè™‘ä»åé¢è¿›è¡Œæ€è€ƒï¼Œå³æ±‚æ¯ä¸ªèŠ‚ç‚¹çš„ä¸è¢«å……ä¸Šç”µçš„æ¦‚ç‡ è®°ç‚¹$x$è‡ªå·±äº®çš„æ¦‚ç‡ä¸º$q[x]$ï¼Œx,yä¹‹é—´é€šç”µçš„æ¦‚ç‡ä¸º$e[x][y]$ è®¾$g[x]$è¡¨ç¤ºç‚¹xä¸äº®çš„æ¦‚ç‡ å®¹æ˜“å¾—åˆ°$g[x]=(1-q[x])\\prod\\limits_{(x,y)\\in E}(1-e[x][y]+e[x][y]g[y])$ æ–¹ç¨‹çš„æ„æ€æ˜¯ï¼ˆè‡ªå·±ä¸ä¼šäº®è‡ªå·±ï¼‰ä¸”ï¼ˆï¼ˆä¸ä¹‹ç›¸è¿çš„ç‚¹ä¸ä¼šå¯¼ç”µï¼‰æˆ–ï¼ˆä¸ä¹‹ç›¸è¿çš„ç‚¹ä¼šå¯¼ç”µä½†æ²¡ç”µï¼‰ï¼‰ æ³¨æ„åˆ°è¿™ä¸ªæ–¹ç¨‹æ˜¯æœ‰åæ•ˆæ€§çš„ï¼Œæ‰€ä»¥å…ˆç¡®å®šä¸€ä¸ªå…¨å±€æ ¹ï¼Œå†è®¾$f[x]$è¡¨ç¤ºç‚¹xä¸è¢«ä»¥xä¸ºæ ¹å­æ ‘å†…ä»»ä½•ä¸€ä¸ªç‚¹ç‚¹äº®çš„æ¦‚ç‡ï¼Œå¾—åˆ°æ–°æ–¹ç¨‹$f[x]=(1-q[x])\\prod\\limits_{y \\in son(x)}(1-e[x][y]+e[x][y]f[y])$ å‘ç°è¿™ä¸ªæ–¹ç¨‹æ¯åœ¨æ ‘ä¸Šè·‘ä¸€éï¼Œæ¯æ¬¡æ‰€é€‰çš„å…¨å±€æ ¹çš„g[x]éƒ½å› ä¸ºç­‰äºf[x]è€Œå¾—åˆ° æ‰€ä»¥åªè¦è·‘nédpï¼Œæ¯æ¬¡æ¢ä¸ªå…¨å±€æ ¹å°±å¯ä»¥ç®—å‡ºæ¥æ‰€æœ‰g[x]äº†ï¼Ÿ ç„¶è€Œå› ä¸ºè¿™ä¸ªæ–¹ç¨‹è¦æ±‚çš„ä¸œè¥¿æ˜¾ç„¶æ˜¯å¯ä»¥åˆ†æˆä¸Šè´¡çŒ®å’Œä¸‹è´¡çŒ®ä¸¤éƒ¨åˆ†ï¼Œä¸”ä»…ä»…æ˜¯ä¹˜èµ·æ¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è€ƒè™‘æ¢æ ¹æ ‘å½¢dp åœ¨ç¬¬äºŒæ¬¡dfsçš„æ—¶å€™è·‘g[x]çš„è½¬ç§»æ–¹ç¨‹ï¼Œè¿™è¦æ±‚ç®—å‡ºå®é™…çš„g[fa]ï¼Œå› ä¸ºç°å®çš„g[fa]æ˜¯é‡å¤è®¡ç®—äº†xè¿™éƒ¨åˆ†å­æ ‘çš„è´¡çŒ®çš„ï¼Œæ‰€ä»¥é™¤å»åå¸¦è¿›æ–¹ç¨‹ï¼Œå°±å¯ä»¥å¾—åˆ°g[x]ï¼Œè€Œè‡³äºå¤šä½™çš„éƒ¨åˆ†ï¼Œæ˜¾ç„¶æ˜¯å¯ä»¥ç”¨f[x]ç®—å‡ºæ¥çš„ï¼Œä¹Ÿå°±æ˜¯$g[fa]_{å®é™…}=g[fa]/(1-e[fa][x]+e[fa][x]*f[x])$ ç®—å®Œæ‰€æœ‰çš„g[x]åï¼Œå®¹æ˜“å¾—å‡º$ans=\\sum\\limits_{i=1}^{n}(1-g[i])$ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=5e5+5; int en,h[N],n; double ans,g[N],f[N],p[N]; struct edge{ int n,v; double w; }e[N&lt;&lt;1]; void add(int x,int y,int z){ e[++en]=(edge){h[x],y,0.01*z}; h[x]=en; } void dfs1(int x,int fa){ f[x]=1-p[x]; for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(y==fa) continue; dfs1(y,x); f[x]*=1-e[i].w+e[i].w*f[y]; } } void dfs2(int x,int fa,int past){ if(x==1) g[x]=f[x]; else{ double cfa=g[fa]/(1-e[past].w+e[past].w*f[x]);//contribution from ancestorï¼šç¥–å…ˆçš„è´¡çŒ® g[x]=f[x]*(1-e[past].w+e[past].w*cfa); } for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(y==fa) continue; dfs2(y,x,i); } } signed main(){ read(n); for(int i=1,x,y,z;i&lt;n;i++){ read(x);read(y);read(z); add(x,y,z); add(y,x,z); } for(int i=1,x;i&lt;=n;i++) p[i]=0.01*read(x); dfs1(1,0); dfs2(1,0,0); for(int i=1;i&lt;=n;i++) ans+=1-g[i]; printf(&quot;%.6lf&quot;,ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"æ¦‚ç‡æœŸæœ›","slug":"æ¦‚ç‡æœŸæœ›","permalink":"https://blog.yzcthinktwice.com/tags/æ¦‚ç‡æœŸæœ›/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P2114 [NOI2014]èµ·åºŠå›°éš¾ç»¼åˆç—‡","slug":"P2114 [NOI2014]èµ·åºŠå›°éš¾ç»¼åˆç—‡","date":"2019-12-10T12:09:00.000Z","updated":"2019-12-15T08:14:35.080Z","comments":true,"path":"2019/12/10/P2114 [NOI2014]èµ·åºŠå›°éš¾ç»¼åˆç—‡/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/P2114 [NOI2014]èµ·åºŠå›°éš¾ç»¼åˆç—‡/","excerpt":"","text":"P2114 [NOI2014]èµ·åºŠå›°éš¾ç»¼åˆç—‡ LOJä¹Ÿæœ‰ï¼Œå·§å¦™çš„ä½è¿ç®—è´ªå¿ƒé¢˜ é¢˜è§£ï¼šæ³¨æ„åˆ°æ¯ä¸€ä½éƒ½æ˜¯å„è‡ªç‹¬ç«‹çš„ï¼Œè¿™æ„å‘³ç€è´ªå¿ƒæ˜¯å¯è¡Œçš„ ç”±äºæ¯ä¸€ä½åœ¨ç¡®å®šäº†èµ·å§‹çš„æ•°å­—åéƒ½æ— æ³•å†æ”¹å˜ï¼Œæ‰€ä»¥ä¸å¦¨é¢„å¤„ç†å‡ºæ¯ä¸€ä½çš„0/1åœ¨ç»è¿‡æ‰€æœ‰é—¨åæ˜¯0è¿˜æ˜¯1 å…·ä½“çš„æ–¹æ³•æ˜¯åˆ†åˆ«æ‹¿ä¸€ä¸ªå…¨0çš„æ•°å’Œä¸€ä¸ªå…¨1çš„æ•°ï¼ˆ0x7fffffffï¼‰å»ç©¿è¿‡æ‰€æœ‰é—¨ è¿™æ ·ä¸€æ¥å¯¹äºæ¯ä¸€ä½åªä¼šæœ‰å››ç§æƒ…å†µï¼š æƒ…å†µ èµ·å§‹ ç»ˆæ­¢ èµ·å§‹ ç»ˆæ­¢ 1 0 0 1 0 2 0 0 1 1 3 0 1 1 0 4 0 1 1 1 è´ªå¿ƒçš„ï¼Œæˆ‘ä»¬ä»é«˜åˆ°ä½æšä¸¾å„ä½ï¼Œå¯¹äºç¬¬iä½ï¼Œå¦‚æœèƒ½ä»0å˜1ï¼Œé‚£è‚¯å®šé€‰0ï¼Œæ²¡æœ‰ä»£ä»·ï¼Œè´¡çŒ®ä¸º$2^i$ å¦åˆ™ï¼Œå¦‚æœåªæœ‰1èƒ½å˜1ï¼Œä¸”è¿˜æœ‰è‡³å°‘$2^i$çš„èµ„æœ¬ï¼Œé‚£å°±è¦ç”¨$2^i$çš„ä»£ä»·æ¢$2^i$çš„è´¡çŒ®ï¼Œå…·ä½“çš„ï¼Œâ€œèµ„æœ¬â€å°±æ˜¯æŒ‡é¢˜ç›®ç»™å‡ºçš„m ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } int p1=0x7fffffff,p0,n,m,ans,x; //p1æ˜¯å…¨1æ•°ï¼Œp0æ˜¯å…¨0æ•° char s[5]; signed main(){ read(n);read(m); while(n--){ scanf(&quot;%s&quot;,s);read(x); if(s[0]==&#39;A&#39;) p0&amp;=x,p1&amp;=x; //åˆ†åˆ«ç©¿è¿‡né“é—¨ if(s[0]==&#39;X&#39;) p0^=x,p1^=x; if(s[0]==&#39;O&#39;) p0|=x,p1|=x; } for(int i=29;i&gt;=0;i--){ if(p0&gt;&gt;i&amp;1) ans|=1&lt;&lt;i; //èƒ½ä»0åˆ°1 else if(p1&gt;&gt;i&amp;1&amp;&amp;(1&lt;&lt;i)&lt;=m) ans|=1&lt;&lt;i,m-=1&lt;&lt;i; //èƒ½ä»1åˆ°1ä¸”èµ„æœ¬å……è¶³ } write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"},{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","permalink":"https://blog.yzcthinktwice.com/tags/ä½è¿ç®—/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1245E Hyakugoku and Ladders","slug":"CF1245E Hyakugoku and Ladders","date":"2019-12-10T12:08:00.000Z","updated":"2019-12-15T08:12:55.715Z","comments":true,"path":"2019/12/10/CF1245E Hyakugoku and Ladders/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/CF1245E Hyakugoku and Ladders/","excerpt":"","text":"CF1245E Hyakugoku and Ladders ä¸€é“ä¸é”™çš„æ¦‚ç‡dp é¢˜è§£ï¼šæ–¹ä¾¿èµ·è§ï¼Œå…ˆå°†äºŒç»´è½¬æˆä¸€ç»´ï¼Œç»ˆç‚¹ä¸º100,èµ·ç‚¹ä¸º1 è®¾f[i]è¡¨ç¤ºæ ¼å­iåˆ°ç»ˆç‚¹çš„æœŸæœ›æ­¥æ•°ï¼Œnxt[i]è¡¨ç¤ºç”¨æ¢¯å­ä¼šåˆ°è¾¾çš„æ ¼å­ åˆå§‹f[100]=0 å…ˆè€ƒè™‘ä¸èƒ½ä¸€æ­¥åˆ°çš„æ ¼å­ï¼ˆ93ï½1ï¼‰ï¼Œè½¬ç§»ä¸º$f[i]=1+\\frac{\\sum_{j=1}^{6} \\min(f[i+j],f[nxt[i+j]])}{6}$ ï¼ˆè§£é‡Šï¼š+1è¡¨ç¤ºè¦åœ¨ä¸Šä¸€ç§åŸºç¡€ä¸Šå¤šæ‰”ä¸€æ¬¡ï¼Œé™¤ä»¥6è¡¨ç¤ºä»æ¯ä¸ªä¸Šä¸€ç§è½¬ç§»çš„æ¦‚ç‡éƒ½æ˜¯$\\frac{1}{6}$ï¼Œmin()è¡¨ç¤ºå¯ä»¥é è€è€å®å®èµ°è½¬ç§»ï¼Œä¹Ÿå¯ä»¥é æ¢¯å­è½¬ç§»ï¼‰ å†è€ƒè™‘èƒ½ä¸€æ­¥åˆ°çš„æ ¼å­ï¼ˆ99ï½94ï¼‰ æ‰‹ç®— f[99]=\\frac{5(f[99]+1)}{6}+\\frac{f[100]+1}{6}ï¼ˆè§£é‡Šï¼š$\\frac{5}{6}$æ¦‚ç‡ç•™åŸåœ°,$\\frac{1}{6}$æ¦‚ç‡åˆ°ç»ˆç‚¹ï¼‰ æ‰“å¼€ \\frac{f[99]}{6}=1å¾—åˆ° f[99]=6å…¶ä»–åŒç†ï¼Œå¯ä»¥å¾—å‡º99~94å·æ ¼å­éƒ½æœŸæœ›6æ­¥åˆ°è¾¾ç»ˆç‚¹ æœ€åç­”æ¡ˆå°±æ˜¯f[1] ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=15; int id[N][N],nxt[105],cnt; double f[105]; signed main(){ for(int i=10;i&gt;=1;i--) if(i&amp;1) for(int j=10;j&gt;=1;j--) id[i][j]=++cnt; else for(int j=1;j&lt;=10;j++) id[i][j]=++cnt; //id[i][j]è¡¨ç¤ºä»ä¸Šåˆ°ä¸‹ç¬¬iè¡Œï¼Œä»å·¦åˆ°å³ç¬¬jåˆ—è½¬æˆä¸€ç»´åçš„åºå· for(int i=1,x;i&lt;=10;i++) for(int j=1;j&lt;=10;j++) nxt[id[i][j]]=id[i-read(x)][j]; //nxt[i]è¡¨ç¤ºç¬¬iæ ¼å­ä¼šåˆ°å“ªï¼Œæœ‰æ¢¯å­åˆ™æŒ‡å‘æ¢¯å­ç»ˆç‚¹ï¼Œå¦åˆ™æŒ‡å‘è‡ªå·± for(int i=99;i&gt;=94;i--) f[i]=6; //æ‰‹ç®—å¾—å‡º for(int i=93;i&gt;=1;i--){ for(int j=1;j&lt;=6;j++) f[i]+=fmin(f[i+j],f[nxt[i+j]]); //è½¬ç§» f[i]=f[i]/6.0+1; //é™¤ä»¥æ¦‚ç‡ï¼ŒåŠ ä¸Šä»£ä»· } printf(&quot;%.10lf&quot;,f[1]); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"æ¦‚ç‡æœŸæœ›","slug":"æ¦‚ç‡æœŸæœ›","permalink":"https://blog.yzcthinktwice.com/tags/æ¦‚ç‡æœŸæœ›/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF138C Mushroom Gnomes - 2","slug":"CF138C Mushroom Gnomes - 2","date":"2019-12-10T12:07:00.000Z","updated":"2019-12-15T08:14:30.101Z","comments":true,"path":"2019/12/10/CF138C Mushroom Gnomes - 2/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/CF138C Mushroom Gnomes - 2/","excerpt":"","text":"CF138C Mushroom Gnomes - 2 åæ¨¡æ¿çš„ç”¨çº¿æ®µæ ‘ä¼˜åŒ–çš„ç®€å•æ¦‚ç‡æœŸæœ›é¢˜ é¢˜è§£ï¼šé¦–å…ˆè½¬åŒ–é¢˜æ„ï¼Œé¢˜ç›®é—®æ‰€æœ‰è˜‘è‡ä»·å€¼å’Œçš„æœŸæœ›ï¼Œç”±äºæœŸæœ›çš„çº¿æ€§æ€§ï¼Œè¿™ç­‰åŒäºåœ¨é—®ä½ æ¯ä¸ªè˜‘è‡æœŸæœ›ä»·å€¼ä¹‹å’Œï¼Œå·²çŸ¥ä»·å€¼ï¼Œåªè¦æ±‚å‡ºæ¯ä¸ªè˜‘è‡ä¸è¢«è¦†ç›–çš„æ¦‚ç‡å³å¯ æ€è·¯å¾ˆå¥½æƒ³ï¼Œå¯¹äºæ¯æ£µæ ‘ï¼Œåœ¨å®ƒçš„å·¦è¾¹åšä¸ªåŒºé—´ä¹˜ï¼Œåœ¨å®ƒçš„å³è¾¹åšä¸ªåŒºé—´ä¹˜ï¼Œä¹˜ä¸Šçš„æ˜¯1-å€’ä¸‹çš„æ¦‚ç‡ï¼Œæœ€åå†å•ç‚¹æŸ¥è¯¢æ¯ä¸ªè˜‘è‡ä¸è¢«è¦†ç›–çš„æ¦‚ç‡ å¦å¤–ï¼Œå› ä¸ºæ³¨æ„åˆ°èŒƒå›´ä¸º1e9ï¼Œæ‰€ä»¥è¿˜è¦ç¦»æ•£åŒ–ï¼Œå¯¹äºæ¯æ£µæ ‘çš„æ“ä½œï¼Œåªè®°å½•å·¦è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹å’Œå³è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹ ç‰¹åˆ«çš„ï¼Œåœ¨ä»£ç ä¸­ï¼Œç”±äºè¯¢é—®éƒ½åœ¨ä¿®æ”¹ä¹‹åï¼Œæ‰€ä»¥æ ‡è®°ç›´æ¥ä¿ç•™åœ¨çº¿æ®µä¸Šå³å¯ï¼Œä¸ç”¨ä¸Šä¸‹ä¼ ï¼Œåªè¦æŸ¥è¯¢çš„æ—¶å€™ä¸€ç›´ç´¯ä¹˜å³å¯ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e5+5,M=1e4+5,NM=N*4+M,TR=NM&lt;&lt;2; int n,m,pt[NM],pn; double p[TR],ans; struct tree{ int x,h,l,r; }a[N]; struct mushroom{ int x,v; }b[M]; void build(int x,int l,int r){ p[x]=1; //åˆå§‹æ¦‚ç‡éƒ½ä¸º1 if(l==r) return ; int mid=l+r&gt;&gt;1; build(x&lt;&lt;1,l,mid); build(x&lt;&lt;1|1,mid+1,r); } void up(int x,int l,int r,int L,int R,double v){ if(L&lt;=l&amp;&amp;r&lt;=R){ p[x]*=v; return ; } int mid=l+r&gt;&gt;1; if(L&lt;=mid) up(x&lt;&lt;1,l,mid,L,R,v); if(R&gt;mid) up(x&lt;&lt;1|1,mid+1,r,L,R,v); } double que(int x,int l,int r,int pos){ if(l==r) return p[x]; int mid=l+r&gt;&gt;1; if(pos&lt;=mid) return p[x]*que(x&lt;&lt;1,l,mid,pos); //æŠŠæ ‡è®°ç´¯ä¹˜ return p[x]*que(x&lt;&lt;1|1,mid+1,r,pos); } signed main(){ read(n);read(m); for(int i=1;i&lt;=n;i++){ read(a[i].x);read(a[i].h);read(a[i].l);read(a[i].r); pt[++pn]=a[i].x-a[i].h; //ptå‚¨å­˜æœ‰ç”¨çš„ç«¯ç‚¹ä¿¡æ¯ pt[++pn]=a[i].x-1; pt[++pn]=a[i].x+1; pt[++pn]=a[i].x+a[i].h; } for(int i=1;i&lt;=m;i++){ read(b[i].x);read(b[i].v); pt[++pn]=b[i].x; } sort(pt+1,pt+1+pn); pn=unique(pt+1,pt+1+pn)-pt-1; build(1,1,pn); for(int i=1;i&lt;=n;i++){ up(1,1,pn,lower_bound(pt+1,pt+1+pn,a[i].x-a[i].h)-pt,lower_bound(pt+1,pt+1+pn,a[i].x-1)-pt,1.0-0.01*a[i].l); //ä¹˜å·¦è¾¹ up(1,1,pn,lower_bound(pt+1,pt+1+pn,a[i].x+1)-pt,lower_bound(pt+1,pt+1+pn,a[i].x+a[i].h)-pt,1.0-0.01*a[i].r); //ä¹˜å³è¾¹ } for(int i=1;i&lt;=m;i++) ans+=que(1,1,pn,lower_bound(pt+1,pt+1+pn,b[i].x)-pt)*b[i].v; //æŸ¥è¯¢æ¦‚ç‡å¹¶ä¹˜ä¸Šä»·å€¼ printf(&quot;%.10lf&quot;,ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"æ¦‚ç‡æœŸæœ›","slug":"æ¦‚ç‡æœŸæœ›","permalink":"https://blog.yzcthinktwice.com/tags/æ¦‚ç‡æœŸæœ›/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1227F2 Wrong Answer on test 233 (Hard Version)","slug":"CF1227F2 Wrong Answer on test 233 (Hard Version)","date":"2019-12-10T12:04:00.000Z","updated":"2019-12-15T08:16:30.801Z","comments":true,"path":"2019/12/10/CF1227F2 Wrong Answer on test 233 (Hard Version)/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/CF1227F2 Wrong Answer on test 233 (Hard Version)/","excerpt":"","text":"CF1227F2 Wrong Answer on test 233 (Hard Version) ç‚¹è¿™é€šå¾€Easyç‰ˆé¢˜è§£/) Hardç‰ˆæ˜¯ä¸ªç»„åˆæ•°å­¦é¢˜ï¼Œä½†åªè¦å‘ç°äº†å¯¹ç§°æ€§æ¯”Easyæ›´ç®€å•ã€‚ã€‚ã€‚ é¢˜è§£ï¼šå‡è®¾ä½ å·²ç»é€šè¿‡å„ç§å¥‡å¥‡æ€ªæ€ªçš„æ–¹æ³•å‘ç°äº†Easyç‰ˆä¸­ï¼Œ$f[i][j]=f[i][-j]$è¿™ä¸€æ€§è´¨ï¼ˆæ¯”æ–¹è¯´å¤§çœ¼è§‚å¯Ÿè¿™å¯¹ç§°çš„dpæ–¹ç¨‹å•Šï¼ˆé›¾ï¼‰ï¼‰ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹æ¨å¯¼ å·²çŸ¥$ANS=\\sum\\limits_{i=1}^{n}f[i][j] [j&gt;0]$ï¼Œ$\\sum\\limits_{i=1}^{n}f[i][j] [j&gt;0]=\\sum\\limits_{i=1}^{n}f[i][j] [j&lt;0]$ï¼Œæ€»æ–¹æ¡ˆæ•°=$k^n$ å¯å¾—$ANS=\\frac{k^n-\\sum\\limits_{i=1}^{n}f[i][0]}{2}$ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ç°åœ¨è¦æ±‚å‡ºå˜åŒ–å‰ååˆ†æ•°ç›¸åŒçš„æ–¹æ¡ˆæ•° è®¾$m=\\sum\\limits_{i=1}^{n}[a_i==a_{nxt(i)}]$ ä¸EasyåŒç†ï¼Œå®¹æ˜“å‘ç°åªæœ‰è¿™mé¢˜ä¼šå¼•èµ·åˆ†æ•°å·®çš„æ”¹å˜ æˆ‘ä»¬å¯ä»¥ä»0åˆ°$\\left \\lfloor \\frac{m}{2} \\right \\rfloor$æšä¸¾$i$è¡¨ç¤ºè¿™mé¢˜ä¸­æœ‰ié“å¯¼è‡´åˆ†æ•°å·®-1ï¼ŒåŒæ—¶è¿™éœ€è¦ié“å¯¼è‡´åˆ†æ•°å·®+1çš„é¢˜æ¥æŠµæ¶ˆå½±å“ é€‰æ‹©è¿™$2i$é“é¢˜çš„æ–¹æ¡ˆæ•°å°±æ˜¯$\\binom{m}{i}\\binom{m-i}{i}$ï¼ŒåŒæ—¶è¿˜è¦ä¹˜ä¸Š$(k-2)^{m-2*i}$ï¼Œå› ä¸ºå‰©ä¸‹çš„é¢˜æƒ³ä¸é€ æˆå½±å“ï¼Œå„è‡ªéƒ½æœ‰k-2ç§é€‰æ‹© $i$æšä¸¾ç´¯åŠ å®Œåï¼Œè¿˜è¦å†ä¹˜ä¸Šä¸€ä¸ª$k^{n-m}$ï¼Œå› ä¸ºé‚£äº›é¢˜æ— è®ºæ€ä¹ˆé€‰éƒ½ä¸ä¼šé€ æˆå½±å“ æ‰€ä»¥æœ€åå¯ä»¥å¾—åˆ°ï¼š ANS=\\frac{k^n-k^{n-m}*\\sum\\limits_{i=0}^{\\left \\lfloor \\frac{m}{2} \\right \\rfloor}(\\binom{m}{i}*\\binom{m-i}{i}*(k-2)^{m-2*i})}{2}ä¾å¼è®¡ç®—å³å¯ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long const int mod=998244353; const int N=2e5+5; int n,k,f[N],inv[N],ans,a[N],b[N],m; int fpow(int x,int y,int mod){ int res=1; for(;y;y&gt;&gt;=1,mod?(x*=x)%=mod:x*=x) if(y&amp;1) mod?(res*=x)%=mod:res*=x; return res; } int C(int n,int m){ return f[n]*inv[m]%mod*inv[n-m]%mod; } signed main(){ read(n);read(k); for(int i=1;i&lt;=n;i++) read(a[i]),b[i%n+1]=a[i]; if(k==1){ write(0); return 0; } for(int i=1;i&lt;=n;i++) if(a[i]^b[i]) m++; f[0]=1; for(int i=1;i&lt;=m;i++) f[i]=f[i-1]*i%mod; inv[m]=fpow(f[m],mod-2,mod); for(int i=m-1;i&gt;=0;i--) inv[i]=inv[i+1]*(i+1)%mod; for(int i=0;i*2&lt;=m;i++) (ans+=C(m,i)*C(m-i,i)%mod*fpow(k-2,m-i*2,mod)%mod)%=mod; (ans*=fpow(k,n-m,mod))%=mod; write((fpow(k,n,mod)-ans+mod)%mod*fpow(2,mod-2,mod)%mod); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://blog.yzcthinktwice.com/tags/æ•°å­¦/"},{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1227F1 Wrong Answer on test 233 (Easy Version)","slug":"CF1227F1 Wrong Answer on test 233 (Easy Version)","date":"2019-12-10T12:03:00.000Z","updated":"2019-12-15T08:12:59.519Z","comments":true,"path":"2019/12/10/CF1227F1 Wrong Answer on test 233 (Easy Version)/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/CF1227F1 Wrong Answer on test 233 (Easy Version)/","excerpt":"","text":"CF1227F1 Wrong Answer on test 233 (Easy Version) ç‚¹è¿™é€šå¾€Hardç‰ˆé¢˜è§£/) Easyç‰ˆæ˜¯ä¸ªdpé¢˜ é¢˜è§£ï¼š$f[i][j]$è¡¨ç¤ºå‰$i$é“é¢˜ï¼Œ$s2$æ¯”$s1$å¤šå¯¹$j$é“é¢˜ï¼ˆæ³¨æ„$j$å€¼åŸŸ$[-n,n]$ï¼Œæ‰€ä»¥ä»£ç ä¸­è¦é¢å¤–åŠ ä¸ª$n$ï¼‰ åˆå§‹åŒ–$f[0][0]=1$ è½¬ç§»æœ‰ä¸¤ç§ å‡è®¾ç¬¬$i$é¢˜ç­”æ¡ˆä¸º$A$ï¼Œ$i$åé¢ä¸€é¢˜ç­”æ¡ˆä¸º$B$ è‹¥$A==B$ï¼Œåˆ™$f[i][j]=f[i-1][j]*k$ï¼Œæ„æ€æ˜¯æ— è®ºç¬¬ié¢˜æ€æ ·é€‰ï¼Œs1å’Œs2çš„å·®éƒ½ä¸ä¼šå› æ­¤è€Œæ”¹å˜ï¼Œè¦ä¹ˆéƒ½å¯¹ï¼Œè¦ä¹ˆéƒ½é”™ è‹¥$A!=B$ï¼Œåˆ™$f[i][j]=f[i-1][j-1]+f[i-1][j+1]+(k-2)*f[i-1][j]$ï¼Œæ„æ€æ˜¯ä¸€ç§è‡ªå·±é”™çš„æ–¹æ³•ï¼Œä¸€ç§è‡ªå·±å¯¹çš„æ–¹æ³•ï¼Œk-2ç§éƒ½é”™çš„æ–¹æ³• æœ€åç­”æ¡ˆå°±æ˜¯$\\sum\\limits_{i=1}^{n}f[n][i]$ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long const int mod=998244353; const int N=2005; int n,k,ans,a[N],b[N],f[N][N&lt;&lt;1]; signed main(){ read(n);read(k); for(int i=1;i&lt;=n;i++) read(a[i]),b[i%n+1]=a[i]; //b[]æ˜¯ç§»ä½åçš„a[] if(k==1){ write(0); return 0; } f[0][0+n]=1; for(int i=1;i&lt;=n;i++){ if(a[i]==b[i]){ for(int j=-n;j&lt;=n;j++) f[i][j+n]=f[i-1][j+n]*k%mod; } else{ for(int j=-n;j&lt;=n;j++) f[i][j+n]=(f[i-1][j-1+n]+f[i-1][j+1+n]+(k-2)*f[i-1][j+n])%mod; } } for(int i=1;i&lt;=n;i++) (ans+=f[n][i+n])%=mod; write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"ABC147X","slug":"ABC147X","date":"2019-12-10T12:02:00.000Z","updated":"2019-12-15T08:16:52.143Z","comments":true,"path":"2019/12/10/ABC147X/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/ABC147X/","excerpt":"","text":"ABC147æ—©ä¸ŠèŠ±2ä¸ªå¤šå°æ—¶å…¨è¿‡äº†ï¼Œæ¥å†™ç¯‡æ€»é›† ABC147A Blackjacké¢˜è§£ï¼š3è¡Œç­¾åˆ°é¢˜ï¼Œæ¨¡æ‹Ÿå³å¯ ä»£ç ï¼šç•¥ ABC147B Palindrome-philiaé¢˜è§£ï¼šæ­£ç€åç€åŒæ—¶æ‰«ï¼Œä¸åŒå°±ans++ ä»£ç ï¼šç•¥ ABC147C HonestOrUnkind2é¢˜è§£ï¼šnå¾ˆå°ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥$2^n$æšä¸¾å“ªäº›æ˜¯å¥½çš„ï¼Œä¸€ä¸ªç®€ä¾¿çš„åšæ³•å°±æ˜¯é€šè¿‡æšä¸¾$1~2^n-1$è¿™äº›æ•°ï¼Œç¬¬iä½ä¸º1åˆ™è¡¨ç¤ºç¬¬iä¸ªäººæ˜¯å¥½çš„ï¼Œå†å¯¹æ¯ç§æƒ…å†µä¾æ¬¡å»æ£€æŸ¥æ¯å¥â€œå¥½äººâ€è¯´çš„è¯ï¼Œå¦‚æœä¸è‡ªå·±çš„æšä¸¾ç›¸çŸ›ç›¾åˆ™ä¸åˆæ³•ï¼Œå¦åˆ™åˆæ³•å°±ç»Ÿè®¡1çš„ä¸ªæ•°ï¼ˆå³å¥½äººçš„ä¸ªæ•°ï¼‰ï¼Œå–æœ€å¤§çš„è¾“å‡º ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=17; int n,ans,a[N],x[N][N],y[N][N]; bool check(int s){ for(int i=0;i&lt;n;i++) if(s&gt;&gt;i&amp;1) for(int j=1;j&lt;=a[i];j++) if((s&gt;&gt;x[i][j]&amp;1)!=y[i][j]) return 0; return 1; } int count(int x){ int ans=0; while(x){ if(x&amp;1) ans++; x&gt;&gt;=1; } return ans; } signed main(){ read(n); for(int i=0;i&lt;n;i++){ read(a[i]); for(int j=1;j&lt;=a[i];j++) read(x[i][j]),read(y[i][j]),x[i][j]--; } int lim=1&lt;&lt;n; for(int s=0;s&lt;lim;s++) if(check(s)) ans=max(ans,count(s)); write(ans); } ABC147D Xor Sum 4é¢˜è§£ï¼šæ³¨æ„åˆ°å¼‚æˆ–ï¼Œè¿™è¯´æ˜æ‰€æœ‰çš„å¼‚æˆ–å€¼éƒ½æ˜¯å„è‡ªç‹¬ç«‹çš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨æ¯ä¸€ä½ä¸Š1çš„ä¸ªæ•°ä¹˜æ¯ä¸€ä½ä¸Š0çš„ä¸ªæ•°å¾—åˆ°ç­”æ¡ˆä¸­è¯¥ä½ä¸Šçš„æ•° ååˆ†å·§å¦™çš„æ˜¯ï¼Œè™½ç„¶è¿™æ˜¯äºŒè¿›åˆ¶ï¼Œä½†å¹¶ä¸ç”¨è€ƒè™‘é«˜ç²¾ï¼ˆæˆ‘å°±æ‰“äº†é«˜ç²¾ï¼‰ï¼Œå› ä¸ºæ”¹ä¸ºçš„å•ä½å€¼ä¹˜ä¸Šè¯¥ä½çš„æ•°å€¼ï¼Œè‡ªåŠ¨å°±ä¼šå¸®ä½ è¿›ä½åˆ°è¾ƒé«˜ä½ï¼Œä¾æ¬¡ç±»æ¨ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long const int mod=1e9+7; int ans,cnt[70],n; signed main(){ read(n); for(int i=1,x;i&lt;=n;i++){ read(x); for(int j=0;j&lt;60;j++) if(x&gt;&gt;j&amp;1ll) cnt[j]++; //cnt[i]è¡¨ç¤ºç¬¬iä½ä¸Š1çš„ä¸ªæ•° } for(int i=0;i&lt;60;i++) (ans+=cnt[i]*(n-cnt[i])%mod*((1ll&lt;&lt;i)%mod)%mod)%=mod; write(ans); } ABC147E Balanced Pathé¢˜è§£ï¼šé€’æ¨é¢˜ï¼Œè¯¦è§è¿™é‡Œ ä»£ç ï¼šåŒä¸Š ABC147F Sum Differenceé¢˜è§£ï¼šé€’æ¨é¢˜ï¼Œè¯¦è§è¿™é‡Œ ä»£ç ï¼šåŒä¸Š","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"AtCoder","slug":"AtCoder","permalink":"https://blog.yzcthinktwice.com/tags/AtCoder/"},{"name":"æ€»é›†","slug":"æ€»é›†","permalink":"https://blog.yzcthinktwice.com/tags/æ€»é›†/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"ABC147F Sum Difference","slug":"ABC147F Sum Difference","date":"2019-12-10T12:01:00.000Z","updated":"2019-12-15T08:14:22.033Z","comments":true,"path":"2019/12/10/ABC147F Sum Difference/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/ABC147F Sum Difference/","excerpt":"","text":"ABC147F Sum Difference é¢˜è§£ï¼šè®°æœ‰$N$ä¸ªæ•°ï¼Œèµ·å§‹ä¸º$s$ï¼Œå…¬å·®ä¸º$d$ï¼Œé«˜æ¡¥é‚£æœ‰$n$ä¸ªæ•°ï¼Œæœ‰$k_1$ä»½$d$ï¼Œé’æœ¨é‚£æœ‰$m$ä¸ªæ•°ï¼Œ$k_2ä»½d$ æ˜¾ç„¶çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†é«˜æ¡¥çš„å€¼è®¾ä¸º$(ns+k1d)$ï¼Œå°†é’æœ¨çš„å€¼è®¾ä¸º$(ms+k2d)$ åˆ™$\\Delta=(n-m)s+(k1-k2)d$ åˆå› ä¸º$n+m=N$,$k_1+k_2=\\sum\\limits_{i=0}^{N-1}i=N*(N-1)/2$ æ‰€ä»¥$\\Delta=(2n-N)s+(2k_1-N(N-1)/2)*d$ ä¹Ÿå°±æ˜¯è¯´$\\Delta$åªä¸$ns+k_1d$ç›¸å…³ï¼Œå…¶å®ƒçš„éƒ½æ˜¯äº›å¸¸æ•° å¹¶ä¸”ï¼Œå…¶å®$k_1\\in[\\sum\\limits_{i=0}^{n-1}i,\\sum\\limits_{i=N-n}^{N-1}i]$ï¼ŒåŒºé—´å†…çš„æ‰€æœ‰æ•´æ•°$k_1$éƒ½å¯ä»¥å–åˆ°ï¼Œè¿™ä¸€ç‚¹å¾ˆå®¹æ˜“è¯æ˜ å› æ­¤ç°åœ¨é—®é¢˜å˜æˆäº†ç»™å‡ºN+1ä¸ªå½¢å¦‚$\\{ ns+k_1d |k_1\\in[\\sum\\limits_{i=0}^{n-1}i,\\sum\\limits_{i=N-n}^{N-1}i] \\}$çš„ç­‰å·®æ•°åˆ—ï¼Œæ±‚å®ƒä»¬å¹¶é›†çš„å¤§å° æ³¨æ„åˆ°å…¬å·®éƒ½æ˜¯dï¼Œè¿™è¯´æ˜ä¸¤ä¸ªä¸åŒçš„ç­‰å·®æ•°åˆ—æ˜¯å¦æœ‰äº¤é›†åªå–å†³äºä»–ä»¬çš„èµ·ç‚¹%dçš„å€¼ï¼Œæˆ‘ä»¬è®°èµ·ç‚¹$n*s\\equiv p (\\mod d)$ï¼Œåˆ™å¯ä»¥å°†på€¼ç›¸åŒçš„ç­‰å·®æ•°åˆ—æ”¾åœ¨ä¸€èµ·å¤„ç† æ­¤æ—¶på€¼ç›¸åŒçš„ç­‰å·®æ•°åˆ—åˆå¥½æ¯”ä¸€æ¡æ¡çº¿æ®µï¼Œè®©ä½ æ±‚å®ƒä»¬æ‰€è¦†ç›–çš„æ€»ç‚¹æ•° è¿™å°±ååˆ†å¥½å¤„ç†äº†ï¼Œå…ˆè®°ä¸‹æ¯æ¡çº¿æ®µçš„å·¦å³ç«¯ç‚¹ï¼ŒæŒ‰ç…§å·¦å³ç«¯ç‚¹ä»å·¦åˆ°å³å†æ’ä¸ªåºï¼Œç»´æŠ¤å·¦å³ç«¯ç‚¹æå€¼çš„åŒæ—¶åˆ†ç±»è®¨è®ºï¼Œæ‰«ä¸€éå³å¯ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºç®—æ³•ä¸­ç”¨åˆ°äº†æ¨¡dï¼Œè€Œdçš„å€¼åŸŸæ˜¯åŒ…æ‹¬0çš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦ç‰¹åˆ¤d==0ï¼š s==0åˆ™ç›´æ¥è¾“å‡º1 s!=0åˆ™ç›´æ¥è¾“å‡ºn+1 åœ¨æˆ‘çš„ä»£ç ä¸­ä¼šæœ‰ä¸å°‘å†—ä½™çš„éƒ¨åˆ†ï¼Œä¸»è¦æ˜¯ä¸ºäº†æä¾›ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“ç†è§£çš„æ€è·¯ å¦å¤–ï¼Œä»£ç ä¸­å¹¶æ²¡æœ‰ç‰¹æ„ç®—å‡ºpå€¼ï¼Œå…·ä½“å¤„ç†å¯ä»¥è§æ³¨é‡Š ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long const int N=2e5+5; int ans,n,s,d; /*è¯¥ç»“æ„ä½“è®°å½•ä¸€ä¸ªç²¾ç®€åç­‰å·®æ•°åˆ—çš„ä¿¡æ¯*/ struct seg{ int i,l,r; //iæ˜¯nï¼Œlæ˜¯å·¦ç«¯ç‚¹ï¼Œræ˜¯å³ç«¯ç‚¹ inline bool operator &lt; (const seg &amp;nt) const { int d1=i%d*s%d,d2=nt.i%d*s%d; //d1å’Œd2æ˜¯ä¸¤ä¸ªç­‰å·®æ•°åˆ—çš„på€¼ if(d1^d2) return d1&lt;d2; //å°†på€¼ä½œä¸ºç¬¬ä¸€å…³é”®å­— if(l^nt.l) return l&lt;nt.l; //ç„¶åå°†å·¦ç«¯ç‚¹ä»å·¦å‘å³æ’ï¼ˆå…¶å®å¥½åƒå¹¶ä¸ç”¨è€ƒè™‘ç›¸åŒçš„lå’Œrï¼‰ return r&gt;nt.r; } }f[N]; /*è®¡ç®—l+l+1+...+r-1+r*/ int calc(int l,int r){ return (l+r)*(r-l+1)/2; } signed main(){ read(n);read(s);read(d); if(d==0){ //ç‰¹åˆ¤ if(s==0) write(1); else write(n+1); return 0; } for(int i=0;i&lt;=n;i++) f[i]=(seg){i,i*s/d+calc(0,i-1),i*s/d+calc(n-i,n-1)}; //è®¡ç®—ç­‰å·®æ•°åˆ—çš„å„ç§ä¿¡æ¯ï¼Œæ³¨æ„nçš„æšä¸¾æ˜¯ä»0åˆ°n sort(f,f+1+n); for(int i=0,j;i&lt;=n;i=j+1){ j=i; //åŒºé—´[i,j]å†…çš„ç­‰å·®æ•°åˆ—çš„på€¼éƒ½æ˜¯ç›¸ç­‰çš„ while(j+1&lt;=n&amp;&amp;f[j+1].i%d*s%d==f[i].i%d*s%d) j++; int l=f[i].l,r=f[i].r; //lå’Œræ˜¯å·²è®¿é—®è¿‡æœ€å³ç‹¬ç«‹çº¿æ®µå¹¶çš„å·¦å³ç«¯ç‚¹ ans+=r-l+1; for(int k=i+1;k&lt;=j;k++){ if(f[k].r&lt;=r) continue; //è¢«å½“å‰åŒºé—´æ‰€åŒ…æ‹¬ï¼Œå¯ä»¥ç›´æ¥è·³è¿‡ä¸å¤„ç† if(f[k].l&lt;=r){ //ä¸å½“å‰åŒºé—´æœ‰äº¤é›†ï¼Œæ›´æ–°ç­”æ¡ˆå’ŒåŒºé—´å³è¾¹ç•Œ ans-=r-l+1; //åˆ é™¤åŸè´¡çŒ® r=f[k].r; ans+=r-l+1; //åŠ ä¸Šæ–°è´¡çŒ® } else{ //æ— äº¤é›†ï¼Œé‡æ–°è®¾ç½®å·¦å³è¾¹ç•Œ l=f[k].l; r=f[k].r; ans+=r-l+1; //åŠ ä¸Šæ–°è´¡çŒ® } } } write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"AtCoder","slug":"AtCoder","permalink":"https://blog.yzcthinktwice.com/tags/AtCoder/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://blog.yzcthinktwice.com/tags/æ•°å­¦/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"ABC147E Balanced Path","slug":"ABC147E Balanced Path","date":"2019-12-10T12:00:00.000Z","updated":"2019-12-15T08:12:44.718Z","comments":true,"path":"2019/12/10/ABC147E Balanced Path/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/ABC147E Balanced Path/","excerpt":"","text":"ABC147E Balanced Path é¢˜è§£ï¼šæ–¹æ ¼ï¼Ÿå–æ•°ï¼Ÿå‘å³å‘ä¸‹èµ°ï¼Ÿ æˆ‘é¦–å…ˆå¾ˆè‡ªç„¶åœ°æƒ³åˆ°äº†f[i][j]è¡¨ç¤ºåˆ°(i,j)æ ¼æœ€å°å·®çš„dpï¼Œç„¶é¹…è¿™æ˜¯é”™çš„ï¼Œå› ä¸ºè¿™ç©æ„æ˜¾ç„¶æ˜¯ä¸æ»¡è¶³å±€éƒ¨æœ€ä¼˜è§£çš„ã€‚ã€‚ã€‚ æ³¨æ„åˆ°æ¯ä¸ªæ ¼ä¸Šçš„æ•°ç»™çš„å¾ˆå°ï¼Œåªæœ‰80ï¼Œè¿™æ„å‘³å·®çš„ç»å¯¹å€¼èŒƒå›´åªåœ¨0~161x80ï¼ˆ161æ„æ€æ˜¯åœ¨80x80çš„æ£‹ç›˜é‡Œï¼Œè¦èµ°è¿‡161æ ¼ï¼‰ ç„¶åè€ƒè™‘f[i][j][k]=0/1è¡¨ç¤ºåˆ°ç¬¬(i,j)æ ¼ï¼Œå·®çš„ç»å¯¹å€¼ä¸ºkçš„æ–¹æ¡ˆæ˜¯å¦å­˜åœ¨ è½¬ç§»æ—¶æšä¸¾f[i-1][j][]å’Œf[i][j-1][]ä¸­çš„æ‰€æœ‰å¯è¡Œçš„kï¼ˆå¯è¡Œçš„åˆ¤å®šå³f[i][j][k]=1ï¼‰ï¼ŒåŠ ä¸Šæˆ–å‡å»å½“å‰æ ¼å†…çš„å·®å€¼ï¼Œè®°ä¸ºkâ€™ï¼Œå°†æ‰€æœ‰çš„f[i][j][|kâ€™|]èµ‹ä¸º1ï¼ˆæ³¨æ„ç»å¯¹å€¼ï¼‰ è¿™é‡Œå‘ç°è½¬ç§»æœ‰å¾ˆå¤šå¤šä½™çš„æ­¥éª¤ï¼Œæ‰€ä»¥å¯ä»¥æ·»åŠ ä¸€ç‚¹ä¼˜åŒ– è®²ä¸€ä¸‹æˆ‘é€‰æ‹©çš„ä¼˜åŒ–ï¼Œä¼˜åŒ–å¹…åº¦è¾ƒå°ï¼Œä½†ä»£ç å¥½æ‰“ï¼Œå³é¢å¤–é¢å¤–ä¸€ä¸ªg[i][j]è¡¨ç¤ºå½“å‰å„è‡ªä¸Šå¯è¡Œè§£å¾—æœ€å¤§å€¼ï¼Œè¿™æ ·è½¬ç§»æ—¶å°±ä¸ç”¨æ¯æ¬¡çš„ä»0åˆ°161x80è·‘ï¼Œåªéœ€è¦0åˆ°g[i][j-1]å’Œg[i-1][j]å°±å¯ä»¥äº† å…¶å®ƒäººçš„ä¼˜åŒ–ä¹Ÿæ˜¯å¼‚æ›²åŒå·¥ï¼Œä¸»è¦ç›®çš„æ˜¯å‡å°‘å†—ä½™çš„è¯•é”™ å› ä¸ºæœ€åç­”æ¡ˆæ—¢è¦æ»¡è¶³æœ€ä¼˜ï¼Œåˆè¦æ»¡è¶³å¯è¡Œï¼Œæ‰€ä»¥$ans= \\min \\{ k|f[n][m][k]==1 \\}$ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=82; int n,m,a[N][N],b[N][N],g[N][N]; bool f[N][N][12801]; signed main(){ read(n);read(m); for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=m;j++) read(a[i][j]); for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=m;j++) read(b[i][j]),a[i][j]=abs(a[i][j]-b[i][j]); //åæ­£åªéœ€è¦ä¸€ä¸ªå·®ï¼Œå°±å…ˆéƒ½ç®—å‡ºæ¥ f[1][1][a[1][1]]=1; g[1][1]=a[1][1]; for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=m;j++){ if(i&gt;1){ for(int k=0;k&lt;=g[i-1][j];k++) if(f[i-1][j][k]) f[i][j][abs(k-a[i][j])]=f[i][j][k+a[i][j]]=1; g[i][j]=max(g[i][j],g[i-1][j]+a[i][j]); } if(j&gt;1){ for(int k=0;k&lt;=g[i][j-1];k++) if(f[i][j-1][k]) f[i][j][abs(k-a[i][j])]=f[i][j][k+a[i][j]]=1; g[i][j]=max(g[i][j],g[i][j-1]+a[i][j]); } } for(int k=0;k&lt;=g[n][m];k++) if(f[n][m][k]){ write(k); return 0; } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"AtCoder","slug":"AtCoder","permalink":"https://blog.yzcthinktwice.com/tags/AtCoder/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1223E Paint the Tree","slug":"CF1223E Paint the Tree","date":"2019-12-10T11:57:00.000Z","updated":"2019-12-15T08:12:52.052Z","comments":true,"path":"2019/12/10/CF1223E Paint the Tree/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/CF1223E Paint the Tree/","excerpt":"","text":"CF1223E Paint the Tree é”»ç‚¼äº†è½¬åŒ–é¢˜æ„çš„èƒ½åŠ› é¢˜è§£ï¼šé¦–å…ˆè½¬åŒ–é¢˜æ„ï¼šé¢˜ç›®å‘Šè¯‰ä½ ä¸€ä¸ªç‚¹æœ€å¤škç§é¢œè‰²ï¼Œæ¯ç§é¢œè‰²æœ€å¤šä¸¤æ¬¡ï¼Œä¸¤ç«¯ç‚¹åŒè‰²è¾¹èƒ½è·å¾—å®ƒçš„è´¡çŒ® æ˜¾ç„¶çš„ï¼ŒåŒè‰²è·è´¡çŒ®ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å¦‚æœæƒ³è¦æŸæ¡è¾¹çš„è´¡çŒ®çš„è¯ï¼Œå°±è¦å°†å®ƒä»¬æ¶‚ä¸ŠåŒä¸€ç§é¢œè‰²ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªç‚¹æœ€å¤šé€‰kæ¡ç›¸è¿è¾¹çš„è´¡çŒ® æ­¤æ—¶ï¼Œé¢˜æ„å˜ä¸ºé€‰è‹¥å¹²æ¡è¾¹ï¼Œè§„å®šæ¯ä¸ªç‚¹çš„è¾¹é›†ä¸­æœ€å¤šé€‰kæ¡ï¼Œé—®æœ€å¤§è¾¹æƒå’Œ é—®æœ€å¤§ä»·å€¼ï¼Œè‚¯å®šè¦ç”¨è´ªå¿ƒï¼Œä½†åœ¨è¿™é‡Œåªèƒ½æ˜¯ä¸ªå±€éƒ¨è´ªå¿ƒï¼Œå³åœ¨æ¯åœ¨æ‰€æœ‰ç›¸è¿è¾¹é‡Œï¼Œåœ¨æ»¡è¶³è§„å®šçš„å‰æä¸‹ï¼Œå°½å¯èƒ½é€‰å¤§è¾¹ æ³¨æ„åˆ°ä¸€ä¸ªç‚¹è¿å‡ºçš„ä¼šæœ‰ä¸¤ç§è¾¹ï¼Œçˆ¶è¾¹å’Œå­è¾¹ï¼Œå¦‚æœä¸é€‰çˆ¶è¾¹çš„è¯ï¼Œå°±å¯ä»¥åœ¨å­è¾¹é‡Œè´ªå¿ƒé€‰kæ¡ï¼Œå¦åˆ™å°±åªèƒ½é€‰k-1æ¡ï¼ˆå³å‡å»ç¬¬kå¤§çš„å­è¾¹ï¼‰ äºæ˜¯è®¾$f[x][1/0]$è¡¨ç¤ºä»¥xä¸ºæ ¹çš„å­æ ‘å†…çš„æœ€å¤§è¾¹æƒå’Œï¼Œ1è¡¨ç¤ºé€‰çˆ¶è¾¹ï¼Œ0è¡¨ç¤ºä¸é€‰ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äº$f[x][1]$æ˜¯å¹¶ä¸åŒ…æ‹¬çˆ¶è¾¹è´¡çŒ®çš„ï¼Œå› ä¸ºå¯¹å®ƒçš„å®šä¹‰æ˜¯ä»¥xä¸ºæ ¹çš„å­æ ‘å†…çš„æœ€å¤§è¾¹æƒå’Œï¼Œææ¸…æ¥šè®¾çš„æ˜¯ä»€ä¹ˆï¼Œè¿™å¾ˆé‡è¦ å¯¹äºè½¬ç§»ï¼Œ$f[x][0]$å°±æ˜¯ç´¯åŠ å­è¾¹é‡Œæœ€å¤§çš„kä¸ªä»·å€¼ï¼Œè€Œ$f[x][1]$æ˜¯k-1ä¸ª å…·ä½“çš„ï¼Œå­è¾¹çš„ä»·å€¼æ˜¯æŒ‡$\\max(f[son][0],f[son][1]+w[x][son])$ å¦å¤–åœ¨ä»£ç ä¸­è¿˜æœ‰è®¸å¤šå·§å¦™çš„å°ç»†èŠ‚ï¼Œæœ‰åŠ©äºç²¾ç®€ä»£ç  å¦‚å…ˆå°†$f[x][1]$çœ‹æˆ$f[x][0]$ä¸€èµ·å¤„ç†ï¼Œæœ€åå†å‡å»ç¬¬kå¤§çš„å­è¾¹è´¡çŒ® åˆå¦‚å…ˆå‡è®¾éƒ½ä¸é€‰å­è¾¹ï¼Œç´¯åŠ ä¸Š$f[son][0]$ï¼Œç»å¯¹$f[son][1]+w[x][son]-f[son][0]$è¿›è¡Œæ’åºï¼Œæœ€åå¦‚æœæ’åºå‡ºæ¥çš„å‰kä¸ªæ˜¯æ­£æ•°ï¼ˆå³é€‰å­è¾¹æ›´ä¼˜ï¼‰çš„è¯ï¼Œå°±ä¹Ÿç´¯åŠ ä¸Šï¼Œæ›´æ–°æœ€ä¼˜å€¼ï¼Œè¿™ä¸ªæœ€ä¼˜å€¼å°±æ˜¯$f[x][0]$ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long const int N=5e5+5; int en,h[N],n,k,f[N][2]; struct edge{ int n,v,w; }e[N&lt;&lt;1]; void add(int x,int y,int z){ e[++en]=(edge){h[x],y,z}; h[x]=en; } void dfs(int x,int fa){ int tot=0; vector&lt;int&gt; a; for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(y==fa) continue; dfs(y,x); tot+=f[y][0]; //å‡è®¾éƒ½ä¸é€‰å­è¾¹ a.push_back(f[y][1]+e[i].w-f[y][0]); } sort(a.begin(),a.end(),greater&lt;int&gt;()); for(int i=0;i&lt;min((int)a.size(),k);i++) if(a[i]&gt;0) tot+=a[i]; //æ‹¿å·®å€¼æ›´æ–°æœ€ä¼˜å€¼ f[x][0]=f[x][1]=tot; if(k&lt;=a.size()&amp;&amp;a[k-1]&gt;0) f[x][1]-=a[k-1]; //é™¤å»ç¬¬kå¤§çš„ï¼Œç•™ç»™çˆ¶è¾¹ } void doit(){ read(n);read(k); for(int i=1;i&lt;=n;i++) h[i]=0; en=0; for(int i=1,x,y,z;i&lt;n;i++){ read(x);read(y);read(z); add(x,y,z); add(y,x,z); } dfs(1,0); write(f[1][0]);puts(&quot;&quot;); } signed main(){ int t; read(t); while(t--) doit(); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF799D Field expansion","slug":"CF799D Field expansion","date":"2019-12-10T11:56:00.000Z","updated":"2019-12-15T08:14:18.166Z","comments":true,"path":"2019/12/10/CF799D Field expansion/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/CF799D Field expansion/","excerpt":"","text":"CF799D Field expansion é¢˜è§£ï¼šè™½ç„¶nç»™çš„èŒƒå›´å¾ˆå¤§ï¼Œä½†é¦–å…ˆè¦æ˜ç¡®ï¼Œæœ€åæƒ…å†µä¸‹ä¹Ÿè‡³å¤šæ“ä½œ34æ¬¡ï¼Œå› ä¸º$a,b\\leq2^{17}$ï¼Œæ‰€ä»¥34ä¹‹åçš„æ“ä½œéƒ½å¯ä»¥æ— è§† è¿™å…¶å®å°±è¯´æ˜è¿™é“é¢˜å¯ä»¥ç”¨æŒ‡æ•°çº§ç®—æ³•è§£å†³ï¼Œå¦‚bfs è€ƒè™‘åœ¨bfsè®¾ä¸¤ä¸ªå‚æ•°$x$å’Œ$y$ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸¤è¾¹çš„ç›®æ ‡æ”¾å¤§å€æ•°ï¼Œå¹¶ä¸”ä½¿$x&lt;y$ è´ªå¿ƒçš„ï¼Œæ“ä½œè‚¯å®šæ˜¯ä»å¤§åˆ°å°é€‰çš„ è¿™æ ·æ¯æ¬¡æ“ä½œè‡³å¤šåªä¼šäº§ç”Ÿä¸¤ç§æ–°çŠ¶æ€ï¼Œè¦ä¹ˆåœ¨$x$ä¸­ç æ‰ä¸€å®šå€æ•°ï¼Œè¦ä¹ˆåœ¨$y$ä¸­ç æ‰ä¸€å®šå€æ•° å¦‚æœæŸä¸ªæ—¶åˆ»$x$å’Œ$y$éƒ½ç­‰äº1äº†ï¼Œå°±è¯´æ˜å·²ç»åˆæ³•ï¼Œè¾“å‡ºç­”æ¡ˆ å¦åˆ™åˆ°ä¸äº†å°±æ— è§£è¾“-1 ä¸‹é¢çš„ä»£ç çœ‹èµ·æ¥å¯èƒ½æ˜¯$2^{34}$çš„ï¼Œä½†å…¶å®æ˜¯$2^{17}$çš„ï¼Œå› ä¸ºåœ¨ä¸€è¾¹è¾¾åˆ°ç›®æ ‡å€æ•°åï¼Œå®ƒçš„xå°±ä¸€ç›´ä¼šä¿æŒ1çš„çŠ¶æ€è¢«mapè®°å½•ä¸‹ï¼Œä¸å†å¢åŠ æ–°çŠ¶æ€ï¼Œä»è€Œå°±ä»åŒé€‰å˜æˆå•é€‰äº† ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define pii pair&lt;int,int&gt; #define x first #define y second const int N=1e5+5; int a,b,h,w,n,val[N]; queue&lt;pii&gt; q; map&lt;pii,int&gt; v; //mapè®°å½•è¯¥çŠ¶æ€æœ‰æ²¡æœ‰èµ°è¿‡ï¼Œè‡³å°‘èµ°å‡ æ­¥ pii adjust(pii x){ //ç»´æŠ¤xå’Œyï¼Œä½¿å¾—xå§‹ç»ˆy if(x.x&gt;x.y) swap(x.x,x.y); return x; } int divi(int x,int y){ //è®¡ç®—ç›®æ ‡æ”¾å¤§å€æ•° return x/y+(x%y!=0); } signed main(){ read(a);read(b);read(h);read(w);read(n); for(int i=1;i&lt;=n;i++) read(val[i]); sort(val+1,val+1+n,greater&lt;int&gt;()); //å€’ç€æ’åº int lim=min(34,n); //æœ€å¤§æ“ä½œæ¬¡æ•° pii hii=pii(divi(a,h),divi(b,w)),wii=pii(divi(a,w),divi(b,h)); //æ—‹è½¬ä¹Ÿå¯ä»¥ï¼Œæ‰€ä»¥æœ‰ä¸¤ç§èµ·å§‹çŠ¶æ€ v[hii]=v[wii]=1; //èµ·å§‹æ­¥æ•°ä¸º1 q.push(hii); q.push(wii); while(!q.empty()){ //bfs pii now=q.front(); q.pop(); int step=v[now]; if(now.x==1&amp;&amp;now.y==1){ write(step-1); //æ“ä½œæ¬¡æ•°=æ­¥æ•°-1 return 0; } if(step&gt;lim) continue; pii nxt=adjust(pii(divi(now.x,val[step]),now.y)); //è¯¥æ“ä½œç»™x if(v[nxt]==0){ //æ²¡æœ‰èµ°è¿‡å°±èµ° v[nxt]=step+1; q.push(nxt); } nxt=adjust(pii(now.x,divi(now.y,val[step]))); //è¯¥æ“ä½œç»™y if(v[nxt]==0){ v[nxt]=step+1; q.push(nxt); } } write(-1); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"æœç´¢","slug":"æœç´¢","permalink":"https://blog.yzcthinktwice.com/tags/æœç´¢/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P2515 [HAOI2010]è½¯ä»¶å®‰è£…","slug":"P2515 [HAOI2010]è½¯ä»¶å®‰è£…","date":"2019-12-10T11:12:00.000Z","updated":"2019-12-15T08:17:22.137Z","comments":true,"path":"2019/12/10/P2515 [HAOI2010]è½¯ä»¶å®‰è£…/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/P2515 [HAOI2010]è½¯ä»¶å®‰è£…/","excerpt":"","text":"P2515 [HAOI2010]è½¯ä»¶å®‰è£… ååˆ†å·§å¦™çš„ä¸€é“ç¼©ç‚¹+dfsåºä¸ŠèƒŒåŒ…å¥½é¢˜ é¢˜è§£å®¹æ˜“å‘ç°ä¸€ä¸ªå¼ºè”é€šåˆ†é‡é‡Œçš„æ‰€æœ‰ç‚¹éƒ½æ˜¯ç›¸äº’ä¾å­˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªé€‰ï¼Œä¸ªä¸ªé€‰ï¼Œæ‰€ä»¥ä¸å¦¨æŠŠä»£ä»·ã€è´¡çŒ®åˆ†åˆ«æ±‚å’Œå¹¶ç¼©ç‚¹ ç¼©å®Œç‚¹åæ˜¯ä¸ªæœ‰ç€æ£®æ—æ€§è´¨çš„æœ‰å‘å›¾ï¼Œè‡ªç„¶çš„ï¼ŒåŠ ä¸ªè™šç‚¹ï¼ŒæŠŠæ‰€æœ‰æ ‘æ ¹è¿åœ¨ä¸€èµ·ï¼Œåˆæˆä¸€æ£µæ ‘ æ¥ä¸‹æ¥çš„æ“ä½œå°±ååˆ†ç„å­¦å·§å¦™äº†ï¼Œæ˜¯å¤æ‚åº¦ååˆ†ä¼˜ç§€çš„dfsåºdpï¼ˆæˆ‘æ˜¯ç¬¬ä¸€æ¬¡è§åˆ°ã€‚ã€‚ã€‚ï¼‰ å…ˆè·‘å‡ºè¿™æ£µæ ‘çš„dfsåºï¼Œå¹¶å¤„ç†å‡ºä¸€äº›ä¸œè¥¿ è®°$id[i]$è¡¨ç¤ºdfsåºç¬¬iä½çš„èŠ‚ç‚¹ç¼–å·ï¼Œ$sz[i]è¡¨ç¤ºä»¥iä¸ºæ ¹çš„å­æ ‘çš„å¤§å°$ï¼Œ$cost[i]$ä¸ºèŠ‚ç‚¹çš„ä»£ä»·ï¼Œ$val[i]$ä¸ºèŠ‚ç‚¹çš„è´¡çŒ®ï¼Œ$pre[i]$è¡¨ç¤ºæ ‘ä¸Šï¼Œæ ¹åˆ°içˆ¶äº²çš„ä»£ä»·çš„å’Œ è®¾$f[i][j]$è¡¨ç¤ºdfsåºä¸Šï¼Œå‰i-1ä¸ªç‚¹ï¼ˆæ³¨æ„ï¼Œè¿™æ˜¯ç²¾åæ‰€åœ¨ï¼‰ï¼Œç”¨äº†jå•ä½å†…å­˜æ—¶çš„æœ€å¤§ä»·å€¼ è½¬ç§»åˆ†æˆä¸¤ç±»ï¼Œé‡‡ç”¨åˆ·è¡¨æ³• é€‰æ‹©å½“å‰èŠ‚ç‚¹ f[i+1][j+cost[id[i]]]=\\max\\{ f[i][j] \\} +val[id[i]] ä¸é€‰æ‹©å½“å‰èŠ‚ç‚¹ f[i+sz[id[i]]][j]=\\max\\{ f[i][j] \\} æœ€åç­”æ¡ˆå°±æ˜¯$f[æ–°æ ‘èŠ‚ç‚¹æ•°+1][m]$ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=105,M=505; int f[N][M],n,m,du[N],id[N],sz[N],cn,en,h[N],dfn[N],cnt,low[N],st[N],lim,scc[N],cost[N],val[N],w[N],s[N],pre[N]; bool v[N]; struct edge{ int n,u,v; }e[N&lt;&lt;1]; void add(int x,int y){ e[++en]=(edge){h[x],x,y}; h[x]=en; } void tarjan(int x){ low[x]=dfn[x]=++cnt; st[++lim]=x; v[x]=1; for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(!dfn[y]){ tarjan(y); low[x]=min(low[x],low[y]); } else{ if(v[y]) low[x]=min(low[x],dfn[y]); } } if(low[x]==dfn[x]){ int top; cn++; for(;;){ top=st[lim--]; v[top]=0; scc[top]=cn; cost[cn]+=w[top]; val[cn]+=s[top]; if(top==x) break; } } } void dfs(int x){ id[++cnt]=x; sz[x]=1; for(int i=h[x];i;i=e[i].n){ int y=e[i].v; pre[y]=pre[x]+cost[x]; dfs(y); sz[x]+=sz[y]; } } signed main(){ read(n);read(m); for(int i=1;i&lt;=n;i++) read(w[i]); for(int i=1;i&lt;=n;i++) read(s[i]); for(int i=1,x;i&lt;=n;i++){ read(x); if(x) add(x,i); } for(int i=1;i&lt;=n;i++) if(!dfn[i]) tarjan(i); memset(h,0,sizeof h); int enn=en; for(int i=1;i&lt;=enn;i++){ int x=e[i].u,y=e[i].v; if(scc[x]==scc[y]) continue; add(scc[x],scc[y]); du[scc[y]]++; } for(int i=1;i&lt;=cn;i++) if(!du[i]) add(0,i); //åŠ è™šç‚¹ cnt=0; dfs(0); for(int i=1;i&lt;=cnt;i++){ for(int j=pre[id[i]];j&lt;=m-cost[id[i]];j++) //é€‰ f[i+1][j+cost[id[i]]]=max(f[i+1][j+cost[id[i]]],f[i][j]+val[id[i]]); for(int j=pre[id[i]];j&lt;=m;j++) //ä¸é€‰ f[i+sz[id[i]]][j]=max(f[i+sz[id[i]]][j],f[i][j]); } write(f[cnt+1][m]); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"ç¼©ç‚¹","slug":"ç¼©ç‚¹","permalink":"https://blog.yzcthinktwice.com/tags/ç¼©ç‚¹/"},{"name":"dfsåº","slug":"dfsåº","permalink":"https://blog.yzcthinktwice.com/tags/dfsåº/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P1485 ç«æªæ‰“æ€ª","slug":"P1485 ç«æªæ‰“æ€ª","date":"2019-12-10T11:10:00.000Z","updated":"2019-12-15T08:16:48.198Z","comments":true,"path":"2019/12/10/P1485 ç«æªæ‰“æ€ª/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/10/P1485 ç«æªæ‰“æ€ª/","excerpt":"","text":"P1485 ç«æªæ‰“æ€ª å·§å¦™åœ°ä½¿ç”¨å‰ç¼€å’Œè¿›è¡Œå¤æ‚åº¦ä¼˜åŒ–ï¼ˆå…¶å®æ˜¯åç¼€ï¼Œä½†åç€åšå°±æ˜¯å‰ç¼€äº†qwqï¼‰ é¢˜è§£ï¼šå¾ˆæ˜æ˜¾ï¼Œå¯¹äºpæˆ‘ä»¬è¦è¿›è¡ŒäºŒåˆ†ç­”æ¡ˆï¼Œå¤æ‚åº¦ä¸€åªlog ä½†è¿™ä¹Ÿæ„å‘³ç€checkå‡½æ•°å¤æ‚åº¦åªèƒ½ä¸ºçº¿æ€§çš„ï¼Œè¿™å°±æ˜¯é—®é¢˜çš„éš¾åº¦æ‰€åœ¨ é¦–å…ˆï¼Œæœ´ç´ åœ°æƒ³ï¼Œå¯ä»¥ä»å³å¾€å·¦æ‰“æ€ªï¼ŒåŒæ—¶ç»´æŠ¤å·¦è¾¹æ¯ä¸ªæ€ªçš„å‰©ä½™è¡€é‡$b_i$ï¼Œå¦‚æœæšä¸¾åˆ°$i$æ—¶ï¼Œ$b_i&lt;0$å°±è¯´æ˜å®ƒæ­»äº†ï¼Œå¦åˆ™å°±ä¸€ç›´ç”¨å­å¼¹ï¼ŒçŸ¥é“$b_i&lt;0$æˆ–å­å¼¹ç”¨å…‰ å› ä¸ºpæ˜¯ç›¸å¯¹å›ºå®šçš„ï¼Œæ‰€ä»¥å¯ä»¥å…ˆç”¨sqrt()å¾—å‡ºæº…å°„çš„æœ€è¿œè·ç¦»$s$ å‡è®¾ä»å·¦åˆ°å³ç¬¬iåªæ€ªåŸæœ‰è¡€é‡ä¸º$a_i$ï¼Œåœ¨$i$å³è¾¹ç”¨äº†$m$æ¬¡å­å¼¹ï¼Œæ¯æ¬¡å­å¼¹ç›´æ¥ä½œç”¨åœ¨$x_j$ä½ç½®ä¸Š å¯ä»¥å¾—åˆ°è®¡ç®—å¼ï¼š$b_i=a_i-\\sum\\limits_{j=1}^{m}[p-(x_j-i)^2]$ å°è¯•å¯¹å®ƒè¿›è¡Œæ‹†åˆ†ï¼š \\ \\ \\ \\ a_i-\\sum\\limits_{j=1}^{m}[p-(x_j-i)^2]=a_i-\\sum\\limits_{j=1}^{m}(p-x_j^2-i^2+2x_ji)=a_i-\\sum\\limits_{j=1}^{m}p+\\sum\\limits_{j=1}^{m}x_j^2+\\sum\\limits_{j=1}^{m}i^2-\\sum\\limits_{j=1}^{m}2x_ji=a_i-m(p-i^2)+\\sum\\limits_{j=1}^{m}x_j^2-2i\\sum\\limits_{j=1}^{m}x_jå‘ç°å¯¹äºæ­¤å¼éœ€è¦ç»´æŠ¤ä¸‰ä¸ªä¸œè¥¿ï¼š$m$ï¼Œ$\\sum\\limits_{j=1}^{m}x_j^2$ï¼Œ$\\sum\\limits_{j=1}^{m}x_j$ å¯¹äºä¸‰è€…åˆ†åˆ«å¼€ä¸€ä¸ªè®°å½•åç¼€å’Œçš„æ•°ç»„ï¼Œæ¯ç”¨ä¸€æšå­å¼¹ï¼Œå°±æ›´æ–°ä¸€ä¸‹ å¯¹äºè·ç¦»çš„é™åˆ¶ï¼Œç”¨åç¼€å’Œç®€å•å·®åˆ†ä¸€ä¸‹å³å¯ è¿™æ ·å°±å¯ä»¥åšåˆ°$O(1)$ æŸ¥è¯¢ï¼Œ$O(n)$åˆ¤æ–­äº† ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long const int N=5e5+5; int a[N],sum1[N],sum2[N],sum3[N],ans,n,k; inline int min(const int &amp;x,const int &amp;y){return x&lt;y?x:y;} /*sum1[]æ˜¯ç¬¬ä¸‰ä¸ªï¼Œsum2[]æ˜¯ç¬¬äºŒä¸ªï¼Œsum3[]æ˜¯ç¬¬ä¸€ä¸ª*/ bool check(int p){ int ma=sqrt(p); //é¢„å¤„ç†å‡ºæœ€å¤§è·ç¦» for(int i=n;i&gt;=1;i--){ sum1[i]=sum1[i+1]; //ç»§æ‰¿ sum2[i]=sum2[i+1]; sum3[i]=sum3[i+1]; int lim=min(n+1,i+ma+1); int hp=a[i]-(sum3[i]-sum3[lim])*(p-i*i); //ä»ä¸‰ä¸ªåç¼€å’Œé‚£åˆ†åˆ«æŸ¥è¯¢ hp+=sum2[i]-sum2[lim]; hp-=2*i*(sum1[i]-sum1[lim]); if(hp&lt;0) continue; //æ­»äº†å°±è·³è¿‡ while(hp&gt;=0){ hp-=p; sum1[i]+=i; //åˆ†åˆ«ç»´æŠ¤ä¸‰ä¸ªåç¼€å’Œ sum2[i]+=i*i; sum3[i]++; if(sum3[i]&gt;k) return 0; //æ²¡å­å¼¹äº†å°±å¤±è´¥ } } return 1; } signed main(){ read(n);read(k); for(int i=1;i&lt;=n;i++) read(a[i]); int l=1,r=1e12; while(l&lt;=r){ int mid=l+r&gt;&gt;1; if(check(mid)) r=mid-1,ans=mid; else l=mid+1; } write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"äºŒåˆ†ç­”æ¡ˆ","slug":"äºŒåˆ†ç­”æ¡ˆ","permalink":"https://blog.yzcthinktwice.com/tags/äºŒåˆ†ç­”æ¡ˆ/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P2365 ä»»åŠ¡å®‰æ’","slug":"P2365 ä»»åŠ¡å®‰æ’","date":"2019-12-04T12:08:01.000Z","updated":"2019-12-15T08:16:59.358Z","comments":true,"path":"2019/12/04/P2365 ä»»åŠ¡å®‰æ’/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/04/P2365 ä»»åŠ¡å®‰æ’/","excerpt":"","text":"P2365 ä»»åŠ¡å®‰æ’ æ´›è°·æ•°æ®è¾ƒå¼±ï¼ŒLOJæœ‰åŠ å¼ºç‰ˆ å‰ç¼€å’Œ+æ–œç‡ä¼˜åŒ–dpå¥½é¢˜ é¢˜è§£ï¼šè€ƒè™‘æœ€æœ´ç´ çš„$O(n^3)$dp è®°t[i]è¡¨ç¤ºå„ä»»åŠ¡æ—¶é—´çš„å‰ç¼€å’Œï¼Œc[i]ä¸ºå„ä»»åŠ¡èŠ±è´¹çš„å‰ç¼€å’Œ è®¾f[i][j]è¡¨ç¤ºå‰iä¸ªä»»åŠ¡ï¼Œåˆ†jæ‰¹ï¼Œä¸”iæ˜¯ç¬¬jæ‰¹çš„æœ€åä¸€ä¸ªçš„æœ€å°èŠ±è´¹ å¾—åˆ°æ–¹ç¨‹ f[i][j]=min\\{f[k][j-1]+(t[i]+S*j)*(c[i]-c[k])\\}å°è¯•ä¼˜åŒ–dp æ³¨æ„åˆ°jè¿™ä¸€ç»´ä½œç”¨å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œåªæ˜¯ä¸ºäº†æ¶ˆé™¤åæ•ˆæ€§ï¼Œå› ä¸ºåé¢çš„ä»»åŠ¡ä¸çŸ¥é“è‡ªå·±è¢«åˆ†åœ¨ç¬¬å‡ æ‰¹ï¼Œå‰é¢æœ‰è¿‡å‡ æ¬¡S è€ƒè™‘æ”¹ç”¨è´¹ç”¨æå‰è®¡ç®—æ¥æ¶ˆé™¤åæ•ˆæ€§ä½¿å¾—çŠ¶æ€åªéœ€iä¸€ç»´ æ”¹è®¾f[i]è¡¨ç¤ºå‰iä¸ªä»»åŠ¡é€ æˆçš„æœ€å°ä»£ä»·ï¼Œä¸”iæ˜¯æ–°åˆ†å‡ºä¸€æ‰¹çš„æœ€åä¸€ä¸ª æˆ‘ä»¬çŸ¥é“åˆ†å‡ºiè¿™ä¸€æ‰¹ä¼šæ–°äº§ç”Ÿä¸¤éƒ¨åˆ†ä»£ä»·ï¼Œä¸€éƒ¨åˆ†æ˜¯è¿™æ–°ä¸€æ‰¹å†…éƒ¨äº§ç”Ÿçš„$t[i]*(c[i]-c[j])$ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯è¿™ä¸€æ‰¹å¼€æœºçš„Så¯¹åé¢æ‰€æœ‰ä»»åŠ¡äº§ç”Ÿçš„å½±å“ åŠ èµ·æ¥å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ–°çš„äºŒç»´dpæ–¹ç¨‹ f[i]=min\\{f[j]+t[i]*(c[i]-c[j])+S*(c[n]-c[j])\\}è¿™å·²ç»å¯ä»¥ä½¿ä½ é€šè¿‡æ´›è°·ä¸Š$O(n^2)$çš„æ•°æ®äº†ï¼Œä½†å…¶å®è¿˜å¯ä»¥ç»§ç»­ä¼˜åŒ– æˆ‘ä»¬è€ƒè™‘æ–œç‡ä¼˜åŒ– å…ˆæ‹†æ‰minå¹¶å¯¹ä¸Šæ–¹çš„äºŒç»´æ–¹ç¨‹è¿›è¡Œæ•´ç†ï¼Œå¾—åˆ°$f[i]=f[j]-(S+t[i])c[j]+t[i]c[i]+S*c[n]$ å¸¸è§„æ“ä½œï¼Œå‡è®¾ç°æœ‰ä¸¤ä¸ªå†³ç­–ç‚¹jå’Œkï¼Œä¸”kä¼˜äºjï¼Œå°†ä¸¤è€…ä»£å…¥å¯ä»¥å¾—åˆ° \\small{f[j]-(S+t[i])*c[j]+t[i]*c[i]+S*c[n]\\geq f[k]-(S+t[i])*c[k]+t[i]*c[i]+S*c[n]}ç»§ç»­æ•´ç†ï¼š f[j]-(S+t[i])*c[j]\\geq f[k]-(S+t[i])*c[k]f[j]-f[k]\\geq (S+t[i])*(c[j]-c[k])\\frac{f[j]-f[k]}{c[j]-c[k]} \\geq S+t[i]å‘ç°å·¦è¾¹çš„æ˜¯ä¸ªæ–œç‡ï¼Œå³è¾¹çš„æ»¡è¶³å•è°ƒæ€§ æ‰€ä»¥å°±å¯ä»¥æŠŠè¿™äº›ä¸œè¥¿ç”¨å•è°ƒé˜Ÿåˆ—å¤§èƒ†ç»´æŠ¤äº† å†ç”¨æ¯æ¬¡çš„é˜Ÿé¦–å½“ä½œjæ¥è½¬ç§» dpè¢«ä¼˜åŒ–åˆ°äº†$O(n)$ æ³¨æ„æ¯”è¾ƒæ–œç‡çš„ä¸€ä¸ªå¸¸è§„æ“ä½œï¼Œå°†é™¤æ³•äº¤æ¢æˆä¹˜æ³•ä»¥é¿å…ç²¾åº¦è¯¯å·® ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define qn (q.size()-1) const int N=3e5+5; int n,s,t[N],c[N],f[N]; deque&lt;int&gt; q; signed main(){ read(n);read(s); for(int i=1,x,y;i&lt;=n;i++){ read(x);read(y); t[i]=t[i-1]+x; c[i]=c[i-1]+y; } q.push_back(0); for(int i=1;i&lt;=n;i++){ while(q.size()&gt;1&amp;&amp;(c[q[1]]-c[q[0]])*(t[i]+s)&gt;=(f[q[1]]-f[q[0]])) q.pop_front(); //ä¸æ»¡è¶³äº†å°±è¸¢æ‰ f[i]=f[q[0]]-(s+t[i])*c[q[0]]+t[i]*c[i]+s*c[n]; //è½¬ç§» while(q.size()&gt;1&amp;&amp;(f[i]-f[q[qn]])*(c[q[qn]]-c[q[qn-1]])&lt;=(f[q[qn]]-f[q[qn-1]])*(c[i]-c[q[qn]])) q.pop_back(); //ç»´æŠ¤æœ€ä¼˜ q.push_back(i); } write(f[n]); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"LOJ","slug":"LOJ","permalink":"https://blog.yzcthinktwice.com/tags/LOJ/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"},{"name":"æ–œç‡ä¼˜åŒ–","slug":"æ–œç‡ä¼˜åŒ–","permalink":"https://blog.yzcthinktwice.com/tags/æ–œç‡ä¼˜åŒ–/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P2569 [SCOI2010]è‚¡ç¥¨äº¤æ˜“","slug":"P2569 [SCOI2010]è‚¡ç¥¨äº¤æ˜“","date":"2019-12-04T12:08:00.000Z","updated":"2019-12-15T08:17:27.026Z","comments":true,"path":"2019/12/04/P2569 [SCOI2010]è‚¡ç¥¨äº¤æ˜“/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/04/P2569 [SCOI2010]è‚¡ç¥¨äº¤æ˜“/","excerpt":"","text":"P2569 [SCOI2010]è‚¡ç¥¨äº¤æ˜“ å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–dpå¥½é¢˜ï¼Œéš¾åº¦çº¦ç­‰äºæ‘†æ¸¡è½¦ é¢˜è§£ï¼šf[i][j]è¡¨ç¤ºå‰iå¤©ï¼Œæ‰‹ä¸Šå‰©æœ‰jåªè‚¡ç¥¨æœ€å¤šèƒ½èµšçš„é’± åˆå§‹f[i][0]=0ï¼Œå…¶å®ƒéƒ½èµ‹-inf è½¬ç§»éœ€è¦åˆ†ç±»è®¨è®ºï¼š 1. ä»0åªè‚¡ç¥¨å¼€å§‹ä¹°ç›´æ¥è®¡ç®—èŠ±å¤šå°‘é’±å³å¯$f[i][j]=-AP_i*j$ 2. ä¸è¿›è¡Œä»»ä½•ä¹°å–ç›´æ¥ä»å‰ä¸€å¤©çš„æ‰€æœ‰çŠ¶æ€ç»§æ‰¿$f[i][j]=f[i-1][j]$ 3. ä»ä¹‹å‰å‡ å¤©çš„åŸºç¡€ä¸Šä¹°å…¥è‚¡ç¥¨é¦–å…ˆè¦æ˜ç¡®f[i][]æ˜¯ä»f[i-w-1][]è½¬ç§»çš„ å› ä¸ºåŒºé—´$[1,i-w-1)$å†…çš„çŠ¶æ€ï¼Œéƒ½å¯ä»¥é€šè¿‡æƒ…å†µ2è½¬ç§»åˆ°f[i-w-1][]ï¼Œæ‰€ä»¥åªè€ƒè™‘è¿™ä¸€å¤©å°±å¤Ÿäº† è®¾ç¬¬i-w-1å¤©å‰©ä½™kåªè‚¡ç¥¨ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹æ–¹ç¨‹ $f[i][j]=\\max \\{ f[i-w-1][k]-(j-k) * AP_i | k \\in [j-AS_i,j) \\}$ å¤æ‚åº¦æ˜¯$O(nm^2)$çš„ï¼Œæ‰€ä»¥è€ƒè™‘ä¼˜åŒ–æ–¹ç¨‹ å±•å¼€ $f[i][j]=\\max \\{ f[i-w-1][k]-j AP_i+k AP_i | k \\in [j-AS_i,j) \\}$ æå‡º $f[i][j]=\\max \\{ f[i-w-1][k]+k AP_i | k \\in [j-AS_i,j) \\}-j AP_i$ æ­¤æ—¶å‘ç°å”¯ä¸€å˜é‡kçš„é™åˆ¶èŒƒå›´ç±»ä¼¼æ»‘åŠ¨çª—å£ï¼Œä¸”ä¸kç›¸å…³çš„å€¼å…·æœ‰å•è°ƒæ€§ï¼Œæ‰€æœ‰å¯ä»¥ç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤k 4. ä»ä¹‹å‰å‡ å¤©çš„åŸºç¡€ä¸Šå–å‡ºè‚¡ç¥¨æœ´ç´ æ–¹ç¨‹å¦‚ä¸‹ï¼š $f[i][j]=\\max \\{ f[i-w-1][k]+(k-j) * BP_i | k \\in (j,j+BS_i] \\}$ åŒ–ç®€åå¾—åˆ°ï¼š $f[i][j]=\\max \\{ f[i-w-1][k]+k BP_i | k \\in (j,j+BS_i] \\}-j BP_i$ ä¸æƒ…å†µ3åŒç†å¯ä»¥ç”¨å•è°ƒé˜Ÿåˆ—è¿›è¡Œç»´æŠ¤ ç‰¹åˆ«çš„ï¼Œæƒ…å†µ3ã€4è½¬ç§»æ—¶ä¸ºäº†è®©æ‰€æœ‰å…ƒç´ éƒ½èƒ½æ­£å¸¸è¿›å‡ºé˜Ÿåˆ—ï¼Œè¦ä»è¾ƒåŠ£çš„ä¸€ä¾§å¼€å§‹è½¬ç§»ï¼Œå³ä¹°å…¥ç”¨é¡ºåºæšä¸¾ï¼Œå–å‡ºç”¨é€†åºæšä¸¾ æ˜¾ç„¶çš„ï¼Œf[i][j]çš„æœ€ç»ˆå–å€¼å°±æ˜¯ä¸Šè¿°å››ç§æƒ…å†µè½¬ç§»è¿‡æ¥çš„æœ€å¤§å€¼ æœ€ç»ˆç­”æ¡ˆå°±æ˜¯f[n][0]ï¼Œå› ä¸ºæ˜æ˜¾æœ€ååªæœ‰æŠŠè‚¡ç¥¨éƒ½å–å…‰æ‰æ˜¯æœ€ä¼˜çš„ ä»£ç #include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=2e3+5; int f[N][N],n,m,w,ap,bp,as,bs; signed main(){ read(n);read(m);read(w); memset(f,128,sizeof f); for(int i=1;i&lt;=n;i++){ read(ap);read(bp);read(as);read(bs); f[i][0]=0; for(int j=1;j&lt;=as;j++) //ä»æ— è‚¡ç¥¨çš„çŠ¶æ€å¼€å§‹è´­ä¹° f[i][j]=-ap*j; for(int j=0;j&lt;=m;j++) //ä¸è¿›è¡Œä¹°å–ï¼Œç›´æ¥ä»ä¸Šä¸€å¤©è½¬ç§» f[i][j]=max(f[i][j],f[i-1][j]); if(i&lt;=w) continue; //é˜²æ­¢è´Ÿä¸‹æ ‡ deque&lt;int&gt; buy; for(int j=0;j&lt;=m;j++){ //ä»å‰é¢å‡ å¤©çš„åŸºç¡€ä¸Šä¹°å…¥ï¼Œæ­£å‘è½¬ç§» while(!buy.empty()&amp;&amp;buy.front()&lt;j-as) buy.pop_front(); //å¼¹æ‰ä¸åœ¨èŒƒå›´å†…çš„ while(!buy.empty()&amp;&amp;f[i-w-1][buy.back()]+buy.back()*ap&lt;=f[i-w-1][j]+j*ap) buy.pop_back(); //å¼¹æ‰ä¸ä¼˜çš„ buy.push_back(j); //åŠ å…¥æ–°çš„ f[i][j]=max(f[i][j],f[i-w-1][buy.front()]+buy.front()*ap-j*ap); //è½¬ç§» } deque&lt;int&gt; sell; for(int j=m;j&gt;=0;j--){ //ä»å‰é¢å‡ å¤©çš„åŸºç¡€ä¸Šå–å‡ºï¼Œåå‘è½¬ç§» while(!sell.empty()&amp;&amp;sell.front()&gt;j+bs) sell.pop_front(); while(!sell.empty()&amp;&amp;f[i-w-1][sell.back()]+sell.back()*bp&lt;=f[i-w-1][j]+j*bp) sell.pop_back(); sell.push_back(j); f[i][j]=max(f[i][j],f[i-w-1][sell.front()]+sell.front()*bp-j*bp); } } write(f[n][0]); //æœ€ä¼˜è§£æœ€åè‚¯å®šæ˜¯å…¨å–å®Œçš„ }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"å•è°ƒé˜Ÿåˆ—","slug":"å•è°ƒé˜Ÿåˆ—","permalink":"https://blog.yzcthinktwice.com/tags/å•è°ƒé˜Ÿåˆ—/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"FLOW15 æ±½è½¦åŠ æ²¹é©¾é©¶é—®é¢˜","slug":"FLOW15 æ±½è½¦åŠ æ²¹é©¾é©¶é—®é¢˜","date":"2019-12-03T12:49:15.000Z","updated":"2019-12-15T08:11:38.720Z","comments":true,"path":"2019/12/03/FLOW15 æ±½è½¦åŠ æ²¹é©¾é©¶é—®é¢˜/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/03/FLOW15 æ±½è½¦åŠ æ²¹é©¾é©¶é—®é¢˜/","excerpt":"","text":"FLOW15 æ±½è½¦åŠ æ²¹é©¾é©¶é—®é¢˜ æ¨¡å‹ï¼šåˆ†å±‚å›¾æœ€çŸ­è·¯å¾„-&gt;æœ€çŸ­è·¯å¾„ é¢˜æ„ï¼šç»™å®šä¸€ä¸ª $NÃ—N$ çš„æ–¹å½¢ç½‘æ ¼ï¼Œè®¾å…¶å·¦ä¸Šè§’ä¸ºèµ·ç‚¹ï¼Œåæ ‡ä¸º $(1,1)$ ï¼ŒX è½´å‘å³ä¸ºæ­£ï¼Œ Y è½´å‘ä¸‹ä¸ºæ­£ï¼Œæ¯ä¸ªæ–¹æ ¼è¾¹é•¿ä¸º 1 ã€‚ ä¸€è¾†æ±½è½¦ä»èµ·ç‚¹å‡ºå‘é©¶å‘å³ä¸‹è§’ç»ˆç‚¹ $(N,N)$ ã€‚ åœ¨è‹¥å¹²ä¸ªç½‘æ ¼äº¤å‰ç‚¹å¤„ï¼Œè®¾ç½®äº†æ²¹åº“ã€‚æ±½è½¦åœ¨è¡Œé©¶è¿‡ç¨‹ä¸­åº”éµå®ˆå¦‚ä¸‹è§„åˆ™ï¼šæ±½è½¦åªèƒ½æ²¿ç½‘æ ¼è¾¹è¡Œé©¶ï¼Œè£…æ»¡æ²¹åèƒ½è¡Œé©¶ $K$ æ¡ç½‘æ ¼è¾¹ï¼›å‡ºå‘æ—¶æ±½è½¦å·²è£…æ»¡æ²¹ï¼Œåœ¨èµ·ç‚¹ä¸ç»ˆç‚¹å¤„ä¸è®¾æ²¹åº“ï¼› æ±½è½¦ç»è¿‡ä¸€æ¡ç½‘æ ¼è¾¹æ—¶ï¼Œè‹¥å…¶ X åæ ‡æˆ– Y åæ ‡å‡å°ï¼Œåˆ™åº”ä»˜è´¹ç”¨ $B$ ï¼Œå¦åˆ™å…ä»˜è´¹ç”¨ï¼› æ±½è½¦åœ¨è¡Œé©¶è¿‡ç¨‹ä¸­é‡æ²¹åº“åˆ™åº”åŠ æ»¡æ²¹å¹¶ä»˜åŠ æ²¹è´¹ç”¨ $A$ï¼›åœ¨éœ€è¦æ—¶å¯åœ¨ç½‘æ ¼ç‚¹å¤„å¢è®¾æ²¹åº“ï¼Œå¹¶ä»˜å¢è®¾æ²¹åº“è´¹ç”¨ $C$ (ä¸å«åŠ æ²¹è´¹ç”¨ $A$ )ã€‚ æ±‚å‡ºæ±½è½¦ä»èµ·ç‚¹å‡ºå‘åˆ°è¾¾ç»ˆç‚¹çš„ä¸€æ¡æ‰€ä»˜è´¹ç”¨æœ€å°‘çš„è¡Œé©¶è·¯çº¿ã€‚ é¢˜è§£ï¼šåˆæ˜¯ä¸€é“å‡ç½‘ç»œæµé¢˜ ä¸€é“åˆ†å±‚å›¾æœ€çŸ­è·¯é¢˜ å¯¹äºkæ­¥çš„æ¡ä»¶ï¼Œæˆ‘ä»¬å°†åŸå›¾æ‹†æˆk+1å±‚å›¾ï¼Œä»ä¸‹åˆ°ä¸Šç¬¬iå±‚è¡¨ç¤ºæ­¤æ—¶çš„æ²¹å¤Ÿèµ°k-i+1æ­¥ å¯¹äºæ¯ä¸ªæ ¼å­ éƒ½è¦ä»ä¸‹å¾€ä¸Šå°†è‡ªå·±çš„æ¯ä¸€å±‚éƒ½è¿èµ·æ¥ï¼Œä»£ä»·ä¸º0 å‘ä¸‹å‘å³è¿è¾¹æ²¡æœ‰ä»£ä»·ï¼Œå‘ä¸Šå‘å·¦è¿è¾¹ä»£ä»·ä¸º$B$ å¯¹äºåŠ æ²¹ç«™ è¿™æ ¼ä¸Šçš„æ¯ä¸€å±‚éƒ½è¦å‘ç¬¬ä¸€å±‚è¿è¾¹ï¼Œä»£ä»·ä¸º$A$ å‘å››å‘¨è¿è¾¹æ—¶ï¼Œéƒ½æ˜¯ä»è‡ªå·±çš„ç¬¬ä¸€å±‚ï¼Œåˆ°ç›®æ ‡çš„ç¬¬äºŒå±‚ï¼Œå› ä¸ºä»è‡ªå·±è¿™å‡ºå»è‚¯å®šæ˜¯æ»¡æ²¹çš„ å¯¹äºæ™®é€šæ ¼ è‡ªå·±çš„æ¯ä¸€å±‚iéƒ½è¦å‘å››å‘¨çš„æ›´é«˜å±‚i+1è¿è¾¹ï¼Œå› ä¸ºå‰©ä½™å¤šå°‘æ­¥æ•°éƒ½æ˜¯æœ‰å¯èƒ½çš„ è¿˜è¦ä»è‡ªå·±çš„æ¯ä¸€å±‚å‘è‡ªå·±çš„ç¬¬ä¸€å±‚è¿è¾¹ï¼Œä»£ä»·ä¸º$A+C$ï¼Œæ„æ€æ˜¯å»ºä¸ªåŠ æ²¹ç«™åŠ æ»¡æ²¹ è·‘ä¸€éæœ€çŸ­è·¯ï¼Œå†ä»æ¯ä¸€å±‚çš„ç»ˆç‚¹å¤„æœé›†æœ€å°çš„ç­”æ¡ˆå³å¯ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=2e5+5; int n,k,a,b,c,dis[N],h[N],en,ans=0x3f3f3f3f; struct edge{ int n,v,w; }e[60*N]; void add(int x,int y,int z){ e[++en]=(edge){h[x],y,z}; h[x]=en; } int calc(int x,int y,int lv){ return n*n*(lv-1)+(x-1)*n+y; } struct node{ int x,v; inline bool operator &lt; (const node &amp;nt) const { return v&gt;nt.v; } }; void dij(int s){ priority_queue&lt;node&gt; q; memset(dis,0x3f,sizeof dis); dis[s]=0; q.push((node){s,0}); while(!q.empty()){ node x=q.top(); q.pop(); if(dis[x.x]!=x.v) continue; for(int i=h[x.x];i;i=e[i].n){ int y=e[i].v; if(dis[x.x]+e[i].w&lt;dis[y]){ dis[y]=dis[x.x]+e[i].w; q.push((node){y,dis[y]}); } } } } signed main(){ read(n);read(k);read(a);read(b);read(c); for(int i=1,x;i&lt;=n;i++) for(int j=1;j&lt;=n;j++){ read(x); for(int l=1;l&lt;=k;l++) add(calc(i,j,l),calc(i,j,l+1),0); if(x){ for(int l=2;l&lt;=k+1;l++) add(calc(i,j,l),calc(i,j,1),a); if(i&lt;n) add(calc(i,j,1),calc(i+1,j,2),0); if(j&lt;n) add(calc(i,j,1),calc(i,j+1,2),0); if(i&gt;1) add(calc(i,j,1),calc(i-1,j,2),b); if(j&gt;1) add(calc(i,j,1),calc(i,j-1,2),b); } else{ for(int l=1;l&lt;=k;l++){ if(i&lt;n) add(calc(i,j,l),calc(i+1,j,l+1),0); if(j&lt;n) add(calc(i,j,l),calc(i,j+1,l+1),0); if(i&gt;1) add(calc(i,j,l),calc(i-1,j,l+1),b); if(j&gt;1) add(calc(i,j,l),calc(i,j-1,l+1),b); } for(int l=2;l&lt;=k+1;l++) add(calc(i,j,l),calc(i,j,1),a+c); } } dij(calc(1,1,1)); for(int i=1;i&lt;=k+1;i++) ans=min(ans,dis[calc(n,n,i)]); write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"ç½‘ç»œæµäºŒåå››é¢˜","slug":"ç½‘ç»œæµäºŒåå››é¢˜","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµäºŒåå››é¢˜/"},{"name":"æœ€çŸ­è·¯","slug":"æœ€çŸ­è·¯","permalink":"https://blog.yzcthinktwice.com/tags/æœ€çŸ­è·¯/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"FLOW14 å­¤å²›è¥æ•‘é—®é¢˜","slug":"FLOW14 å­¤å²›è¥æ•‘é—®é¢˜","date":"2019-12-03T12:49:14.000Z","updated":"2019-12-15T08:15:05.320Z","comments":true,"path":"2019/12/03/FLOW14 å­¤å²›è¥æ•‘é—®é¢˜/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/03/FLOW14 å­¤å²›è¥æ•‘é—®é¢˜/","excerpt":"","text":"FLOW14 å­¤å²›è¥æ•‘é—®é¢˜ æ¨¡å‹ï¼šåˆ†å±‚å›¾æœ€çŸ­è·¯å¾„-&gt;æœ€çŸ­è·¯å¾„ é¢˜æ„ï¼šè¿·å®«çš„å¤–å½¢æ˜¯ä¸€ä¸ªé•¿æ–¹å½¢ï¼Œå…¶å—åŒ—æ–¹å‘è¢«åˆ’åˆ†ä¸º $n$ è¡Œï¼Œä¸œè¥¿æ–¹å‘è¢«åˆ’åˆ†ä¸º $m$ åˆ—ï¼Œ äºæ˜¯æ•´ä¸ªè¿·å®«è¢«åˆ’åˆ†ä¸º $nÃ—m$ ä¸ªå•å…ƒã€‚å—åŒ—æˆ–ä¸œè¥¿æ–¹å‘ç›¸é‚»çš„ 2 ä¸ªå•å…ƒä¹‹é—´å¯èƒ½äº’é€šï¼Œä¹Ÿå¯èƒ½æœ‰ä¸€æ‰‡é”ç€çš„é—¨ï¼Œæˆ–è€…æ˜¯ä¸€å µä¸å¯é€¾è¶Šçš„å¢™ã€‚è¿·å®«ä¸­æœ‰ä¸€äº›å•å…ƒå­˜æ”¾ç€é’¥åŒ™ï¼Œå¹¶ä¸”æ‰€æœ‰çš„é—¨è¢«åˆ†æˆ $p$ ç±»ï¼Œ æ‰“å¼€åŒä¸€ç±»çš„é—¨çš„é’¥åŒ™ç›¸åŒï¼Œä¸åŒç±»é—¨çš„é’¥åŒ™ä¸åŒã€‚ å¤§å…µç‘æ©è¢«å…³æŠ¼åœ¨ $(n,m)$ å•å…ƒé‡Œï¼Œå¹¶å·²ç»æ˜è¿·ã€‚è¿·å®«åªæœ‰ä¸€ä¸ªå…¥å£ï¼Œ åœ¨ $(1,1)$ å•å…ƒã€‚éº¦å…‹ä»ä¸€ä¸ªå•å…ƒç§»åŠ¨åˆ°å¦ä¸€ä¸ª ç›¸é‚»å•å…ƒçš„æ—¶é—´ä¸º 1ï¼Œæ‹¿å–æ‰€åœ¨å•å…ƒçš„é’¥åŒ™çš„æ—¶é—´ä»¥åŠç”¨é’¥åŒ™å¼€é—¨çš„æ—¶é—´å¯å¿½ç•¥ä¸è®¡ã€‚ è¯•è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œå¸®åŠ©éº¦å…‹ä»¥æœ€å¿«çš„æ–¹å¼åˆ°è¾¾ç‘æ©æ‰€åœ¨å•å…ƒï¼Œè¥æ•‘å¤§å…µç‘æ©ã€‚ é¢˜è§£ï¼šåˆæ˜¯ä¸€é“å‡ç½‘ç»œæµé¢˜ ä¸€é“ç»å…¸çš„çŠ¶å‹bfs æŠŠé’¥åŒ™å‹æˆäºŒè¿›åˆ¶ï¼Œä»(1,1)å¼€å§‹å‘å››å‘¨bfsï¼Œå¯¹æ¯ä¸ªç‚¹çš„æ¯ä¸ªçŠ¶æ€è®°ä¸ªvæ•°ç»„ï¼Œè®°å½•æœ‰æ²¡æœ‰èµ°è¿‡ å¦‚æœèµ°åˆ°(n,m)å°±è¾“å‡ºæ­¥æ•° ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=12,S=1&lt;&lt;11; const int dx[4]={-1,1,0,0},dy[4]={0,0,-1,1}; int loc[N][N][N][N],key[N][N],n,m,k; bool v[N][N][S]; struct situ{ int x,y,s,step; }; int bfs(){ queue&lt;situ&gt; q; q.push((situ){1,1,key[1][1],0}); v[1][1][key[1][1]]=1; while(!q.empty()){ situ now=q.front(); q.pop(); int x=now.x,y=now.y; if(x==n&amp;&amp;y==m) return now.step; for(int i=0;i&lt;4;i++){ int nx=x+dx[i],ny=y+dy[i]; if(nx&lt;1||ny&lt;1||nx&gt;n||ny&gt;m) continue; if(loc[x][y][nx][ny]==-1) continue; if(loc[x][y][nx][ny]!=(loc[x][y][nx][ny]&amp;now.s)) continue; int ns=now.s|key[nx][ny]; if(v[nx][ny][ns]) continue; v[nx][ny][ns]=1; q.push((situ){nx,ny,ns,now.step+1}); } } return -1; } signed main(){ read(n);read(m);read(k);read(k); while(k--){ int x,y,xx,yy; read(x);read(y);read(xx);read(yy); read(loc[x][y][xx][yy]); if(!loc[x][y][xx][yy]) loc[x][y][xx][yy]=-1; else loc[x][y][xx][yy]=1&lt;&lt;loc[x][y][xx][yy]-1; loc[xx][yy][x][y]=loc[x][y][xx][yy]; } read(k); while(k--){ int x,y,z; read(x);read(y);read(z); key[x][y]|=1&lt;&lt;z-1; } write(bfs()); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"ç½‘ç»œæµäºŒåå››é¢˜","slug":"ç½‘ç»œæµäºŒåå››é¢˜","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµäºŒåå››é¢˜/"},{"name":"çŠ¶æ€å‹ç¼©","slug":"çŠ¶æ€å‹ç¼©","permalink":"https://blog.yzcthinktwice.com/tags/çŠ¶æ€å‹ç¼©/"},{"name":"BFS","slug":"BFS","permalink":"https://blog.yzcthinktwice.com/tags/BFS/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"FLOW12 è½¯ä»¶è¡¥ä¸é—®é¢˜","slug":"FLOW12 è½¯ä»¶è¡¥ä¸é—®é¢˜","date":"2019-12-03T12:48:12.000Z","updated":"2019-12-15T08:15:01.283Z","comments":true,"path":"2019/12/03/FLOW12 è½¯ä»¶è¡¥ä¸é—®é¢˜/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/03/FLOW12 è½¯ä»¶è¡¥ä¸é—®é¢˜/","excerpt":"","text":"FLOW12 è½¯ä»¶è¡¥ä¸é—®é¢˜ æ¨¡å‹ï¼šæœ€å°è½¬ç§»ä»£ä»·-&gt;æœ€çŸ­è·¯å¾„ é¢˜æ„ï¼šæŸå…¬å¸å‘ç°å…¶ç ”åˆ¶çš„ä¸€ä¸ªè½¯ä»¶ä¸­æœ‰ $n$ ä¸ªé”™è¯¯ï¼Œéšå³ä¸ºè¯¥è½¯ä»¶å‘æ”¾äº†ä¸€æ‰¹å…± $m$ ä¸ªè¡¥ä¸ç¨‹åºã€‚å¯¹äºæ¯ä¸€ä¸ªè¡¥ä¸ $i$ ï¼Œéƒ½æœ‰ 2 ä¸ªä¸ä¹‹ç›¸åº”çš„é”™è¯¯é›†åˆ $B_1(i)$ å’Œ $B_2(i)$ ï¼Œä½¿å¾—ä»…å½“è½¯ä»¶åŒ…å« $B_1(i)$ ä¸­çš„æ‰€æœ‰é”™è¯¯ï¼Œè€Œä¸åŒ…å« $B_2(i)$ ä¸­çš„ä»»ä½•é”™è¯¯æ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨è¡¥ä¸ $i$ã€‚è¡¥ä¸ $i$ å°†ä¿®å¤è½¯ä»¶ä¸­çš„æŸäº›é”™è¯¯ $F_1(i)$ ï¼Œè€ŒåŒæ—¶åŠ å…¥å¦ä¸€äº›é”™è¯¯ $F_2(i)$ã€‚å¦å¤–ï¼Œæ¯ä¸ªè¡¥ä¸éƒ½è€—è´¹ä¸€å®šçš„æ—¶é—´ã€‚ è¯•è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œåˆ©ç”¨å…¬å¸æä¾›çš„ $m$ ä¸ªè¡¥ä¸ç¨‹åºå°†åŸè½¯ä»¶ä¿®å¤æˆä¸€ä¸ªæ²¡æœ‰é”™è¯¯çš„è½¯ä»¶ï¼Œå¹¶ä½¿ä¿®å¤åçš„è½¯ä»¶è€—æ—¶æœ€å°‘ã€‚ é¢˜è§£ï¼šåˆæ˜¯ä¸€é“å‡ç½‘ç»œæµé¢˜ ä¸€é“å·§å¦™çš„çŠ¶å‹æœ€çŸ­è·¯ å°†æ¯ä¸€ç§æ˜¯å¦å­˜åœ¨çš„çŠ¶æ€å„è‡ªçœ‹åšä¸€ä¸ªèŠ‚ç‚¹ é¢„å¤„ç†å‡ºé¢˜é¢æ‰€è¯´çš„å››ä¸ªé›†åˆ$B_1$,$B_2$,$F_1$,$F_2$å‹ç¼©åçš„çŠ¶æ€ çœ‹çœ‹å¯¹äºæ¯ç§çŠ¶æ€åœ¨ä½¿ç”¨äº†æŸä¸ªè¡¥ä¸åï¼Œä¼šæ¼”å˜å‡ºä»€ä¹ˆæ–°çŠ¶æ€ï¼Œæ®æ­¤è¿ä¸Šä¸€æ¡è¾¹ ç”±äºè¾¹æ•°ä¼šå¾ˆå¤šï¼Œæ‰€ä»¥å¯ä»¥åœ¨åšæœ€çŸ­è·¯çš„åŒæ—¶å¯¹äºå½“å‰çŠ¶æ€ï¼Œæšä¸¾æ¯ä¸ªè¡¥ä¸ï¼Œçœ‹çœ‹ä¼šäº§ç”Ÿå“ªäº›æ–°è¾¹ï¼Œé€ä¸€å¤„ç† æ˜¾ç„¶çš„ï¼Œæœ€çŸ­è·¯èµ·ç‚¹ä¸ºå…¨1çŠ¶æ€ï¼Œç»ˆç‚¹ä¸ºå…¨0çŠ¶æ€ æœ€çŸ­è·¯è·ç¦»å³ç­”æ¡ˆ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=25,M=105,S=1&lt;&lt;20; int dis[S],n,m,cost[M],f1[M],f2[M],b1[M],b2[M]; char a[N],b[N]; struct node{ int x,v; inline bool operator &lt; (const node &amp;nt) const { return v&gt;nt.v; } }; void dij(int s){ memset(dis,0x3f,sizeof dis); dis[s]=0; priority_queue&lt;node&gt; q; q.push((node){s,0}); while(!q.empty()){ node x=q.top(); q.pop(); if(dis[x.x]!=x.v) continue; for(int i=1;i&lt;=m;i++) if((b1[i]&amp;x.x)==b1[i]&amp;&amp;(b2[i]&amp;x.x)==0){ int y=((x.x|f1[i])^f1[i])|f2[i]; if(dis[x.x]+cost[i]&lt;dis[y]){ dis[y]=dis[x.x]+cost[i]; q.push((node){y,dis[y]}); } } } } signed main(){ read(n);read(m); for(int i=1;i&lt;=m;i++){ read(cost[i]); scanf(&quot;%s%s&quot;,a,b); for(int j=0;j&lt;n;j++){ if(a[j]==&#39;+&#39;) b1[i]|=1&lt;&lt;j; if(a[j]==&#39;-&#39;) b2[i]|=1&lt;&lt;j; if(b[j]==&#39;-&#39;) f1[i]|=1&lt;&lt;j; if(b[j]==&#39;+&#39;) f2[i]|=1&lt;&lt;j; } } dij((1&lt;&lt;n)-1); if(dis[0]==0x3f3f3f3f) dis[0]=0; write(dis[0]); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"ç½‘ç»œæµäºŒåå››é¢˜","slug":"ç½‘ç»œæµäºŒåå››é¢˜","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµäºŒåå››é¢˜/"},{"name":"çŠ¶æ€å‹ç¼©","slug":"çŠ¶æ€å‹ç¼©","permalink":"https://blog.yzcthinktwice.com/tags/çŠ¶æ€å‹ç¼©/"},{"name":"æœ€çŸ­è·¯","slug":"æœ€çŸ­è·¯","permalink":"https://blog.yzcthinktwice.com/tags/æœ€çŸ­è·¯/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"FLOW7 è¯•é¢˜åº“é—®é¢˜","slug":"FLOW7 è¯•é¢˜åº“é—®é¢˜","date":"2019-12-03T12:45:07.000Z","updated":"2019-12-15T08:14:25.928Z","comments":true,"path":"2019/12/03/FLOW7 è¯•é¢˜åº“é—®é¢˜/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/03/FLOW7 è¯•é¢˜åº“é—®é¢˜/","excerpt":"","text":"FLOW7 è¯•é¢˜åº“é—®é¢˜ æ¨¡å‹ï¼šäºŒåˆ†å›¾å¤šé‡åŒ¹é…-&gt;ç½‘ç»œæœ€å¤§æµ é¢˜æ„ï¼šå‡è®¾ä¸€ä¸ªè¯•é¢˜åº“ä¸­æœ‰ $n$ é“è¯•é¢˜ã€‚æ¯é“è¯•é¢˜éƒ½æ ‡æ˜äº†æ‰€å±ç±»åˆ«ã€‚åŒä¸€é“é¢˜å¯èƒ½æœ‰å¤šä¸ªç±»åˆ«å±æ€§ã€‚ç°è¦ä»é¢˜åº“ä¸­æŠ½å– $m$ é“é¢˜ç»„æˆè¯•å·ã€‚å¹¶è¦æ±‚è¯•å·åŒ…å«æŒ‡å®šç±»å‹çš„è¯•é¢˜ã€‚è¯•è®¾è®¡ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„ç»„å·ç®—æ³•ã€‚ é¢˜è§£ï¼š ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int oo=0x3f3f3f3f; const int N=2050,M=1e6+5; int en=1,h[N],d[N],n,m,s,t,use,cur[N],ans,tot; bool v[N]; struct edge{ int n,v,f; }e[N+M&lt;&lt;1]; void add(int x,int y,int z){ e[++en]=(edge){h[x],y,z}; h[x]=en; } void exadd(int x,int y,int z){ add(x,y,z); add(y,x,0); } bool bfs(int s,int aim){ memset(d,0,sizeof d); memcpy(cur,h,sizeof cur); queue&lt;int&gt; q; q.push(s); d[s]=1; while(!q.empty()){ int x=q.front(); q.pop(); for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(d[y]==0&amp;&amp;e[i].f){ d[y]=d[x]+1; if(y==aim) return 1; q.push(y); } } } return 0; } int dfs(int x,int flow,int aim){ if(x==aim) return flow; int rest=flow; for(int &amp;i=cur[x];i&amp;&amp;rest;i=e[i].n){ int y=e[i].v; if(d[y]==d[x]+1&amp;&amp;e[i].f){ int flow=dfs(y,min(rest,e[i].f),aim); rest-=flow; e[i].f-=flow; e[i^1].f+=flow; } } return flow-rest; } int dinic(int s,int t){ int res=0; while(bfs(s,t)) res+=dfs(s,oo,t); return res; } signed main(){ read(m);read(n); s=1,t=n+m+2; for(int i=1,x;i&lt;=m;i++) exadd(i+s+n,t,read(x)),tot+=x; for(int i=1,nm;i&lt;=n;i++){ exadd(s,i+s,1); read(nm); for(int j=1,x;j&lt;=nm;j++) exadd(i+s,read(x)+s+n,1); } if(dinic(s,t)^tot){ printf(&quot;No Solution!&quot;); return 0; } for(int i=1;i&lt;=m;i++){ if(i^1) puts(&quot;&quot;); write(i);putchar(&#39;:&#39;); int x=i+s+n; for(int i=h[x];i;i=e[i].n) if(e[i].f){ putchar(&#39; &#39;); write(e[i].v-s); } } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"ç½‘ç»œæµäºŒåå››é¢˜","slug":"ç½‘ç»œæµäºŒåå››é¢˜","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµäºŒåå››é¢˜/"},{"name":"äºŒåˆ†å›¾åŒ¹é…","slug":"äºŒåˆ†å›¾åŒ¹é…","permalink":"https://blog.yzcthinktwice.com/tags/äºŒåˆ†å›¾åŒ¹é…/"},{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµ/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"FLOW6 æœ€é•¿ä¸ä¸‹é™å­åºåˆ—é—®é¢˜","slug":"FLOW6 æœ€é•¿ä¸ä¸‹é™å­åºåˆ—é—®é¢˜","date":"2019-12-03T12:45:06.000Z","updated":"2019-12-15T08:14:44.758Z","comments":true,"path":"2019/12/03/FLOW6 æœ€é•¿ä¸ä¸‹é™å­åºåˆ—é—®é¢˜/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/03/FLOW6 æœ€é•¿ä¸ä¸‹é™å­åºåˆ—é—®é¢˜/","excerpt":"","text":"FLOW6 æœ€é•¿ä¸ä¸‹é™å­åºåˆ—é—®é¢˜ æ¨¡å‹ï¼šæœ€å¤šä¸ç›¸äº¤è·¯å¾„-&gt;ç½‘ç»œæœ€å¤§æµ é¢˜æ„ï¼šç»™å®šæ­£æ•´æ•°åºåˆ—$x_1 \\sim x_n$ ï¼Œ è®¡ç®—å…¶æœ€é•¿ä¸ä¸‹é™å­åºåˆ—çš„é•¿åº¦ $s$ã€‚ è®¡ç®—ä»ç»™å®šçš„åºåˆ—ä¸­æœ€å¤šå¯å–å‡ºå¤šå°‘ä¸ªé•¿åº¦ä¸º $s$ çš„ä¸ä¸‹é™å­åºåˆ—ã€‚ å¦‚æœå…è®¸åœ¨å–å‡ºçš„åºåˆ—ä¸­å¤šæ¬¡ä½¿ç”¨ $x_1$ å’Œ $x_n$ ï¼Œåˆ™ä»ç»™å®šåºåˆ—ä¸­æœ€å¤šå¯å–å‡ºå¤šå°‘ä¸ªé•¿åº¦ä¸º $s$ çš„ä¸ä¸‹é™å­åºåˆ—ã€‚ é¢˜è§£ï¼šå°†â€œä¸ä¹‹å…³è”çš„ä¸ä¸‹é™å­åºåˆ—çš„æ•°é‡â€çœ‹æˆæœ¬é—®é¢˜ä¸­çš„â€œæµâ€ è‡ªç„¶çš„ï¼Œå…ˆæ‹†ç‚¹ï¼Œæ‹†æˆå‡ºç‚¹å’Œå…¥ç‚¹ Q1ï¼šç¬¬ä¸€é—®è®¾f[i]è¡¨ç¤ºä»¥iç»“å°¾çš„æœ€é•¿ä¸ä¸‹é™å­åºåˆ—çš„é•¿åº¦ï¼Œ$O(n^2)$DPï¼Œè½»æ¾è§£å†³ è®¾æ­¤é—®ç­”æ¡ˆä¸ºans1 Q2ï¼šç¬¬äºŒé—®é‡‡ç”¨ç½‘ç»œæœ€å¤§æµ å› ä¸ºä¸€ä¸ªç‚¹åªèƒ½æœ‰ä¸€æ¬¡å‡ºå…¥ï¼Œæ‰€ä»¥æ­¤é—®ä¸­çš„æ‰€æœ‰è¾¹çš„å®¹é‡éƒ½æ˜¯ä¸º1çš„ é¦–å…ˆï¼Œå¸¸è§„æ“ä½œï¼Œåœ¨æ¯ä¸ªç‚¹å†…éƒ¨ï¼ˆä¹Ÿå°±æ˜¯ä»å…¥ç‚¹å‘å‡ºç‚¹ï¼‰è¿è¾¹ è€ƒè™‘æ°´æµçš„æºç‚¹ï¼Œå…¶f[i]å¿…ç„¶æ˜¯ç­‰äºans1çš„ï¼Œäºæ˜¯ä»è¶…çº§æºç‚¹å‘æ‰€æœ‰æºç‚¹è¿è¾¹ è€ƒè™‘æ°´æµçš„æ±‡ç‚¹ï¼Œå…¶f[i]å¿…ç„¶æ˜¯ç­‰äº1çš„ï¼Œäºæ˜¯ä»æ‰€æœ‰æ±‡ç‚¹å‘è¶…çº§æ±‡ç‚¹è¿è¾¹ è€ƒè™‘æ°´æµçš„å­˜åœ¨éœ€æ»¡è¶³çš„è¦æ±‚ï¼Œå¯¹äºå¯ä»¥å­˜åœ¨æ°´æµçš„ç‚¹iå’Œj(i&lt;j)ï¼Œ$f[i]+1==f[j]$ä¸”$a[i]&lt;=a[j]$ï¼Œç„¶åå¯¹äºæ‰€æœ‰çš„i,jå…³ç³»è¿è¾¹ è·‘ä¸€éæœ€å¤§æµï¼Œå³å¯å¾—å‡ºans2 Q3ï¼šå› ä¸º1å’Œnèƒ½ç”¨å¤šæ¬¡ï¼Œæ‰€ä»¥åœ¨Q2ç½‘ç»œå›¾çš„åŸºç¡€ä¸Šå°†ä¸1æˆ–nç›¸å…³è”çš„è¾¹çš„å®¹é‡ä¿®æ”¹ä¸ºinf é‡æ–°è·‘ä¸€éæœ€å¤§æµï¼Œå³å¯å¾—å‡ºans3 æ³¨æ„ç‰¹åˆ¤ans1==1çš„æƒ…å†µ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int oo=0x3f3f3f3f; const int N=1050,M=3e3+5; int en=1,h[N],d[N],n,m,s,t,use,cur[N],ans,ma,ans1,ans2,ans3,f[N],a[N]; bool v[N]; struct edge{ int n,v,f; }e[N+M&lt;&lt;1]; void add(int x,int y,int z){ e[++en]=(edge){h[x],y,z}; h[x]=en; } void exadd(int x,int y,int z){ add(x,y,z); add(y,x,0); } bool bfs(int s,int aim){ memset(d,0,sizeof d); memcpy(cur,h,sizeof cur); queue&lt;int&gt; q; q.push(s); d[s]=1; while(!q.empty()){ int x=q.front(); q.pop(); for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(d[y]==0&amp;&amp;e[i].f){ d[y]=d[x]+1; if(y==aim) return 1; q.push(y); } } } return 0; } int dfs(int x,int flow,int aim){ if(x==aim) return flow; int rest=flow; for(int &amp;i=cur[x];i&amp;&amp;rest;i=e[i].n){ int y=e[i].v; if(d[y]==d[x]+1&amp;&amp;e[i].f){ int flow=dfs(y,min(rest,e[i].f),aim); rest-=flow; e[i].f-=flow; e[i^1].f+=flow; } } return flow-rest; } int dinic(int s,int t){ int res=0; while(bfs(s,t)) res+=dfs(s,oo,t); return res; } signed main(){ read(n); s=1,t=n+n+2; for(int i=1;i&lt;=n;i++){ read(a[i]); f[i]=1; for(int j=1;j&lt;i;j++) if(a[j]&lt;=a[i]) f[i]=max(f[i],f[j]+1); ans1=max(ans1,f[i]); } if(ans1==1){ write(1);puts(&quot;&quot;); write(n);puts(&quot;&quot;); write(n); return 0; } for(int i=1;i&lt;=n;i++){ exadd(i+s,i+s+n,1); if(f[i]==1) exadd(s,i+s,1); if(f[i]==ans1) exadd(i+s+n,t,1); for(int j=i+1;j&lt;=n;j++) if(f[j]==f[i]+1&amp;&amp;a[j]&gt;=a[i]) exadd(i+s+n,j+s,1); } ans2=dinic(s,t); exadd(1+s,1+s+n,oo); exadd(s,1+s,oo); for(int i=2;i&lt;=en;i+=2) e[i].f+=e[i^1].f,e[i^1].f=0; if(f[n]==ans1){ exadd(n+s,n+s+n,oo); exadd(n+s+n,t,oo); } ans3=dinic(s,t); write(ans1);puts(&quot;&quot;); write(ans2);puts(&quot;&quot;); write(ans3); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"ç½‘ç»œæµäºŒåå››é¢˜","slug":"ç½‘ç»œæµäºŒåå››é¢˜","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµäºŒåå››é¢˜/"},{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµ/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"FLOW5 åœ†æ¡Œé—®é¢˜","slug":"FLOW5 åœ†æ¡Œé—®é¢˜","date":"2019-12-03T12:43:05.000Z","updated":"2019-12-15T08:14:56.783Z","comments":true,"path":"2019/12/03/FLOW5 åœ†æ¡Œé—®é¢˜/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/03/FLOW5 åœ†æ¡Œé—®é¢˜/","excerpt":"","text":"FLOW5 åœ†æ¡Œé—®é¢˜ æ¨¡å‹ï¼šäºŒåˆ†å›¾å¤šé‡åŒ¹é…-&gt;ç½‘ç»œæœ€å¤§æµ é¢˜æ„ï¼šå‡è®¾æœ‰æ¥è‡ª $n$ ä¸ªä¸åŒå•ä½çš„ä»£è¡¨å‚åŠ ä¸€æ¬¡å›½é™…ä¼šè®®ã€‚æ¯ä¸ªå•ä½çš„ä»£è¡¨æ•°åˆ†åˆ«ä¸º $r_i$ ã€‚ä¼šè®®é¤å…å…±æœ‰ $m$ å¼ é¤æ¡Œï¼Œæ¯å¼ é¤æ¡Œå¯å®¹çº³ $c_i$ ä¸ªä»£è¡¨å°±é¤ã€‚ ä¸ºäº†ä½¿ä»£è¡¨ä»¬å……åˆ†äº¤æµï¼Œå¸Œæœ›ä»åŒä¸€ä¸ªå•ä½æ¥çš„ä»£è¡¨ä¸åœ¨åŒä¸€ä¸ªé¤æ¡Œå°±é¤ã€‚ è¯•ç»™å‡ºæ»¡è¶³è¦æ±‚çš„ä»£è¡¨å°±é¤æ–¹æ¡ˆã€‚ é¢˜è§£ï¼šå°†â€œäººâ€çœ‹æˆæœ¬é—®é¢˜ä¸­çš„â€œæµâ€ æ˜¾ç„¶çš„ï¼Œâ€œäººâ€æ˜¯ä»â€œå•ä½â€æµå‡ºï¼Œåœ¨ä¸€å¼ é¤æ¡Œä¸Šæ±‡åˆçš„ å› æ­¤ä»æºç‚¹å‘æ¯ä¸ªå•ä½è¿æ¡å®¹é‡ä¸ºå•ä½äººæ•°çš„è¾¹ï¼Œä»æ¯å¼ æ¡Œå­å‘æ±‡ç‚¹è¿æ¡å®¹é‡ä¸ºæ¡Œå­å®¹é‡çš„è¾¹ è€Œæ¡Œå­ä¸å¯¹åº”å•ä½çš„è¾¹çš„å®¹é‡ä¸º1ï¼ˆå› ä¸ºä¸€å¼ æ¡Œå­ä¸€ä¸ªå•ä½è‡³å¤šä¸€äººï¼‰ è·‘ä¸€éæœ€å¤§æµï¼Œç”¨è¶…çº§æ±‡ç‚¹ç»Ÿè®¡ä¸€ä¸‹èƒ½æ”¾çš„äººæ•°ï¼Œä¸ç­‰äºé¤æ¡Œå¯å®¹çº³äººæ•°æ€»æ•°çš„è¯å°±ä»£è¡¨æ˜¯ä¸åˆæ³•çš„ ç„¶ååœ¨æ®‹é‡ç½‘ç»œé‡Œç»§ç»­å¤„ç† æšä¸¾æ¡Œå­ï¼Œå†ä¾æ¬¡æšä¸¾å•ä½ï¼Œçœ‹çœ‹å¯¹åº”çš„è¾¹ä¸Šæœ‰æ— æµé‡ï¼Œè¿™å¯¹åº”ç€è¿™å¼ æ¡Œå­ä¸Šæœ‰æ²¡æœ‰è¿™ä¸ªå•ä½çš„äºº ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int oo=0x3f3f3f3f; const int N=505,M=1e5+5; int en=1,h[N],d[N],n,m,s,t,use,cur[N],ans,ma; bool v[N]; struct edge{ int n,v,f; }e[N+M&lt;&lt;1]; void add(int x,int y,int z){ e[++en]=(edge){h[x],y,z}; h[x]=en; } void exadd(int x,int y,int z){ add(x,y,z); add(y,x,0); } bool bfs(int s,int aim){ memset(d,0,sizeof d); memcpy(cur,h,sizeof cur); queue&lt;int&gt; q; q.push(s); d[s]=1; while(!q.empty()){ int x=q.front(); q.pop(); for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(d[y]==0&amp;&amp;e[i].f){ d[y]=d[x]+1; if(y==aim) return 1; q.push(y); } } } return 0; } int dfs(int x,int flow,int aim){ if(x==aim) return flow; int rest=flow; for(int &amp;i=cur[x];i&amp;&amp;rest;i=e[i].n){ int y=e[i].v; if(d[y]==d[x]+1&amp;&amp;e[i].f){ int flow=dfs(y,min(rest,e[i].f),aim); rest-=flow; e[i].f-=flow; e[i^1].f+=flow; } } return flow-rest; } int dinic(int s,int t){ int res=0; while(bfs(s,t)) res+=dfs(s,oo,t); return res; } signed main(){ read(m);read(n); s=1,t=m+n+2; for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=m;j++) exadd(i+s,j+s+n,1); for(int i=1,x;i&lt;=m;i++) exadd(i+s+n,t,read(x)),ma+=x; for(int i=1,x;i&lt;=n;i++) exadd(s,i+s,read(x)); if(dinic(s,t)^ma){ write(0); return 0; } write(1); for(int i=1;i&lt;=m;i++){ puts(&quot;&quot;); int x=i+s+n; for(int i=h[x];i;i=e[i].n) if(e[i].f) write(e[i].v-s),putchar(&#39; &#39;); } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"ç½‘ç»œæµäºŒåå››é¢˜","slug":"ç½‘ç»œæµäºŒåå››é¢˜","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµäºŒåå››é¢˜/"},{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµ/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"FLOW4 é­”æœ¯çƒé—®é¢˜","slug":"FLOW4 é­”æœ¯çƒé—®é¢˜","date":"2019-12-03T12:32:04.000Z","updated":"2019-12-15T08:14:39.460Z","comments":true,"path":"2019/12/03/FLOW4 é­”æœ¯çƒé—®é¢˜/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/03/FLOW4 é­”æœ¯çƒé—®é¢˜/","excerpt":"","text":"FLOW4 é­”æœ¯çƒé—®é¢˜ æ¨¡å‹ï¼šæœ‰å‘æ— ç¯å›¾æœ€å°è·¯å¾„è¦†ç›–-&gt;ç½‘ç»œæœ€å¤§æµ é¢˜æ„ï¼šå‡è®¾æœ‰ n æ ¹æŸ±å­ï¼ŒæŒ‰ä¸‹è¿°è§„åˆ™åœ¨è¿™ n æ ¹æŸ±å­ä¸­ä¾æ¬¡æ”¾å…¥ç¼–å·ä¸º 1,2,3,4,â‹¯ çš„çƒï¼šæ¯æ¬¡åªèƒ½åœ¨æŸæ ¹æŸ±å­çš„æœ€ä¸Šé¢æ”¾çƒï¼›åœ¨åŒä¸€æ ¹æŸ±å­ä¸­ï¼Œä»»ä½• 2 ä¸ªç›¸é‚»çƒçš„ç¼–å·ä¹‹å’Œä¸ºå®Œå…¨å¹³æ–¹æ•°ã€‚ è¯•è®¡ç®—å‡ºåœ¨ n æ ¹æŸ±å­ä¸Šæœ€å¤šèƒ½æ”¾å¤šå°‘ä¸ªçƒã€‚ é¢˜è§£ï¼šåˆæ˜¯ä¸€é“å‡ç½‘ç»œæµé¢˜ å¦‚æœæ˜¯ç½‘ç»œæµåšæ³•çš„è¯ï¼Œåº”è¯¥æ˜¯å°†æ¯ä¸ªçƒçœ‹æˆç‚¹ï¼ŒæŠŠç¬¦åˆæ¡ä»¶çš„â€œå…³ç³»â€çœ‹æˆæœ‰å‘è¾¹ï¼Œè·‘ä¸€éæœ‰å‘æ— ç¯å›¾æœ€å°è·¯å¾„è¦†ç›–ï¼ˆæ–¹æ³•è§FLOW3 æœ€å°è·¯å¾„è¦†ç›–é—®é¢˜ï¼‰ ä½†æˆ‘é€‰æ‹©äº†è´ªå¿ƒæ¥è§£å†³è¿™é¢˜ï¼ˆä¸»è¦æ˜¯ä»£ç æ–¹ä¾¿ï¼Œæ‡’å¾—å»æç½‘ç»œæµäº†ã€‚ã€‚ã€‚ï¼‰ å‡è®¾èƒ½æ”¾mä¸ªçƒï¼Œè´ªå¿ƒæ€è·¯å°±æ˜¯å¯¹äº1..mæ¯ä¸ªçƒï¼Œæšä¸¾æ¯æ ¹æŸ±å­ï¼Œèƒ½æ”¾å°±æ”¾ï¼Œä¸èƒ½æ”¾æ–°å¼€ä¸€ä¸ªï¼Œç›´åˆ°æŸ±å­å¼€å®Œä¸ºæ­¢ æ˜¾ç„¶çš„ï¼Œå¤æ‚åº¦$O(nm)$ è´ªå¿ƒæ­£ç¡®æ€§ä¸ä¼šè¯ï¼Œæš‚æ—¶ä¹Ÿçœ‹ä¸æ‡‚ï¼Œä½†å¯ä»¥å…ˆæ”¾å‡ºä¸¤ä¸ªç‰ˆæœ¬çš„è¯æ˜ï¼š ç‰ˆæœ¬ä¸€ï¼Œç‰ˆæœ¬äºŒ å¦å¤–ï¼Œå…¶å®mçš„å€¼ä¹Ÿæ˜¯å¯ä»¥$O(1)$è®¡ç®—çš„ å…·ä½“çš„é€šé¡¹å…¬å¼å¯ä»¥è§OEIS A047838ï¼ˆåæ­£æˆ‘ä¹Ÿä¸ä¼šè¯ã€‚ã€‚ã€‚ï¼‰ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } vector&lt;int&gt; ans[60]; int n,m; bool check(int x){ return (int)sqrt(x)*(int)sqrt(x)==x; } signed main(){ read(n); m=(n+1)*(n+1)/2-1; for(int i=1;i&lt;=m;i++) for(int j=1;j&lt;=n;j++) if(ans[j].empty()||check(ans[j][ans[j].size()-1]+i)){ ans[j].push_back(i); break; } write(m); for(int i=1;i&lt;=n;i++){ puts(&quot;&quot;); for(int j=0;j&lt;ans[i].size();j++){ write(ans[i][j]); if(j!=ans[i].size()-1) putchar(&#39; &#39;); } } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"https://blog.yzcthinktwice.com/tags/è´ªå¿ƒ/"},{"name":"ç½‘ç»œæµäºŒåå››é¢˜","slug":"ç½‘ç»œæµäºŒåå››é¢˜","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµäºŒåå››é¢˜/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"FLOW3 æœ€å°è·¯å¾„è¦†ç›–é—®é¢˜","slug":"FLOW3 æœ€å°è·¯å¾„è¦†ç›–é—®é¢˜","date":"2019-12-03T12:31:03.000Z","updated":"2019-12-15T08:14:49.155Z","comments":true,"path":"2019/12/03/FLOW3 æœ€å°è·¯å¾„è¦†ç›–é—®é¢˜/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/03/FLOW3 æœ€å°è·¯å¾„è¦†ç›–é—®é¢˜/","excerpt":"","text":"FLOW3 æœ€å°è·¯å¾„è¦†ç›–é—®é¢˜ æ¨¡å‹ï¼šæœ‰å‘æ— ç¯å›¾æœ€å°è·¯å¾„è¦†ç›–-&gt;ç½‘ç»œæœ€å¤§æµ é¢˜æ„ï¼šç»™å®šæœ‰å‘å›¾ $G=(V,E)$ã€‚è®¾ $P$ æ˜¯ $G$ çš„ä¸€ä¸ªç®€å•è·¯ï¼ˆé¡¶ç‚¹ä¸ç›¸äº¤ï¼‰çš„é›†åˆã€‚å¦‚æœ $V$ ä¸­æ¯ä¸ªé¡¶ç‚¹æ°å¥½åœ¨ $P$ çš„ä¸€æ¡è·¯ä¸Šï¼Œåˆ™ç§° $P$ æ˜¯ $G$ çš„ä¸€ä¸ªè·¯å¾„è¦†ç›–ã€‚$P$ ä¸­è·¯å¾„å¯ä»¥ä» $V$ çš„ä»»ä½•ä¸€ä¸ªé¡¶ç‚¹å¼€å§‹ï¼Œé•¿åº¦ä¹Ÿæ˜¯ä»»æ„çš„ï¼Œç‰¹åˆ«åœ°ï¼Œå¯ä»¥ä¸º 0ã€‚$G$ çš„æœ€å°è·¯å¾„è¦†ç›–æ˜¯ $G$ çš„æ‰€å«è·¯å¾„æ¡æ•°æœ€å°‘çš„è·¯å¾„è¦†ç›–ã€‚ æ±‚ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ $G$ çš„æœ€å°è·¯å¾„è¦†ç›–ã€‚ é¢˜è§£ï¼šå°†â€œä¸€æ¡è·¯å¾„â€çœ‹æˆæœ¬é—®é¢˜ä¸­çš„â€œæµâ€ è‡ªç„¶çš„ï¼Œå¯¹å›¾è¿›è¡Œæ‹†ç‚¹æ“ä½œï¼Œæ‹†æˆè¿›ç‚¹å’Œå‡ºç‚¹ é¢˜ç›®è¦æ±‚ä¸¤æ¡è·¯å¾„æ— äº¤ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªç‚¹åªæœ‰ä¸€ä¸ªè¿›æˆ–ä¸€ä¸ªå‡ºï¼Œæ¯æ¡è¾¹ä¹Ÿéƒ½åªèƒ½ç»è¿‡ä¸€æ¬¡ å› æ­¤ä»æºç‚¹å‘æ¯ä¸ªè¿›ç‚¹è¿æ¡å®¹é‡1çš„è¾¹ï¼Œä»æ¯ä¸ªå‡ºç‚¹å‘æ±‡ç‚¹è¿æ¡å®¹é‡1çš„è¾¹ å¯¹äºæ¯æ¡è¯»å…¥çš„è¾¹$(u,v)$ï¼Œä»uçš„å‡ºç‚¹å‘vçš„è¿›ç‚¹è¿æ¡å®¹é‡1çš„è¾¹ è·‘éæœ€å¤§æµ æœ€å°è·¯å¾„è¦†ç›–æ•°=ç‚¹æ•°-æœ€å¤§æµ è¯æ˜ç•¥å»ï¼Œä¸ªäººè®¤ä¸ºè¿™ä¸â€œæ— ç¯å›¾ä¸­æ£®æ—æ•°=ç‚¹æ•°-è¾¹æ•°â€åŸºæœ¬æ˜¯ä¸€ä¸ªé“ç† å¯¹äºæ–¹æ¡ˆçš„è¾“å‡ºï¼Œå› ä¸ºä¸€æ¡è¾¹åªæœ‰é€‰å’Œä¸é€‰ä¸¤ç§é€‰æ‹©ï¼Œæ‰€ä»¥åªéœ€è¦åœ¨æ®‹é‡ç½‘ç»œä¸Šè·‘ä¸€éï¼Œå°†åœ¨åŒä¸€ä¸ªè”é€šå—ä¸­çš„ç‚¹ä¸€èµ·è¾“å‡ºå³å¯ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int oo=0x3f3f3f3f; const int N=405,M=6e3+5; int en=1,h[N],d[N],n,m,s,t,use,cur[N],ans; bool v[N]; struct edge{ int n,v,f; }e[N+M&lt;&lt;1]; void add(int x,int y,int z){ e[++en]=(edge){h[x],y,z}; h[x]=en; } void exadd(int x,int y,int z){ add(x,y,z); add(y,x,0); } bool bfs(int s,int aim){ memset(d,0,sizeof d); memcpy(cur,h,sizeof cur); queue&lt;int&gt; q; q.push(s); d[s]=1; while(!q.empty()){ int x=q.front(); q.pop(); for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(d[y]==0&amp;&amp;e[i].f){ d[y]=d[x]+1; if(y==aim) return 1; q.push(y); } } } return 0; } int dfs(int x,int flow,int aim){ if(x==aim) return flow; int rest=flow; for(int &amp;i=cur[x];i&amp;&amp;rest;i=e[i].n){ int y=e[i].v; if(d[y]==d[x]+1&amp;&amp;e[i].f){ int flow=dfs(y,min(rest,e[i].f),aim); rest-=flow; e[i].f-=flow; e[i^1].f+=flow; } } return flow-rest; } int dinic(int s,int t){ int res=0; while(bfs(s,t)) res+=dfs(s,oo,t); return res; } void print(int x){ for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(y==s||y==t) continue; if(e[i].f) continue; v[y-n-1]=1; putchar(&#39; &#39;);write(y-n-1); print(y-n); } } signed main(){ read(n);read(m); s=1,t=n*2+2; for(int i=1,x,y;i&lt;=m;i++){ read(x);read(y); exadd(x+s,y+s+n,1); } for(int i=1;i&lt;=n;i++) exadd(s,i+1,1),exadd(i+n+s,t,1); ans=n-dinic(s,t); for(int i=1;i&lt;=n;i++) if(!v[i]){ write(i); print(i+s); puts(&quot;&quot;); } write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"ç½‘ç»œæµäºŒåå››é¢˜","slug":"ç½‘ç»œæµäºŒåå››é¢˜","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµäºŒåå››é¢˜/"},{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµ/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"FLOW2 å¤ªç©ºé£è¡Œè®¡åˆ’é—®é¢˜","slug":"FLOW2 å¤ªç©ºé£è¡Œè®¡åˆ’é—®é¢˜","date":"2019-12-03T12:30:02.000Z","updated":"2019-12-15T08:14:14.184Z","comments":true,"path":"2019/12/03/FLOW2 å¤ªç©ºé£è¡Œè®¡åˆ’é—®é¢˜/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/03/FLOW2 å¤ªç©ºé£è¡Œè®¡åˆ’é—®é¢˜/","excerpt":"","text":"FLOW2 å¤ªç©ºé£è¡Œè®¡åˆ’é—®é¢˜ æ¨¡å‹ï¼šæœ€å¤§æƒé—­åˆå›¾-&gt;ç½‘ç»œæœ€å°å‰² é¢˜æ„ï¼šç°å·²ç¡®å®šäº†ä¸€ä¸ªå¯ä¾›é€‰æ‹©çš„å®éªŒé›†åˆ $E = \\{ E_1, E_2, \\cdots, E_m \\}$ï¼Œå’Œè¿›è¡Œè¿™äº›å®éªŒéœ€è¦ä½¿ç”¨çš„å…¨éƒ¨ä»ªå™¨çš„é›†åˆ $I = \\{ I_1, I_2, \\cdots, I_n \\}$ã€‚å®éªŒ $E_j$ éœ€è¦ç”¨åˆ°çš„ä»ªå™¨æ˜¯ $I$ çš„å­é›† $R_j \\subseteq I$ã€‚ é…ç½®ä»ªå™¨ $I_k$ çš„è´¹ç”¨ä¸º $c_k$ ç¾å…ƒã€‚å®éªŒ $E_j$ çš„èµåŠ©å•†å·²åŒæ„ä¸ºè¯¥å®éªŒç»“æœæ”¯ä»˜ $p_j$ ç¾å…ƒã€‚å¯¹äºç»™å®šçš„å®éªŒå’Œä»ªå™¨é…ç½®æƒ…å†µï¼Œæ‰¾å‡ºå‡€æ”¶ç›Šæœ€å¤§çš„è¯•éªŒè®¡åˆ’ã€‚ é¢˜è§£ï¼šæœ€å¤§æƒé—­åˆå­å›¾ä¾‹é¢˜ å¯ä»¥ä» $S$ å‘æ¯ä¸ªå®éªŒè¿ä¸€æ¡å®¹é‡ä¸º $p_i$ çš„è¾¹ï¼Œæ¯ä¸ªå®éªŒå‘æ‰€éœ€è¦çš„ä»ªå™¨è¿ä¸€æ¡å®¹é‡ä¸º $inf$ çš„è¾¹ï¼Œæ¯ä¸ªä»ªå™¨å‘ $T$ è¿ä¸€æ¡å®¹é‡ä¸º $c_i$ çš„è¾¹ å‡è®¾æ‰€æœ‰å®éªŒéƒ½åšï¼Œå†è®¡ç®—å‡ºç½‘ç»œå›¾çš„æœ€å°å‰²ï¼Œæœ€å°å‰²å°±æ˜¯è¦èŠ±è´¹çš„é’± ç­”æ¡ˆå°±æ˜¯æ€»çš„èƒ½èµšçš„é’±å‡å»èŠ±è´¹çš„é’± ä¸ºä»€ä¹ˆè¦çœ‹åšæœ€å°å‰²å‘¢ï¼Ÿå› ä¸ºå¦‚æœæŸä¸ªå®éªŒçš„æ”¶ç›Šä¸ºè´Ÿæ•°ï¼Œä½†æ˜¯å®ƒç”¨åˆ°çš„ä»ªå™¨èƒ½ä¸ºåˆ«çš„å®éªŒæ‰€ç”¨ï¼Œé‚£ä¹ˆå°±ç›¸å½“äºä½ èŠ±äº†è¿™ä¸ªå®éªŒçš„èµåŠ©å•†ç»™ä½ çš„é’±ä¸ºåˆ«çš„å®éªŒä¹°ä»ªå™¨ï¼Œå…·è±¡åŒ–åœ¨ç½‘ç»œå›¾ä¸Šï¼Œå°±æ˜¯ä»ªå™¨é‚£ä¸ªç‚¹ç»™è¿™ä¸ªå®éªŒä¸€ä¸ªæµï¼ŒæŠŠè¿™ä¸ªå®éªŒæµå‡ºå»çš„æŠµæ¶ˆæ‰äº†ã€‚å½“ç„¶ï¼Œä¹Ÿä¼šå­˜åœ¨é‚£ç§æ— è®ºæ€ä¹ˆä¹°ä»ªå™¨éƒ½ä¸åˆ’ç®—çš„å®éªŒï¼Œè¿™æ ·çš„å®éªŒæœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå› ä¸ºå®ƒä¸èƒ½ä¾›ç»™ä»ªå™¨çš„éœ€æ±‚ï¼Œæ‰€ä»¥æºç‚¹åˆ°å®ƒçš„æ®‹æµä¸€å®šæ˜¯0ï¼Œå°±æ˜¯è¯´ä¸ç®¡æ˜¯æ­£å‘è¾¹è¿˜æ˜¯åå‘è¾¹éƒ½æ˜¯0ï¼ŒåŒæ ·çš„é‚£äº›å¯ä»¥ä¾›ç»™çš„ï¼Œæºç‚¹åˆ°å®ƒçš„æ®‹ç•™ä¸€å®šå¤§äº0ï¼Œä¹Ÿå°±æ˜¯æ­£å‘è¾¹æˆ–è€…åå‘è¾¹å¤§äº0ï¼Œè¯´æ˜åšè¿™ä¸ªå®éªŒèƒ½èµšé’±ã€‚ ç„¶åæ¥çœ‹æ‰€é€‰æ‹©å®éªŒå’Œä»ªå™¨çš„è¾“å‡º è€ƒè™‘ç”¨dinicè·‘ç½‘ç»œæµï¼Œæ³¨æ„åˆ°æœ€åä¸€éè·‘å®Œåˆ†å±‚å›¾åçš„æœ‰â€œå­˜åœ¨â€ç‚¹éƒ½æ˜¯æœ€â€œé‚»è¿‘â€è¶…çº§æºç‚¹å’Œè¶…çº§æ±‡ç‚¹çš„ï¼Œä¹Ÿå°±æ˜¯é‡‡å–æœ€å°å‰²åï¼Œè¿™äº›ç‚¹éƒ½æ˜¯ä¸ä¸¤ä¸ªè¶…çº§ç‚¹åœ¨åŒä¸€é›†åˆä¸­çš„ æ‰€ä»¥åœ¨ç½‘ç»œæµåæšä¸¾ä¸€éæ¯ä¸ªç‚¹åœ¨åˆ†å±‚å›¾ä¸­çš„æ·±åº¦ï¼Œæœ‰æ·±åº¦ï¼ˆå­˜åœ¨ï¼‰å°±è¡¨ç¤ºè¦é€‰æ‹©ï¼Œè¾“å‡ºå³å¯ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; #define fill(x,y) memset(x,y,sizeof x) #define copy(x,y) memcpy(x,y,sizeof x) using namespace std; inline int read(int &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } inline void write(int x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int oo=0x7fffffff; const int N=100+5,M=N*N+5; int en=1,h[N],d[N],n,m,s,t,use,cur[N],ans; struct edge{int n,v,w;}e[M&lt;&lt;1]; inline void add(int x,int y,int z){e[++en]=(edge){h[x],y,z};h[x]=en;} inline void exadd(int x,int y,int z){add(x,y,z);add(y,x,0);} bool bfs(int s,int aim){ fill(d,0); copy(cur,h); queue&lt;int&gt; q; q.push(s); d[s]=1; while(!q.empty()){ int x=q.front(); q.pop(); for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(d[y]==0&amp;&amp;e[i].w){ d[y]=d[x]+1; if(y==aim) return 1; q.push(y); } } } return 0; } int dfs(int x,int flow,int aim){ if(x==aim) return flow; int rest=flow; for(int &amp;i=cur[x];i&amp;&amp;rest;i=e[i].n){ int y=e[i].v; if(d[y]==d[x]+1&amp;&amp;e[i].w){ int tp=dfs(y,min(rest,e[i].w),aim); rest-=tp; e[i].w-=tp; e[i^1].w+=tp; } } return flow-rest; } int dinic(int s,int t){ int res=0; while(bfs(s,t)) res+=dfs(s,oo,t); return res; } signed main(){ read(n);read(m); s=0;t=n+m+1; for(int i=1,x;i&lt;=n;i++){ read(x); ans+=x; exadd(s,i,x); for(;;){ char c; scanf(&quot;%d%c&quot;,&amp;x,&amp;c); exadd(i,n+x,oo); if(c==&#39;\\n&#39;||c==&#39;\\r&#39;) break; } } for(int i=1,x;i&lt;=m;i++){ read(x); exadd(n+i,t,x); } ans-=dinic(s,t); for(int i=1;i&lt;=n;i++) if(d[i]) write(i),putchar(&#39; &#39;); puts(&quot;&quot;); for(int i=1;i&lt;=m;i++) if(d[i+n]) write(i),putchar(&#39; &#39;); puts(&quot;&quot;); write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"ç½‘ç»œæµäºŒåå››é¢˜","slug":"ç½‘ç»œæµäºŒåå››é¢˜","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµäºŒåå››é¢˜/"},{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµ/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"FLOW1 é£è¡Œå‘˜é…å¯¹æ–¹æ¡ˆé—®é¢˜","slug":"FLOW1 é£è¡Œå‘˜é…å¯¹æ–¹æ¡ˆé—®é¢˜","date":"2019-12-03T12:29:01.000Z","updated":"2019-12-15T08:14:53.024Z","comments":true,"path":"2019/12/03/FLOW1 é£è¡Œå‘˜é…å¯¹æ–¹æ¡ˆé—®é¢˜/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/12/03/FLOW1 é£è¡Œå‘˜é…å¯¹æ–¹æ¡ˆé—®é¢˜/","excerpt":"","text":"FLOW1 é£è¡Œå‘˜é…å¯¹æ–¹æ¡ˆé—®é¢˜ æ¨¡å‹ï¼šäºŒåˆ†å›¾æœ€å¤§åŒ¹é…-&gt;ç½‘ç»œæœ€å¤§æµ é¢˜æ„ï¼šæ¯æ¶é£æœºéœ€è¦ä¸¤ä¸ªé©¾é©¶å‘˜ï¼Œä¸€ä¸ªæ­£é©¾é©¶å‘˜å’Œä¸€ä¸ªå‰¯é©¾é©¶å‘˜ã€‚ç”±äºç§ç§åŸå› ï¼Œæœ‰äº›é©¾é©¶å‘˜ä¸èƒ½åœ¨åŒä¸€æ¶é£æœºä¸Šé£è¡Œï¼Œé—®å¦‚ä½•æ­é…é©¾é©¶å‘˜æ‰èƒ½ä½¿å‡ºèˆªçš„é£æœºæœ€å¤šã€‚ä¸¤ä¸ªæ­£é©¾é©¶å‘˜æˆ–ä¸¤ä¸ªå‰¯é©¾é©¶å‘˜éƒ½ä¸èƒ½åŒæœºé£è¡Œã€‚ é¢˜è§£ï¼šäºŒåˆ†å›¾åŒ¹é…è£¸é¢˜ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; #define fill(x,y) memset(x,y,sizeof x) #define copy(x,y) memcpy(x,y,sizeof x) using namespace std; inline int read(int &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } inline void write(int x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int oo=0x7fffffff; const int N=2000+5,M=N*N+5; int en=1,h[N],d[N],na,nb,m,s,t,use,cur[N]; struct edge{int n,v,w;}e[M&lt;&lt;1]; inline void add(int x,int y,int z){e[++en]=(edge){h[x],y,z};h[x]=en;} inline void exadd(int x,int y,int z){add(x,y,z);add(y,x,0);} bool bfs(int s,int aim){ fill(d,0); copy(cur,h); queue&lt;int&gt; q; q.push(s); d[s]=1; while(!q.empty()){ int x=q.front(); q.pop(); for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(d[y]==0&amp;&amp;e[i].w){ d[y]=d[x]+1; if(y==aim) return 1; q.push(y); } } } return 0; } int dfs(int x,int flow,int aim){ if(x==aim) return flow; int rest=flow; for(int &amp;i=cur[x];i&amp;&amp;rest;i=e[i].n){ int y=e[i].v; if(d[y]==d[x]+1&amp;&amp;e[i].w){ int tp=dfs(y,min(rest,e[i].w),aim); rest-=tp; e[i].w-=tp; e[i^1].w+=tp; } } return flow-rest; } int dinic(int s,int t){ int res=0; while(bfs(s,t)) res+=dfs(s,oo,t); return res; } signed main(){ read(na);read(nb); nb-=na; for(int x,y;;){ read(x);read(y); if(x==-1) break; exadd(x+1,y+1,1); } for(int i=1;i&lt;=na;i++) exadd(1,i+1,1); for(int i=1;i&lt;=nb;i++) exadd(na+1+i,na+nb+2,1); int ans=dinic(1,na+nb+2); if(ans==0){puts(&quot;No Solution!&quot;);return 0;} write(ans);puts(&quot;&quot;); for(int i=2;i&lt;=en;i+=2){ int x=e[i].v,y=e[i^1].v; if(x!=1&amp;&amp;y!=1&amp;&amp;x!=na+nb+2&amp;&amp;y!=na+nb+2&amp;&amp;e[i^1].w) write(y-1),putchar(&#39; &#39;),write(x-1),putchar(&#39;\\n&#39;); } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"ç½‘ç»œæµäºŒåå››é¢˜","slug":"ç½‘ç»œæµäºŒåå››é¢˜","permalink":"https://blog.yzcthinktwice.com/tags/ç½‘ç»œæµäºŒåå››é¢˜/"},{"name":"äºŒåˆ†å›¾åŒ¹é…","slug":"äºŒåˆ†å›¾åŒ¹é…","permalink":"https://blog.yzcthinktwice.com/tags/äºŒåˆ†å›¾åŒ¹é…/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1260C Infinite Fence","slug":"CF1260C Infinite Fence","date":"2019-11-29T11:16:01.000Z","updated":"2019-12-15T08:11:34.186Z","comments":true,"path":"2019/11/29/CF1260C Infinite Fence/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/29/CF1260C Infinite Fence/","excerpt":"","text":"CF1260C Infinite Fence æ•°å­¦ç»“è®ºé¢˜ï¼Œç°åœºå´å¡å¾—æˆ‘åŸºæœ¬æ‰è‰² éš¾åº¦åœ¨äºå¯¹æ•°å­¦å¼çš„æ•æ„Ÿåº¦ é¢˜è§£ï¼šå‡è®¾r&lt;=bï¼ˆå¦‚æœä¸æ˜¯å°±äº¤æ¢ï¼‰ é¦–å…ˆæ€è€ƒrï¼Œbäº’è´¨çš„æƒ…å†µï¼Œå‘ç°ä¸€å®šä¼šå­˜åœ¨ç¬¬posä¸ªæœ¨æ¿æ¶‚è“è‰²ï¼Œè€Œç¬¬pos+1ä¸ªæœ¨æ¿æ¶‚æˆçº¢è‰²çš„æƒ…å†µ ä¹Ÿå°±æ˜¯è¯´$rx-by=1$ä¸€å®šæœ‰æ­£æ•´æ•°è§£å­˜åœ¨ï¼Œè¿™ä¸€ç‚¹å¯ä»¥ç”¨è£´èœ€å®šç†ç®€å•çš„è¯æ˜ ï¼ˆåœ¨P1082 åŒä½™æ–¹ç¨‹çš„é¢˜è§£é‡Œï¼Œä½ ä¹Ÿè®¸å¯ä»¥å¾—åˆ°æ›´å¥½çš„è¯æ˜ï¼‰ è¿™æ„å‘³ç€å¦‚æœè¦OBEYï¼Œé‚£ä¹ˆåŒºé—´[pos,pos+b]ä¸­çš„çº¢è‰²æœ¨æ¿æ•°é‡ä¸€å®šè¦å°äºkï¼Œä¹Ÿå°±æ˜¯ (k-1)*r+1 \\geq bï¼ˆè¯¥å¼çš„æ„æ€æ˜¯posä»¥åçš„k-1å—çº¢æœ¨æ¿è¦èƒ½å¤Ÿå¡æ»¡ï¼Œç”šè‡³è¶…è¿‡è¿™ä¸ªé•¿åº¦ä¸ºbçš„åŒºé—´ï¼‰ æ­¤æ—¶åˆå¯ä»¥å‘ç°å¯¹äºrï¼Œbä¸äº’è´¨çš„æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬åªçœ‹é‚£äº›èƒ½è¢«gcd(r,b)æ•´é™¤çš„æœ¨æ¿ï¼Œå®ƒä»¬çš„æƒ…å†µåˆæ˜¯ä¸ä¸Šè¿°æƒ…å†µç›¸åŒçš„ æ¢å¥è¯è¯´ï¼Œåªè¦å…ˆå°†rï¼Œbéƒ½é™¤å»gcd(r,b)ä½¿ä¸¤è€…äº’è´¨ï¼Œå†å¥—ç”¨ä¸Šè¿°åˆ¤å®šå¼å³å¯ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long int t,r,b,k; void doit(){ read(r);read(b);read(k); int gcd=__gcd(r,b); r/=gcd; b/=gcd; if(r&gt;b) swap(r,b); if((k-1)*r+1&gt;=b) puts(&quot;OBEY&quot;); else puts(&quot;REBEL&quot;); } signed main(){ read(t); while(t--) doit(); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://blog.yzcthinktwice.com/tags/æ•°å­¦/"},{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1149B Three Religions","slug":"CF1149B Three Religions","date":"2019-11-29T11:08:01.000Z","updated":"2019-12-15T08:17:10.072Z","comments":true,"path":"2019/11/29/CF1149B Three Religions/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/29/CF1149B Three Religions/","excerpt":"","text":"CF1149B Three Religions ä¸€é“æ–°é¢–çš„dpå¥½é¢˜ é¢˜æ„ï¼šæœ‰ä¸‰ä¸ªå­—ç¬¦ä¸²$s_1,s_2,s_3$å’Œä¸€ä¸ªä¸»ä¸²$s$ï¼Œæ¯æ¬¡æ“ä½œæ”¹å˜ä¸€ä¸ª$s_i$ ï¼ˆæ’å…¥æˆ–åˆ é™¤å­—ç¬¦ï¼‰ï¼Œæ¯æ¬¡æ“ä½œå®Œä¹‹åé—®$s$æ˜¯å¦å¯ä»¥åˆ†æˆ3ä¸ªå­åºåˆ—æ­£å¥½æ˜¯$s_1,s_2,s_3$ ã€‚ä»»æ„æ—¶å€™$|s_i|\\leq 250$ã€‚ é¢˜è§£ï¼šè®¾f[i][j][k]è¡¨ç¤ºAä¸²åŒ¹é…åˆ°ç¬¬iä¸ªå­—ç¬¦ï¼ŒBä¸²åŒ¹é…åˆ°ç¬¬jä¸ªå­—ç¬¦ï¼ŒCä¸²åŒ¹é…åˆ°ç¬¬kä¸ªå­—ç¬¦æ—¶ï¼Œåœ¨æ¨¡å¼ä¸²ä¸­çš„æœ€çŸ­è·ç¦»ï¼Œå³æœ€å·¦ç‚¹ï¼ˆä¸²çš„ä¸‹æ ‡éƒ½ä»1å¼€å§‹ï¼‰ é¢„å¤„ç†å‡ºnxt[i][c]ï¼Œè¡¨ç¤ºæ¨¡å¼ä¸²ä¸­ï¼Œ[i,n]åŒºé—´å†…ï¼Œcå­—ç¬¦ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½® ä¸‹é¢æ˜¯ä¸€å¼ cfå®˜æ–¹çš„è§£é‡Šnxtæ•°ç»„çš„å›¾ï¼Œå®ƒçš„ä¸‹æ ‡ä»0å¼€å§‹ï¼Œä¹Ÿè®¸å¯ä»¥æ–¹ä¾¿ç†è§£ åˆå§‹åŒ–$f[i][j][k]=n+1,f[0][0][0]=0$ï¼Œæ„æ€æ˜¯å‡è®¾æ€æ ·éƒ½åŒ¹é…å¤±è´¥ï¼Œéƒ½ä¸å»åŒ¹é…æ‰èƒ½æˆåŠŸ è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š ${f[i][j][k]=\\min\\left \\{nxt[f[i-1][j][k]+1][s[1][i]],nxt[f[i][j-1][k]+1][s[2][j]],nxt[f[i][j][k-1]+1][s[3][k]] \\right \\}}$ æ„æ€æ˜¯ï¼Œå°è¯•ä»Aä¸²ä¸­åŠ ä¸ªå­—ç¬¦æ‰¾åç»­ä½ç½®ï¼Œä»Bä¸²ä¸­åŠ ä¸ªå­—ç¬¦æ‰¾åç»­ä½ç½®,ä»Cä¸²ä¸­åŠ ä¸ªå­—ç¬¦æ‰¾åç»­ä½ç½®ï¼Œä»è¿™ä¸‰ä¸ªä½ç½®ä¸­çš„æœ€å·¦è¾¹çš„ä¸€ä¸ªé‚£è½¬ç§» å¯¹äºæ’å…¥æ“ä½œï¼Œæ³¨æ„åˆ°æ–°å¢åŠ çš„çŠ¶æ€åªæœ‰ æ–°å­—ç¬¦ä¸å¦å¤–ä¸¤ä¸ªä¸²çš„æ¯ä¸ªä½ç½® è¿™è‡³å¤š250*250ç§çŠ¶æ€ï¼Œå¯¹äºè¿™äº›æ–°çŠ¶æ€é‡æ–°è·‘ä¸€édpå³å¯ å¯¹äºåˆ é™¤æ“ä½œï¼Œç›´æ¥å‡å°ç›¸åº”ä¸²é•¿å³å¯ å¯¹äºç­”æ¡ˆans=f[len[1]][len[2]][len[3]]ï¼Œæ„æ€å°±æ˜¯ä¸‰ä¸ªä¸²å…¨éƒ¨åŒ¹é…å®Œåï¼Œåœ¨æ¨¡å¼ä¸²ä¸­çš„æœ€å·¦ç‚¹ å½“ans&lt;=næ—¶ï¼Œè¯´æ˜æ˜¯å¯ä»¥åœ¨æ¨¡å¼ä¸²ä¸­è¢«åŒ¹é…å®Œçš„ï¼Œè¾“å‡ºYES å¦åˆ™ans=n+1å°±è¾“å‡ºNO ç‰¹åˆ«æ³¨æ„å¤„ç†nxtæ•°ç»„æ—¶ï¼Œnxt[n+1][]å’Œnxt[n+2][]éƒ½è¦èµ‹ä¸ºn+1 ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e5+5,M=255; char p[N]; int s[4][M],nxt[N][28],f[M][M][M],n,q,len[4]; /*é¢„å¤„ç†å‡ºnxt[][]æ•°ç»„*/ void init(){ for(int i=0;i&lt;26;i++) nxt[n+1][i]=nxt[n+2][i]=n+1; //æ³¨æ„è¿™è¾¹çš„[n+2] for(int i=n;i;i--) for(int j=0;j&lt;26;j++){ if(p[i]==j+&#39;a&#39;) nxt[i][j]=i; else nxt[i][j]=nxt[i+1][j]; } } void doit(){ char ch;cin&gt;&gt;ch; int id;read(id); if(ch==&#39;+&#39;){ cin&gt;&gt;ch; s[id][++len[id]]=ch-&#39;a&#39;; for(int i=(id==1?len[1]:0);i&lt;=len[1];i++) //ä¸‰ç›®è¡¨è¾¾å¼éƒ¨åˆ†æ„æ€æ˜¯ï¼Œå¦‚æœæ˜¯è¿™ä¸ªä¸²è¢«ä¿®æ”¹ï¼Œé‚£å®ƒåªè¦è®¡ç®—æ–°çš„ä¸€ä½ï¼Œå¦åˆ™å°±éƒ½è¦ä»å¤´å¼€å§‹ for(int j=(id==2?len[2]:0);j&lt;=len[2];j++) for(int k=(id==3?len[3]:0);k&lt;=len[3];k++){ int &amp;now=f[i][j][k]; now=n+1; //éƒ½å…ˆå‡è®¾ä¸å¯èƒ½ if(i) now=min(now,nxt[f[i-1][j][k]+1][s[1][i]]); //Aä¸²è½¬ç§» if(j) now=min(now,nxt[f[i][j-1][k]+1][s[2][j]]); //Bä¸²è½¬ç§» if(k) now=min(now,nxt[f[i][j][k-1]+1][s[3][k]]); //Cä¸²è½¬ç§» } } else{ len[id]--; //ç›´æ¥åˆ é•¿åº¦ } if(f[len[1]][len[2]][len[3]]&lt;=n) puts(&quot;YES&quot;); //æœ€å·¦ç‚¹åœ¨nä»¥å†…å°±å¯è¡Œ else puts(&quot;NO&quot;); } signed main(){ read(n);read(q); scanf(&quot;%s&quot;,p+1); init(); while(q--) doit(); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1253E Antenna Coverage","slug":"CF1253E Antenna Coverage","date":"2019-11-29T11:06:01.000Z","updated":"2019-12-15T08:17:36.126Z","comments":true,"path":"2019/11/29/CF1253E Antenna Coverage/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/29/CF1253E Antenna Coverage/","excerpt":"","text":"CF1253E Antenna Coverage ä¸€é“éš¾åº¦2200çš„dpé¢˜ é¢˜æ„ï¼šè¡—é“ä¸Šæœ‰$n$ä¸ªå¤©çº¿ã€‚ç¬¬$i$ä¸ªå¤©çº¿çš„ä½ç½®ä¸º$x_i$ ï¼Œä»¥åŠä¸€ä¸ªèŒƒå›´å€¼$s_i$ ï¼›ç¬¬$i$ä¸ªå¤©çº¿çš„è¦†ç›–èŒƒå›´æ˜¯$[x_i-s_i,x_i+s_i]$ æ¯æ¬¡æ“ä½œï¼Œä½ å¯ä»¥èŠ±è´¹1ä»£ä»·ï¼Œä½¿å¾—ç¬¬$i$ä¸ªå¤©çº¿çš„$s_i$å¢åŠ ä¸€ã€‚æ¯ä¸ªå¤©çº¿éƒ½å¯ä»¥è¿›è¡Œå¤šæ¬¡æ“ä½œã€‚ç°åœ¨è¯·é—®ä½ æœ€å°‘éœ€è¦èŠ±è´¹å¤šå°‘ä»£ä»·ï¼Œä½¿$[1,m]$ç¼–å·å†…çš„æ¯ä¸€ä¸ªä½ç½®éƒ½è¢«è‡³å°‘ä¸€ä¸ªå¤©çº¿è¦†ç›–ã€‚ é¢˜è§£ï¼šf[i]è¡¨ç¤ºè¦†ç›–1~içš„æœ€å°ä»£ä»· åˆå§‹åŒ–f[i]=iï¼Œå› ä¸ºè½¬ç§»æ–¹å‘ä»å·¦å¾€å³ï¼Œåœ¨ä¸è€ƒè™‘æŸç‚¹å³æ–¹å¤©çº¿çš„æƒ…å†µä¸‹ï¼Œæœ€åéƒ½å¯ä»¥çœ‹æˆæ˜¯ä»f[0]è½¬ç§»çš„ è½¬ç§»æšä¸¾1~mæ¯ä¸ªç‚¹ï¼Œå†åˆ†åˆ«å¯¹æ¯ä¸ªç‚¹æšä¸¾æ‰€æœ‰å¤©çº¿ï¼Œåˆ†ç±»è®¨è®ºï¼š è‹¥å¤©çº¿åœ¨å®ƒå·¦è¾¹ï¼Œç”±äºä»å·¦å‘å³è½¬ç§»çš„åŸåˆ™å’Œå±€éƒ¨æœ€ä¼˜è§£çš„æ€§è´¨ï¼Œå°±å¯ä»¥ä¸ç”¨åˆ¤èƒ½å¦è¦†ç›–ï¼Œç›´æ¥ä»å®ƒçš„æœ€å¤§å³è¦†ç›–å¤„è½¬ç§»å³å¯ $f[i]=min(f[i],f[max(0,x[j]-s[j]-1)])$ è‹¥å¤©çº¿åœ¨å®ƒå³è¾¹ï¼Œåˆ™å°±è¦ä»å®ƒå¯¹äºè¿™ä¸ªå¤©çº¿çš„å·¦è¾¹çš„å¯¹ç§°ç‚¹è½¬ç§»ï¼Œå¦‚æœåœ¨å¤©çº¿åŠå¾„ä¹‹å¤–ï¼Œè¿˜è¦åŠ ä¸Šä¸ªä»£ä»· $f[i]=min(f[i],f[max(0,2*x[j]-i-1)]+max(0,i-x[j]-s[j]))$ ç­”æ¡ˆæ˜¯f[m] å¦‚æœæ— æ³•ç†è§£è½¬ç§»ï¼Œå¯ä»¥çœ‹çœ‹ä¸‹é¢è¿™å¼ å›¾ï¼Œæ˜¯æˆ‘ä»è¿™é‡Œå·æ¥çš„qwq ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e5+5; int n,m,x[N],s[N],f[N]; signed main(){ read(n);read(m); for(int i=1;i&lt;=n;i++) read(x[i]),read(s[i]); for(int i=1;i&lt;=m;i++) f[i]=i; //åˆå§‹åŒ– for(int i=1;i&lt;=m;i++) for(int j=1;j&lt;=n;j++){ if(i&gt;=x[j]) f[i]=min(f[i],f[max(0,2*x[j]-i-1)]/*å¯¹ç§°ç‚¹å¤„*/+max(0,i-x[j]-s[j])/*è‹¥è¶…å‡ºè¿˜è¦è¡¥ä¸Šé¢å¤–ä»£ä»·*/); //åœ¨å¤©çº¿å³è¾¹ else f[i]=min(f[i],f[max(0,x[j]-s[j]-1)]/*å› ä¸ºå±€éƒ¨æœ€ä¼˜è§£ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä»è¾¹ç•Œè½¬ç§»*/); //åœ¨å¤©çº¿å·¦è¾¹ } write(f[m]); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1257E The Contest","slug":"CF1257E The Contest","date":"2019-11-28T04:16:01.000Z","updated":"2019-12-15T08:11:19.535Z","comments":true,"path":"2019/11/28/CF1257E The Contest/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/28/CF1257E The Contest/","excerpt":"","text":"CF1257E The Contest ä¸€é“é”»ç‚¼å‰ç¼€ã€åç¼€ã€å·®åˆ†ã€åŒ–å¼å­èƒ½åŠ›çš„å¥½é¢˜ é¢˜æ„ï¼šç»™ä½ ä¸‰ä¸ªé›†åˆA,B,Cï¼Œé›†åˆå¤§å°åˆ†åˆ«ä¸ºanï¼Œbnï¼Œcnï¼Œä¸”an+bn+cn=n æ»¡è¶³ä¸‰ä¸ªé›†åˆçš„å¹¶é›†æ­£å¥½æ˜¯æ•´æ•°1~n æ¯æ¬¡æ“ä½œå¯ä»¥å°†ä¸€ä¸ªä»»æ„é›†åˆä¸­çš„ä»»æ„æ•°å­—æ‰”åˆ°å¦ä¸€ä¸ªé›†åˆä¸­ é—®è‡³å°‘éœ€è¦å‡ æ¬¡æ“ä½œä½¿å¾—æ¯ä¸ªé›†åˆå†…çš„æ•°å­—éƒ½æ˜¯è¿è´¯çš„ï¼ˆç©ºé›†ä¹Ÿå¯ä»¥ï¼Œä¸”Aä¸­æ‰€æœ‰å…ƒç´ å°äºBä¸­æ‰€æœ‰å…ƒç´ ï¼ŒBä¸­æ‰€æœ‰å…ƒç´ å°äºCä¸­æ‰€æœ‰å…ƒç´  é¢˜è§£ï¼šä¸ºäº†æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼Œä¸å¦¨å‡è®¾Aä¸­å«0åˆ°iï¼ŒBä¸­å«i+1åˆ°jï¼ŒCä¸­å«j+1åˆ°n+1ï¼ˆ0å’Œn+1æ˜¯ä¸å­˜åœ¨çš„ï¼‰ æ˜¾ç„¶çš„ï¼Œæ­¤æ—¶ç­”æ¡ˆanså°±æ˜¯æ¯ä¸ªé›†åˆä¸­ä¸å±äºè‡ªå·±çš„å…ƒç´ çš„ä¸ªæ•°å’Œ è®¾a[i]è¡¨ç¤ºAé›†åˆä¸­å«æœ‰æ•°1~içš„ä¸ªæ•°ï¼Œb[i]ä¸c[i]åŒç† åˆ©ç”¨å·®åˆ†çš„æ€æƒ³å¯ä»¥å¾—å‡ºæ­¤æ—¶è¦æ‰”è¿›è¿™ä¸‰ä¸ªé›†åˆçš„å…ƒç´ ä¸ªæ•°åˆ†åˆ«ä¸º$(b[i]+c[i])$ï¼Œ$(a[j]-a[i]+c[j]-c[i])$ï¼Œ$(a[n]-a[j]+b[n]-b[j])$ åŠ èµ·æ¥å°±å¾—åˆ° ans=(b[i]+c[i])+(a[j]-a[i]+c[j]-c[i])+(a[n]-a[j]+b[n]-b[j])ç§»é¡¹ ans=(a[j]-a[i]+a[n]-a[j])+(b[i]+b[n]-b[j])+(c[i]+c[j]-c[i])æŠµæ¶ˆ ans=-a[i]+an+b[i]+bn-b[j]+c[j]ans=(b[i]-a[i])+(an+bn)+(c[j]-b[j]) \\ \\ [i","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"å‰ç¼€","slug":"å‰ç¼€","permalink":"https://blog.yzcthinktwice.com/tags/å‰ç¼€/"},{"name":"åç¼€","slug":"åç¼€","permalink":"https://blog.yzcthinktwice.com/tags/åç¼€/"},{"name":"å·®åˆ†","slug":"å·®åˆ†","permalink":"https://blog.yzcthinktwice.com/tags/å·®åˆ†/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P3147 [USACO16OPEN]262144","slug":"P3147 [USACO16OPEN]262144","date":"2019-11-28T04:13:01.000Z","updated":"2019-12-15T08:17:39.828Z","comments":true,"path":"2019/11/28/P3147 [USACO16OPEN]262144/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/28/P3147 [USACO16OPEN]262144/","excerpt":"","text":"P3147 [USACO16OPEN]262144 DPå¥½é¢˜ï¼ŒçŠ¶æ€æ¯”è¾ƒéš¾æƒ³ f[i][j]è¡¨ç¤ºå°†ä½ç½®ä¸ºiçš„æ•°åˆæˆæ•°å­—jæ‰€éœ€è¦è¾¾åˆ°çš„æœ€å³ç‚¹ åˆå§‹f[i][a[i]]=i+1 å› ä¸ºåˆå¹¶è·ç¦»éƒ½æ˜¯2å¹‚æ¬¡ï¼Œæ‰€ä»¥è½¬ç§»å¯ä»¥ç”¨ç±»ä¼¼å€å¢çš„æ€æƒ³ å¾ªç¯jå¥—i f[i][j]=f[f[i][j-1]][j-1]è‹¥f[i][j]ä¸ä¸º0åˆ™è¯´æ˜iä½ç½®ä¸Šjæ˜¯å¯è¡Œçš„ æœ€åç»Ÿè®¡å¯è¡Œjçš„æœ€å¤§å€¼å³å¯ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=262150; int n,ans,f[N][60]; signed main(){ read(n); for(int i=1,x;i&lt;=n;i++) f[i][read(x)]=i+1; //åˆå§‹éƒ½åœ¨è‡ªå·±å³è¾¹ for(int j=2;j&lt;=58;j++) for(int i=1;i&lt;=n;i++){ if(f[i][j]==0) f[i][j]=f[f[i][j-1]][j-1]; //ç±»ä¼¼å€å¢è·³è¿‡å» if(f[i][j]&gt;0) ans=j; //å¯è¡Œå°±æ›´æ–°ç­”æ¡ˆ } write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"USACO","slug":"USACO","permalink":"https://blog.yzcthinktwice.com/tags/USACO/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"LOJ6276 æœæ ‘","slug":"LOJ6276 æœæ ‘","date":"2019-11-28T04:10:01.000Z","updated":"2019-12-15T08:11:43.661Z","comments":true,"path":"2019/11/28/LOJ6276 æœæ ‘/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/28/LOJ6276 æœæ ‘/","excerpt":"","text":"LOJ6276 æœæ ‘ æ€ç»´éš¾åº¦è¾ƒå¤§ï¼Œä»£ç éš¾åº¦å·¨å¤§ï¼Œç»†èŠ‚è¶…å¤š é¢˜æ„ï¼šç»™å®šä¸€æ£µæ ‘ï¼Œæ¯ä¸ªç‚¹æœ‰ä¸ªé¢œè‰²ï¼Œè¯¢é—®ç‰¹æ®Šè·¯å¾„çš„æ•°é‡ å…¶ä¸­ï¼Œå®šä¹‰ç‰¹æ®Šè·¯å¾„$(u,v)$ä¸ºä»uåˆ°væ¯ä¸ªç‚¹é¢œè‰²éƒ½ä¸åŒçš„è·¯å¾„ $(u,v)=(v,u)$ ç‰¹åˆ«çš„ï¼Œæ¯ç§é¢œè‰²è‡³å¤šå‡ºç°20æ¬¡ é¢˜è§£ï¼šæ¯ç§é¢œè‰²è‡³å¤š20æ¬¡æ˜¾ç„¶æ˜¯é—®é¢˜çš„çªç ´å£ è¿™æ ·æˆ‘ä»¬å¯ä»¥å…ˆå‡è®¾æ‰€æœ‰ç‚¹ä¸¤ä¸¤éƒ½æ˜¯æ»¡è¶³çš„ï¼Œç„¶ååœ¨åŒç§é¢œè‰²é›†åˆå†…ä¸¤ä¸¤æšä¸¾èŠ‚ç‚¹ï¼Œå¯¹ä¸ä¸¤è€…ç›¸å…³è”çš„ç‚¹ç»Ÿä¸€åšå…³ç³»æ¶ˆé™¤ï¼Œå› ä¸ºåªè¦åŒæ—¶ç»è¿‡è¿™ä¸¤ç‚¹çš„è·¯å¾„éƒ½ä¸€å®šæ˜¯ä¸åˆæ³•çš„ è¿™ç§â€œå…³è”â€æ˜¾ç„¶æ˜¯è¿è´¯çš„ï¼Œè€Œæ ‘ä¸Šè¿è´¯çš„å…³ç³»åˆæƒ³åˆ°ä»€ä¹ˆï¼Ÿdfsåºï¼ åœ¨æœ¬é¢˜ä¸­ï¼Œç”±äºå…³è”æ˜¯åŒå‘çš„ï¼Œæˆ‘ä»¬å°†dfsåºæ‹“å±•æˆçŸ©é˜µï¼Œæ¶ˆé™¤å…³ç³»å°±ç›¸å½“äºåœ¨çŸ©é˜µä¸Šæ”¾çŸ©å½¢ï¼ˆæ‰“é˜´å½±ï¼‰ æœ€åç­”æ¡ˆå°±æ˜¯æ²¡è¢«è¦†ç›–çš„éƒ¨åˆ† æ±‚çŸ©é˜µé¢ç§¯å¹¶ä½ åˆæƒ³åˆ°äº†å•¥ï¼Ÿæ‰«æçº¿+çº¿æ®µæ ‘ï¼ å¥—ç”¨æ¨¡æ¿å³å¯ ç„¶é¹…ç»†èŠ‚æœ€å¤šçš„éƒ¨åˆ†åœ¨ä¸‹é¢ï¼š æˆ‘ä»¬å¯¹æšä¸¾çš„åŒè‰²ä¸¤ç‚¹è¿›è¡Œå¦‚ä¸‹åˆ†ç±»è®¨è®ºï¼š å‡è®¾$deep_x&lt;=deep_y$ä¸”$col_x=col_y$ å·²çŸ¥å¦‚ä¸‹ä¸€æ£µæ ‘ï¼š dfsçŸ©é˜µæ˜¯è¿™æ ·çš„çš„ï¼š SIT1ï¼š æ— ç¥–å…ˆå…³ç³» åœ¨ä¸Šå›¾ä¸­ï¼Œx=2ï¼Œy=3 å‘ç°æ­¤æ—¶ä¼šå› ä¸ºè¿™ä¸¤ç‚¹å¯¼è‡´å…³ç³»ä¸æˆç«‹çš„æ˜¯xçš„å­æ ‘å’Œyçš„å­æ ‘ï¼ˆè§å›¾ä¸Šçš„ä¸¤ä¸ªè“æ¡† è¿™ä¸¤éƒ¨åˆ†ç”±äºéƒ½æ˜¯å­æ ‘ï¼Œå› æ­¤åœ¨dfsåºä¸Šéƒ½æ˜¯è¿ç»­çš„ï¼ˆè§ä¸‹å›¾çš„è“è‰²éƒ¨åˆ†å’Œç»¿è‰²éƒ¨åˆ† å¯ä»¥åœ¨çŸ©é˜µä¸Šæ‰“ä¸Šä¸¤å—å®Œæ•´çš„çŸ©å½¢ï¼ˆè§ä¸‹å›¾çš„ç°è‰²éƒ¨åˆ† ä»£ç ä¸­åªè¦è®¡ç®—dfsåºä¸Šè¿ç»­éƒ¨åˆ†çš„å¤´å’Œå°¾å°±å°±å¯ä»¥å¾—åˆ°çŸ©å½¢çš„å››ä¸ªé¡¶ç‚¹ SIT2ï¼š æœ‰ç¥–å…ˆå…³ç³» åœ¨ä¸Šå›¾ä¸­ï¼Œx=1ï¼Œy=6ï¼Œä¸”xæ˜¯yçš„ç¥–å…ˆ å‘ç°æ­¤æ—¶ä¼šå› ä¸ºè¿™ä¸¤ç‚¹å¯¼è‡´å…³ç³»ä¸æˆç«‹çš„æ˜¯yçš„å­æ ‘å’Œæ•´æ£µæ ‘åˆ¨å»ç‚¹2çš„å­æ ‘åçš„éƒ¨åˆ†ï¼ˆè§å›¾ä¸Šçš„ä¸¤ä¸ªè“æ¡† è€Œè¿™ä¸ªç‚¹2æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒæ˜¯xçš„æ‰€æœ‰å„¿å­ä¸­è·ç¦»yæœ€è¿‘çš„ä¸€ä¸ªï¼Œå¯ä»¥è¡¨ç¤ºä¸ºç‚¹z å› æ­¤è“æ¡†éƒ¨åˆ†åˆå¯ä»¥å«åšyçš„å­æ ‘å’Œæ•´æ£µæ ‘åˆ¨å»zçš„å­æ ‘åçš„éƒ¨åˆ† zçš„ä½ç½®æ€ä¹ˆè®¡ç®—å‘¢ï¼Ÿ å‘ç°zæ˜¯yçš„ç¥–å…ˆï¼Œä¸”å·²çŸ¥zåˆ°yçš„è·ç¦»ï¼Œå› æ­¤å¯ä»¥ç”¨å€å¢lcaçš„æ–¹æ³•é¢„å¤„ç†å‡ºæ¯ä¸ªç‚¹2å¹‚æ¬¡å€çš„ç¥–å…ˆï¼Œæ­¤æ—¶å†å¯¹z-yè·ç¦»äºŒè¿›åˆ¶åˆ†è§£ï¼Œå¯¹ç­‰äº1çš„äºŒè¿›åˆ¶ä½åšçˆ¬å‡å¤„ç† yçš„å­æ ‘éƒ¨åˆ†ä¸SIT1ç›¸åŒ é‚£æ•´æ£µæ ‘åˆ¨å»zçš„å­æ ‘åçš„éƒ¨åˆ†åœ¨dfsåºä¸Šæ€ä¹ˆå¾—åˆ°å‘¢ï¼Ÿ ç”±äºæ˜¯åˆ¨å»ï¼Œå› æ­¤è¯¥éƒ¨åˆ†å¯èƒ½æ˜¯ä¸¤æ®µä¸è¿ç»­çš„åŒºé—´ åœ¨ä¸‹å›¾ä¸­ï¼Œçº¢çº¿éƒ¨åˆ†æ˜¯zçš„å­æ ‘ï¼Œç»¿è‰²æ˜¯yçš„å­æ ‘ï¼Œä¸¤ç§è“è‰²æ˜¯åˆ¨å»åå‰©ä¸‹çš„ä¸¤æ®µ ä»£ç ä¸­å¯ä»¥å…ˆå°†ç»¿è‰²ä¸æ·±è“è‰²éƒ¨åˆ†æ‰“é˜´å½± å¤„ç†å¥½åå†å°†ç»¿è‰²ä¸æµ…è“è‰²éƒ¨åˆ†æ‰“é˜´å½± æ·»åŠ é˜´å½±ä¸Šä¸‹è¾¹å’Œæ±‚é¢ç§¯å¹¶æ—¶æ³¨æ„ç‚¹ä¸é•¿åº¦çš„å…³ç³»ï¼Œå³å¤„ç†å¥½æ˜¯å¦éœ€è¦+1å˜æˆå·¦é—­å³å¼€åŒºé—´ æœ€åé¢ç§¯ç®—å¥½åè®°å¾—é™¤ä»¥2,å› ä¸º$(u,v)=(v,u)$ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e5+5; int f[N][20],en,h[N],sz[N],id[N],n,cnt,len[N&lt;&lt;2],tag[N&lt;&lt;2],ln,d[N]; vector&lt;int&gt; col[N]; long long ans; struct edge{ int n,v; }e[N&lt;&lt;1]; /*é˜´å½±çš„ä¸Šä¸‹è¾¹ç•Œçº¿*/ struct line{ int l,r,h,op; //op=1æ˜¯ä¸Šçº¿ï¼Œop=-1æ˜¯ä¸‹çº¿ inline bool operator &lt; (const line &amp;nt) const { return h&lt;nt.h; } }a[N&lt;&lt;6]; /*çº¿æ®µæ ‘éƒ¨åˆ†*/ void pushup(int x,int l,int r){ if(tag[x]){ len[x]=r-l+1; } else{ if(l^r) len[x]=len[x&lt;&lt;1]+len[x&lt;&lt;1|1]; else len[x]=0; } } void up(int x,int l,int r,int p,int q,int v){ if(p&lt;=l&amp;&amp;r&lt;=q){ tag[x]+=v; pushup(x,l,r); return ; } int mid=l+r&gt;&gt;1; if(p&lt;=mid) up(x&lt;&lt;1,l,mid,p,q,v); if(q&gt;mid) up(x&lt;&lt;1|1,mid+1,r,p,q,v); pushup(x,l,r); } void add(int x,int y){ e[++en]=(edge){h[x],y}; h[x]=en; } /*é¢„å¤„ç†éƒ¨åˆ†*/ void dfs(int x){ sz[x]=1; d[x]=d[f[x][0]]+1; id[x]=++cnt; for(int i=1;i&lt;=16;i++) f[x][i]=f[f[x][i-1]][i-1]; for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(y==f[x][0]) continue; f[y][0]=x; dfs(y); sz[x]+=sz[y]; } } /*å€å¢lca*/ int lca(int x,int y){ for(int i=16;~i;i--) if(d[f[y][i]]&gt;=d[x]) y=f[y][i]; if(x==y) return x; for(int i=16;~i;i--) if(f[x][i]^f[y][i]){ x=f[x][i]; y=f[y][i]; } return f[x][0]; } /*äºŒè¿›åˆ¶è·³è·ƒæ‰¾ç¥–å…ˆ*/ int getf(int x,int k){ for(int i=16;~i;i--) if(k&gt;&gt;i&amp;1) x=f[x][i]; return x; } /*æ·»åŠ é˜´å½±çš„ä¸Šä¸‹è¾¹ç•Œçº¿*/ void addline(int x,int y,int xx,int yy){ //(x,y)æ˜¯çŸ©å½¢çš„å·¦ä¸Šè§’ï¼Œ(xx,yy)æ˜¯çŸ©å½¢çš„å³ä¸‹è§’ a[++ln]=(line){x,xx,y,1}; //ä¸Šçº¿ a[++ln]=(line){x,xx,yy+1,-1}; //ä¸‹çº¿ a[++ln]=(line){y,yy,x,1}; //å¯¹ç§°è¿‡æ¥çš„ä¸Šçº¿ a[++ln]=(line){y,yy,xx+1,-1}; //å¯¹ç§°è¿‡æ¥çš„ä¸‹çº¿ } signed main(){ read(n); for(int i=1,x;i&lt;=n;i++) col[read(x)].push_back(i); for(int i=1,x,y;i&lt;n;i++){ read(x);read(y); add(x,y); add(y,x); } /*é¢„å¤„ç†å‡ºdfsåºå’Œfa[][]ç­‰ä¿¡æ¯*/ dfs(1); /*æ‰“é˜´å½±*/ for(int i=1;i&lt;=n;i++) //æšä¸¾é¢œè‰² for(int j=0;j&lt;col[i].size();j++) for(int k=j+1;k&lt;col[i].size();k++){ //ä¸¤ä¸¤æšä¸¾ç‚¹ int x=col[i][j],y=col[i][k]; if(d[x]&gt;d[y]) swap(x,y); int LCA=lca(x,y); if(LCA==x){ //xæ˜¯yç¥–å…ˆçš„æƒ…å†µ int z=getf(y,d[y]-d[x]-1); //æ±‚zçš„ä½ç½® int xx=id[z]-1; int yy=id[y]+sz[y]-1; x=1; y=id[y]; /*(x,y)æ˜¯çŸ©å½¢çš„å·¦ä¸Šè§’ï¼Œ(xx,yy)æ˜¯çŸ©å½¢çš„å³ä¸‹è§’ï¼Œä¸‹åŒ*/ if(x&lt;=xx) addline(x,y,xx,yy); //å‰åŠæ®µ x=id[z]+sz[z],xx=n; if(x&lt;=xx) addline(x,y,xx,yy); //ååŠæ®µ } else{ int xx=id[x]+sz[x]-1,yy=id[y]+sz[y]-1; x=id[x];y=id[y]; addline(x,y,xx,yy); //å®Œæ•´çš„ä¸€æ®µ } } /*æ±‚é¢ç§¯å¹¶éƒ¨åˆ†ï¼Œæ¨¡æ¿*/ sort(a+1,a+1+ln); for(int i=1;i&lt;ln;i++){ up(1,1,n,a[i].l,a[i].r,a[i].op); ans+=1ll*len[1]*(a[i+1].h-a[i].h); } write(1ll*(1+n)*n-ans&gt;&gt;1ll); //ä¸€å—ç­‰è…°ç›´è§’ä¸‰è§’å½¢é¢ç§¯å‡å»ä¸€åŠçš„é˜´å½±é¢ç§¯ } å¦‚æœä½ å†™æŒ‚äº†ï¼Œå°±è¯·å¤šæ£€æŸ¥æ£€æŸ¥ä½ çš„æ‰“é˜´å½±éƒ¨åˆ†","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"https://blog.yzcthinktwice.com/tags/çº¿æ®µæ ‘/"},{"name":"LOJ","slug":"LOJ","permalink":"https://blog.yzcthinktwice.com/tags/LOJ/"},{"name":"dfsåº","slug":"dfsåº","permalink":"https://blog.yzcthinktwice.com/tags/dfsåº/"},{"name":"æ‰«æçº¿","slug":"æ‰«æçº¿","permalink":"https://blog.yzcthinktwice.com/tags/æ‰«æçº¿/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"YOJ1 äºŒäººä»ç©ºä¸­è½ä¸‹","slug":"YOJ1 äºŒäººä»ç©ºä¸­è½ä¸‹","date":"2019-11-25T12:04:01.000Z","updated":"2019-12-15T08:17:31.552Z","comments":true,"path":"2019/11/25/YOJ1 äºŒäººä»ç©ºä¸­è½ä¸‹/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/25/YOJ1 äºŒäººä»ç©ºä¸­è½ä¸‹/","excerpt":"","text":"YOJ1 äºŒäººä»ç©ºä¸­è½ä¸‹ æš‚æ—¶æ²¡æ—¶é—´æ”¾ä¸ŠYOJï¼Œå…ˆå¯„å­˜åœ¨luoguä¸Š å‡ ä¹å…¨åŸåˆ›çš„ä¸€é“é¢˜ï¼Œæ„Ÿå—åˆ°äº†å‡ºé¢˜çš„è‰°éš¾ã€‚ã€‚ã€‚ æ¬¢è¿å„ä½å¸®å¿™éªŒé¢˜ï¼ é¢˜æ„:ç°æœ‰nä¸ªæ— åŒºåˆ«çš„ç‚¹ï¼Œä»–ä»¬å¯èƒ½éšæœºè¿è¾¹æˆä¸ºä¸€æ£µç‰¹æ®Šçš„æ ‘ è¿™ç§æ ‘æ»¡è¶³å®ƒçš„æ¯ä¸ªéå¶å­èŠ‚ç‚¹éƒ½æœ‰ä¸”åªæœ‰ä¸¤ä¸ªå„¿å­ ç°ç»™å‡ºaå’Œb é—®è¿™äº›ç‚¹æ‰€ç”Ÿæˆçš„æ‰€æœ‰ç‰¹æ®Šçš„æ ‘ï¼Œèƒ½æ»¡è¶³é«˜åº¦$\\in\\left [ a,b \\right ]$çš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼ˆçº¦å®šå•ä¸ªèŠ‚ç‚¹é«˜åº¦ä¸º1ï¼‰ å¯¹998244353å–æ¨¡ é¢˜è§£ï¼šçµæ„Ÿæ¥æºäºP1472å¥¶ç‰›å®¶è°± ä¸€é“ç®€çŸ­çš„dpï¼Œæš´åŠ›ç»™äº†30 SUB1ï¼šaä¸bæ­£å¥½å¡æ»¡æ‰€æœ‰å¯èƒ½æƒ…å†µï¼Œ100%èƒ½å®‰å…¨é™è½ è¾“å‡º1å³å¯ SUB2ï¼šä»1åˆ°(n+1)/2æšä¸¾é™è½ç‚¹è¿›è¡Œçˆ†æœ ç»™å‡ºæš´åŠ›çš„å¤§è‡´ä»£ç ï¼š int dfs(int cnt, int height){ if (cnt == 1) return height == 1; if (height &gt; (cnt + 1) / 2) return 0; if (height &lt;= 1) return 0; int state=0; for (int i(1); i &lt; cnt; i += 2){ for (int j(1); j &lt; height; ++j){ state += dfs(i, height - 1) * dfs(cnt - i - 1, j); state %= MOD; if (height - 1 != j){ state += dfs(i, height - 1) * dfs(cnt - i - 1, j); state %= MOD; } } } return state; } signed main(){ scanf(&quot;%lld%lld%lld&quot;, &amp;n, &amp;a,&amp;b); m=n+1&gt;&gt;1; if(a&gt;m){ puts(&quot;0&quot;); return 0; } if(a==ceil(log2(n+1))&amp;&amp;b==m){ puts(&quot;1&quot;); return 0; } b=min(b,m); for(int i=1;i&lt;=m;i++) s[i]=s[i-1]+dfs(n,i); cout&lt;&lt;(((s[b]-s[a-1])%mod+mod)%mod)*fpow(s[m],mod-2,mod)%mod; return 0; } SUB3ï¼šç»™æƒ³å‡ºæ ‡ç¨‹ä½†æ²¡å¤„ç†bå¯¼è‡´REçš„äºº SUB4ï¼šç»™æƒ³å‡ºæ ‡ç¨‹ä½†æ²¡æœ‰å·®åˆ†ç­”æ¡ˆçš„äºº æ ‡ç®—ï¼šä»¤m=(n+1)/2 ç”»å›¾æ˜“çŸ¥mæ˜¯nä¸ªç‚¹çš„æœ€å¤§åˆæ³•æ·±åº¦ è®¾f[i][j]è¡¨ç¤ºiä¸ªç‚¹æ·±åº¦å°äºç­‰äºjçš„æ ‘æœ‰å‡ ç§ åˆå§‹f[1][]=1 è½¬ç§»$O(n^2*m)$ ä¸‰å±‚å¾ªç¯åˆ†åˆ«æšä¸¾æ·±åº¦ï¼Œæšä¸¾æ€»ç‚¹æ•°ï¼Œæšä¸¾å·¦å­æ ‘åˆ†é…ç‚¹æ•° $f[i][k]=sum{f[j][k-1]*f[i-j-1][k-1]}$ è‹¥jä¸ºå·¦å­æ ‘ç‚¹æ•°åˆ™i-j-1ä¸ºå³å­æ ‘ç‚¹æ•° ä¹˜æ³•åŸç†ï¼Œä¸¤è€…ç›¸ä¹˜ ç­”æ¡ˆçš„åˆ†å­éƒ¨åˆ†æ˜¾ç„¶å¯ä»¥ç”±f[n][b]-f[n][a-1]å·®åˆ†å¾—åˆ° è€Œåˆ†æ¯éƒ¨åˆ†å°±æ˜¯f[n][m] è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰äº›ç‚¹a,bå¾ˆå¤§ï¼Œéœ€è¦ç‰¹åˆ¤ï¼š è‹¥a&gt;måˆ™è¾“å‡º0ï¼Œå› ä¸ºä¸€ç§éƒ½ä¸æ»¡è¶³ å¦åˆ™è‹¥b&gt;måˆ™éœ€è¦å…ˆå°†bå–minæ”¹ä¸ºmå†ç»§ç»­åšï¼Œä»¥é˜²æ­¢REçˆ†ä¸‹æ ‡ï¼Œå› ä¸º&gt;mçš„éƒ¨åˆ†éƒ½ä¸€å®šæ˜¯ä¸æ»¡è¶³çš„ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long const int N=1005,mod=998244353; int n,m,f[N][605],a,b; int fpow(int x,int y,int mod){ int res=1; for(;y;y&gt;&gt;=1,mod?(x*=x)%=mod:x*=x) if(y&amp;1) mod?(res*=x)%=mod:res*=x; return res; } signed main(){ read(n);read(a);read(b); m=(n+1)&gt;&gt;1; if(a&gt;m){ //å¯¹aç‰¹åˆ¤ puts(&quot;0&quot;); return 0; } b=min(b,m); //å¯¹bç‰¹åˆ¤ for(int i=1;i&lt;=m;i++) f[1][i]=1; //åˆå§‹ for(int k=1;k&lt;=m;k++) //æšä¸¾æ·±åº¦ for(int i=3;i&lt;=n;i+=2) //æšä¸¾æ€»ç‚¹æ•° for(int j=1;j&lt;i;j+=2) //æšä¸¾å·¦å­æ ‘åˆ†é…ç‚¹æ•° (f[i][k]+=f[j][k-1]*f[i-j-1][k-1]%mod)%=mod; //ç´¯åŠ  write((((f[n][b]-f[n][a-1])%mod+mod)%mod)*fpow(f[n][m],mod-2,mod)%mod); //å·®åˆ†å¾—ç­”æ¡ˆ }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"YOJ","slug":"YOJ","permalink":"https://blog.yzcthinktwice.com/tags/YOJ/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"ABC146F Sugoroku","slug":"ABC146F Sugoroku","date":"2019-11-25T00:31:01.000Z","updated":"2019-12-15T08:17:18.538Z","comments":true,"path":"2019/11/25/ABC146F Sugoroku/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/25/ABC146F Sugoroku/","excerpt":"","text":"ABC146F Sugoroku é¢˜æ„ï¼šç»™å®šä¸€ä¸ª01ä¸²ï¼Œä»0å‡ºå‘ï¼Œæ°å¥½åˆ°è¾¾nèƒœåˆ©ï¼Œæ¯æ¬¡èƒ½èµ°1~mæ­¥ï¼Œä¸”æ•°å­—ä¸º1çš„ä½ç½®ä¸èƒ½èµ° é—®å­—å…¸åºæœ€å°çš„è¡Œèµ°æ–¹æ³•ï¼ˆå³ä¸ä»…èµ°çš„æ¬¡æ•°è¦å°‘ï¼Œä¸”è¶Šé å‰èµ°çš„æ­¥æ•°è¶Šè¦å°‘ï¼‰ é¢˜è§£ï¼šå¥—è·¯é¢˜ï¼Œæ€è·¯ä¸ç®—éš¾æƒ³ step 1:å…ˆè®¾è®¡dpè€ƒè™‘èµ°çš„æ¬¡æ•°å°½å¯èƒ½å°‘çš„æ¡ä»¶ è®¾f[i]è¡¨ç¤ºåˆ°iä½ç½®çš„æœ€å°‘æ­¥æ•° åˆå§‹f[]=oo,f[0]=0 è½¬ç§»$f_i=\\min \\left \\{ f_j|i-j&lt;=m \\right \\}+1 (a_i==0)$ å¤æ‚åº¦$O(nm)$ è€ƒè™‘ä¼˜åŒ–dp å‘ç°minéƒ¨åˆ†å°±æ˜¯ä¸ªæ»‘åŠ¨çª—å£ï¼Œäºæ˜¯ä¸Šå•è°ƒé˜Ÿåˆ— å¤æ‚åº¦é™ä¸º$O(n)$ step2:è€ƒè™‘é¢˜ç›®çš„å¦ä¸€ä¸ªè¦æ±‚ï¼šé å‰çš„æ­¥æ•°è¦å°½å¯èƒ½å°‘ å› ä¸ºæ€»æ­¥æ•°ä¸å˜ï¼Œé å‰çš„è¦å°‘ï¼Œä¹Ÿå°±æ˜¯è¯´é åçš„è¦å¤š ä¹Ÿå°±æ˜¯ç”¨g[]è®°å½•æ¯æ¬¡dpè½¬ç§»æ˜¯ä»å“ªä¸ªä½ç½®è½¬æ¥çš„ï¼Œå¦‚æœ‰ç›¸åŒåˆ™å–å‰è€…è½¬ç§» æœ€ååœ¨dpåå€’ç€ä»g[n]å¼€å§‹éå†ï¼Œç±»ä¼¼é“¾è¡¨ï¼Œæ¯æ¬¡g[n]ä¸nçš„å·®å°±æ˜¯è¿™æ¬¡èµ°çš„æ­¥æ•° åç€è¾“å‡ºå³å¯ ä»£ç å®ç°ä¹Ÿå¾ˆç®€å•ï¼Œå› ä¸ºå•è°ƒé˜Ÿåˆ—çš„å…ˆè¿›åå‡ºçš„æ€§è´¨å¯ä»¥ä¿è¯é˜Ÿé¦–çš„ä¸‹æ ‡æ˜¯æœ€å°çš„ï¼Œç›´æ¥å¡åˆ°g[]ä¸­å³å¯ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e5+5; int n,m,a[N],f[N],g[N]; deque&lt;int&gt; q; vector&lt;int&gt; ans; signed main(){ read(n);read(m); for(int i=0;i&lt;=n;i++) scanf(&quot;%1d&quot;,&amp;a[i]),f[i]=0x3f3f3f3f; f[0]=0; f[n+1]=0x3f3f3f3f; q.push_back(0); //å…ˆå¡ä¸ª0è¿›å» for(int i=1;i&lt;=n;i++) if(!a[i]){ //è½¬ç§»å…ˆå†³æ¡ä»¶ g[i]=n+1; while(!q.empty()&amp;&amp;q.front()+m&lt;i) q.pop_front(); //ç»´æŠ¤å•è°ƒé˜Ÿåˆ— if(!q.empty()) g[i]=q.front(); //ç»´æŠ¤g[] f[i]=f[g[i]]+1; //è½¬ç§»f[] while(!q.empty()&amp;&amp;f[q.back()]&gt;f[i]) q.pop_back(); //ç»´æŠ¤å•è°ƒé˜Ÿåˆ— q.push_back(i); } if(f[n]&gt;n){ write(-1); //èµ°ä¸åˆ°nåˆ™æ— è§£ return 0; } for(;n;n=g[n]) ans.push_back(n-g[n]); //å€’ç€ç±»é“¾è¡¨ä¾¿åˆ©g[] for(int i=ans.size()-1;i&gt;=0;i--) write(ans[i]),putchar(&#39; &#39;); //å†å€’ç€è¾“å‡ºæ­¥æ•° }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"AtCoder","slug":"AtCoder","permalink":"https://blog.yzcthinktwice.com/tags/AtCoder/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"å•è°ƒé˜Ÿåˆ—","slug":"å•è°ƒé˜Ÿåˆ—","permalink":"https://blog.yzcthinktwice.com/tags/å•è°ƒé˜Ÿåˆ—/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"ABC146E Rem of Sum is Num","slug":"ABC146E Rem of Sum is Num","date":"2019-11-24T14:31:01.000Z","updated":"2019-12-15T08:11:30.457Z","comments":true,"path":"2019/11/24/ABC146E Rem of Sum is Num/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/24/ABC146E Rem of Sum is Num/","excerpt":"","text":"ABC146E Rem of Sum is Num ä¸€é“å·§å¦™çš„æ€ç»´é¢˜ï¼Œè€ƒéªŒäº†å¯¹æ•°å­¦å¼çš„è½¬åŒ– é¢˜æ„:ç»™å‡ºä¸€ä¸ªæ•°åˆ—å’Œå¸¸æ•°kï¼Œæ±‚åˆæ³•å­åºåˆ—çš„ä¸ªæ•° å…¶ä¸­åˆæ³•å­åºåˆ—éœ€è¦æ»¡è¶³ï¼š \\sum_{i}^{j}{a_i} \\equiv j-i+1\\ \\left (\\mod k \\right ) é¢˜è§£ï¼šæ¯”èµ›æ—¶æ¯«æ— æ€è·¯ï¼Œèµ›åçœ‹äº†é¢˜è§£èŒ…å¡é¡¿å¼€ è®©æˆ‘ä»¬æ¥è½¬åŒ–è¿™ä¸ªéœ€è¦æ»¡è¶³çš„å¼å­ï¼Œå…¶ä¸­è§„å®š$s_i$è¡¨ç¤º1-içš„å‰ç¼€å’Œï¼š \\sum_{i}^{j}{a_i} \\equiv j-i+1 \\ (\\mod k )s_j - s_{i-1} \\equiv j-(i-1) \\ (\\mod k )s_j - s_i \\equiv j-i \\ (\\mod k )s_i-i = s_j-j \\ (j-i","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"AtCoder","slug":"AtCoder","permalink":"https://blog.yzcthinktwice.com/tags/AtCoder/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://blog.yzcthinktwice.com/tags/æ•°å­¦/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1223C Save the Nature","slug":"CF1223C Save the Nature","date":"2019-11-22T01:16:01.000Z","updated":"2019-12-15T08:11:06.573Z","comments":true,"path":"2019/11/22/CF1223C Save the Nature/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/22/CF1223C Save the Nature/","excerpt":"","text":"CF1223C Save the Nature æœ¬æ–‡ç»™å‡º$O(nlog^2n)$å’Œ$O(nlogn)$çš„ç®—æ³• é¦–å…ˆäºŒåˆ†ç­”æ¡ˆçš„æ€è·¯ç”±è¯¢é—®å†…å®¹çš„å•è°ƒæ€§å¯å¾—ï¼Œååˆ†å¥½æƒ³ï¼Œä¸€åªlog é‡ç‚¹åœ¨äºcheckéƒ¨åˆ†ï¼Œæœ‰ä¸¤ç§æ€è·¯ 1. æš´åŠ›sortä¸¤åªlog (156ms)æ€ç»´éš¾åº¦ä½ï¼Œä»£ç éš¾åº¦ä½ å…³é”®æ˜¯å‡ºé¢˜äººæ²¡æ¥å¡ å…ˆO(n)æ‰«ä¸€éï¼Œå¾—åˆ°æ¯å¤©çš„è´¡çŒ®ï¼ˆç™¾åˆ†æ¯”ï¼‰ O(nlogn)ä»å¤§åˆ°å°æ’åºï¼Œä¸æ¯å¤©çš„å€¼é…å¯¹ bool check(int n){ int sum=0; for(int i=1;i&lt;=n;i++){ b[i]=0; if(i%al==0) b[i]+=x; //æœ‰ç¬¬ä¸€ç§è´¡çŒ® if(i%be==0) b[i]+=y; //æœ‰ç¬¬äºŒç§è´¡çŒ® } sort(b+1,b+1+n,greater&lt;int&gt;()); //greater&lt;int&gt;()æ˜¯è‡ªå¸¦çš„ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œç”¨æ¥ä»å¤§åˆ°å°æ’ for(int i=1;i&lt;=n;i++) sum+=a[i]*b[i]; //a[]åœ¨main()ä¸­å‡å·²é™¤ä»¥100ï¼Œç›´æ¥æš´åŠ›é…å¯¹ return sum&gt;=k; } 2. lcmå®¹æ–¥ä¸€åªlog (62ms)è·‘çš„é£å¿«ï¼Œæ¯•ç«Ÿæ­£è§£ æˆ‘ä»¬å‘ç°å¦‚æœæœ‰è´¡çŒ®ï¼Œåªæœ‰ä¸‰ç§æƒ…å†µï¼Œå³açš„å€æ•°,bçš„å€æ•°,lcm(a,b)çš„å€æ•° æ–¹ä¾¿èµ·è§ï¼Œå…ˆåšè¿™ä¹ˆä¸€ä»¶äº‹ï¼š if(x&lt;y) swap(x,y),swap(al,be); è¿™æ ·å°±ä¿è¯lcmä¼˜äºa,aä¼˜äºbäº† ç”¨é™¤æ³•ç®—å‡ºa,b,lcmå„æœ‰å‡ ä¸ªè®°ä¸ºxn,yn,xyn ç”±å®¹æ–¥åŸç†å¯å¾—xn,ynéƒ½è¦å‡å»xyn ä½¿å¾—å¯ä»¥ä¿è¯a,b,lcmè´¡çŒ®äº’ä¸ç›¸äº¤ ç„¶ååˆ†ä¸‰æ®µæŒ‰ç…§lcm(x+y),a(x),b(y)çš„é¡ºåºæ‰«ä¸€éå³å¯ bool check(int n){ int sum=0,xn=n/al,yn=n/be,xyn=n/lcm; //é™¤æ³•è®¡ç®— xn-=xyn; //å®¹æ–¥ yn-=xyn; for(int i=1;i&lt;=xyn;i++) sum+=(x+y)*a[i]; //lcmæ®µ for(int i=xyn+1;i&lt;=xyn+xn;i++) sum+=x*a[i]; //aæ®µ for(int i=xyn+xn+1;i&lt;=xyn+xn+yn;i++) sum+=y*a[i]; //bæ®µ return sum&gt;=k; } ä»£ç ä¸¤åªlog#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long const int N=2e5+5; int q,n,a[N],b[N],k,x,y,be,al; bool check(int n){ int sum=0; for(int i=1;i&lt;=n;i++){ b[i]=0; if(i%al==0) b[i]+=x; if(i%be==0) b[i]+=y; } sort(b+1,b+1+n,greater&lt;int&gt;()); for(int i=1;i&lt;=n;i++) sum+=a[i]*b[i]; return sum&gt;=k; } void doit(){ read(n); for(int i=1;i&lt;=n;i++) read(a[i]),a[i]/=100; sort(a+1,a+1+n,greater&lt;int&gt;()); read(x);read(al); read(y);read(be); read(k); int l=1,r=n,ans=-1; while(l&lt;=r){ int mid=l+r&gt;&gt;1; if(check(mid)) ans=mid,r=mid-1; else l=mid+1; } write(ans);puts(&quot;&quot;); } signed main(){ read(q); while(q--) doit(); } ä¸€åªlog#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } #define int long long const int N=2e5+5; int q,n,a[N],b[N],k,x,y,be,al,lcm; bool check(int n){ int sum=0,xn=n/al,yn=n/be,xyn=n/lcm; xn-=xyn; yn-=xyn; for(int i=1;i&lt;=xyn;i++) sum+=(x+y)*a[i]; for(int i=xyn+1;i&lt;=xyn+xn;i++) sum+=x*a[i]; for(int i=xyn+xn+1;i&lt;=xyn+xn+yn;i++) sum+=y*a[i]; return sum&gt;=k; } void doit(){ read(n); for(int i=1;i&lt;=n;i++) read(a[i]),a[i]/=100; sort(a+1,a+1+n,greater&lt;int&gt;()); read(x);read(al); read(y);read(be); if(x&lt;y) swap(x,y),swap(al,be); lcm=al*be/__gcd(al,be); read(k); int l=1,r=n,ans=-1; while(l&lt;=r){ int mid=l+r&gt;&gt;1; if(check(mid)) ans=mid,r=mid-1; else l=mid+1; } write(ans);puts(&quot;&quot;); } signed main(){ read(q); while(q--) doit(); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"äºŒåˆ†ç­”æ¡ˆ","slug":"äºŒåˆ†ç­”æ¡ˆ","permalink":"https://blog.yzcthinktwice.com/tags/äºŒåˆ†ç­”æ¡ˆ/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF949C Data Center Maintenance","slug":"CF949C Data Center Maintenance","date":"2019-11-21T06:36:01.000Z","updated":"2019-12-15T08:11:13.825Z","comments":true,"path":"2019/11/21/CF949C Data Center Maintenance/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/21/CF949C Data Center Maintenance/","excerpt":"","text":"CF949C Data Center Maintenance è¿™é¢˜å¦‚æœæ²¡æœ‰ææ¸…æ¥šé¢˜æ„ï¼Œå…¶å®ç»“è®ºæ˜¯å¹¶ä¸â€œæ˜¾ç„¶â€çš„ é¢˜ç›®å…¶å®æ˜¯è®©ä½ ä¸»åŠ¨æ¨è¿Ÿæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç‚¹ï¼Œå¹¶å°†æ‰€æœ‰ä¼šå› æ­¤å—å½±å“çš„ç‚¹ä¹Ÿéƒ½è¿é”ç€æ¨è¿Ÿä¸‹å»ï¼Œé—®æœ€å°‘ä¼šæœ‰å‡ ä¸ªç‚¹æ¨è¿Ÿ æ³¨æ„è¿™ä¸ªâ€ä¸»åŠ¨æ¨è¿Ÿâ€œï¼Œè¿™æ„å‘³ç€å³ä½¿å·²ç»æ»¡è¶³æ¡ä»¶äº†ä½ è¿˜æ˜¯å¾—è¦æ¨è¿Ÿä¸€ä¸ªç‚¹ ææ‡‚äº†é¢˜æ„ï¼Œæ¥ä¸‹æ¥çš„æ€è·¯å°±å¥½ç†è§£äº† æˆ‘ä»¬å‘ç°â€œæ¨è¿Ÿâ€æ˜¯ä¸€ç§å•å‘å…³ç³»ï¼Œå³ï¼Œå¦‚æœæˆ‘ä½¿ä½ ä¸å¾—ä¸æ¨è¿Ÿï¼Œè€Œä½ å´ä¸ä¼šä½¿æˆ‘ä¸å¾—ä¸æ¨è¿Ÿ å°†è¿™ç§å•å‘å…³ç³»è½¬æˆå›¾è®ºçš„å•å‘è¾¹ è¾¹çš„æ˜¯å¦æ·»åŠ ï¼Œå³è¯¢é—®ä¸¤è€…çš„æ˜¯å¦æ»¡è¶³ u_x +1 \\equiv x_y \\ \\ ( mod {h} )å‘ç°ä¸€ä¸ªç‚¹åªè¦æœ‰å‡ºåº¦é‚£å®ƒè‚¯å®šä¸æ˜¯æœ€ä¼˜çš„ å¦‚A-&gt;Bï¼Œé€‰Aå¿…å¸¦Bï¼Œé€‰Bå¯æ— A æ‰€ä»¥é¦–å…ˆå¯ä»¥ç¡®å®šç­”æ¡ˆèŠ‚ç‚¹æ²¡æœ‰å‡ºåº¦çš„ å…¶æ¬¡ï¼Œç”±äºå¼ºè”é€šåˆ†é‡é‡Œçš„ç‚¹éƒ½æ˜¯å¯ä»¥äº’ç›¸åˆ°è¾¾çš„ï¼Œæ‰€ä»¥åªè¦å…¶ä¸€æ¨è¿Ÿï¼Œå¦å¤–çš„éƒ½å¾—æ¨è¿Ÿ äºæ˜¯ç¼©ç‚¹ï¼Œç»ä¿ç•™size é—®é¢˜å˜æˆåœ¨DAGä¸Šæ‰¾ä¸€ä¸ªæ²¡æœ‰å‡ºåº¦çš„æœ€å°çš„ç‚¹ $O(n)$æ‰«ä¸€éå³å¯ #include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e5+5; int h[N],en,H,n,m,scc[N],dfn[N],low[N],st[N],lim,cnt,du[N],sn,ans,sz[N],a[N]; bool v[N]; struct edge{ int n,u,v; }e[N]; void add(int x,int y){ e[++en]=(edge){h[x],x,y}; h[x]=en; } void tarjan(int x){ //æ‰¾å¼ºè”é€šåˆ†é‡ low[x]=dfn[x]=++cnt; v[x]=1; st[++lim]=x; for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(!dfn[y]){ tarjan(y); low[x]=min(low[x],low[y]); } else{ if(v[y]) low[x]=min(low[x],dfn[y]); } } if(low[x]==dfn[x]){ int top; sn++; for(;;){ top=st[lim--]; scc[top]=sn; v[top]=0; sz[sn]++; if(top==x) return ; } } } signed main(){ read(n);read(m);read(H); for(int i=1;i&lt;=n;i++) read(a[i]); for(int i=1,x,y;i&lt;=m;i++){ read(x);read(y); if((a[x]+1)%H==a[y]) add(x,y); //è¾¹çš„æ·»åŠ ï¼ˆå…³ç³»çš„åˆ¤æ–­ï¼‰ if((a[y]+1)%H==a[x]) add(y,x); } for(int i=1;i&lt;=n;i++) if(!dfn[i]) tarjan(i); for(int i=1;i&lt;=en;i++){ int x=scc[e[i].u],y=scc[e[i].v]; //æ ¹æ®åŸå…ˆåŠ çš„è¾¹åˆ¤å®šå‡ºåº¦ if(x^y) du[x]++; } sz[0]=0x3f3f3f3f; for(int i=1;i&lt;=sn;i++) if(!du[i]){ if(sz[i]&lt;sz[ans]) ans=i; //å–æ— å‡ºåº¦èŠ‚ç‚¹çš„æœ€å°size } write(sz[ans]);puts(&quot;&quot;); for(int i=1;i&lt;=n;i++) if(scc[i]==ans) //æ˜¯è¿™ä¸ªå¼ºè”é€šåˆ†é‡çš„å°±è¾“å‡º write(i),putchar(&#39; &#39;); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"tarjan","slug":"tarjan","permalink":"https://blog.yzcthinktwice.com/tags/tarjan/"},{"name":"å¼ºè”é€šåˆ†é‡","slug":"å¼ºè”é€šåˆ†é‡","permalink":"https://blog.yzcthinktwice.com/tags/å¼ºè”é€šåˆ†é‡/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P1156 åƒåœ¾é™·é˜±","slug":"P1156 åƒåœ¾é™·é˜±","date":"2019-11-19T01:22:45.000Z","updated":"2019-12-15T08:17:14.851Z","comments":true,"path":"2019/11/19/P1156 åƒåœ¾é™·é˜±/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/19/P1156 åƒåœ¾é™·é˜±/","excerpt":"","text":"P1156 åƒåœ¾é™·é˜± å…ˆå°†åƒåœ¾æŒ‰æ—¶é—´æ’åº åˆ†ç±»è®¨è®º å…ˆå‡è®¾èƒ½é€ƒå‡ºå» è®¾f[i][j]è¡¨ç¤ºå‰iä¸ªåƒåœ¾å æˆé«˜åº¦jæ—¶çš„æœ€é•¿ç”Ÿå­˜æ—¶é—´ åˆå§‹f[0][0]=10 ç±»èƒŒåŒ…è½¬ç§» æ³¨æ„æ¿’æ­»ä¹Ÿæ˜¯èƒ½è½¬ç§»çš„ï¼Œå³f[][]&lt;0æ‰æ— æ³•è½¬ç§» è½¬ç§»æ—¶è¶…è¿‡é«˜åº¦å°±è¾“å‡ºå½“å‰æ—¶é—´ å†æ¨¡æ‹Ÿé€ƒä¸å‡ºå» è®¡ç®—æœ€é•¿å­˜æ´»æ—¶é—´ #include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=105,M=105; int n,m,f[N][M]; struct trash{ int t,f,h; inline bool operator &lt; (const trash &amp;nt) const { return t&lt;nt.t; } }a[N]; signed main(){ read(m);read(n); for(int i=1;i&lt;=n;i++){ read(a[i].t); read(a[i].f); read(a[i].h); } sort(a+1,a+1+n); memset(f,-1,sizeof f); f[0][0]=10; for(int i=1;i&lt;=n;i++){ for(int j=0;j&lt;=m;j++) if(f[i-1][j]&gt;=0){ if(j+a[i].h&gt;=m&amp;&amp;f[i-1][j]+a[i-1].t&gt;=a[i].t){ write(a[i].t); return 0; } if(f[i-1][j]+a[i-1].t&gt;=a[i].t){ f[i][j+a[i].h]=f[i-1][j]+a[i-1].t-a[i].t; f[i][j]=max(f[i][j],f[i-1][j]+a[i-1].t-a[i].t+a[i].f); } } } m=10; for(int i=1;i&lt;=n;i++){ if(m+a[i-1].t&lt;a[i].t){ write(m+a[i-1].t); return 0; } m-=a[i].t-a[i-1].t; m+=a[i].f; } write(m+a[n].t); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P1220 å…³è·¯ç¯","slug":"P1220 å…³è·¯ç¯","date":"2019-11-19T00:34:04.000Z","updated":"2019-12-15T08:16:55.564Z","comments":true,"path":"2019/11/19/P1220 å…³è·¯ç¯/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/19/P1220 å…³è·¯ç¯/","excerpt":"","text":"P1220 å…³è·¯ç¯ å·²è¢«å…³çš„åŒºé—´æ˜¯å°é—­è¿ç»­çš„ï¼ŒåŠ ä¹‹è¿˜è¦çŸ¥é“äººæ˜¯åœ¨å·¦ç«¯ç‚¹è¿˜æ˜¯åœ¨å³ç«¯ç‚¹ï¼Œ æ‰€ä»¥è®¾f[i][j][0/1]è¡¨ç¤ºç°åœ¨[i,j]è¢«å…³é—­çš„æœ€å°èŠ±è´¹ï¼Œä¸”0äººåœ¨å·¦ç«¯ç‚¹ï¼Œ1äººåœ¨å³ç«¯ç‚¹ åˆå§‹f[st][st][0/1]=0ï¼Œå…¶ä»–=oo è½¬ç§»çš„è´¹ç”¨é€šè¿‡ä¸¤ç‚¹è·¯ç¨‹å·®*å·¦å³ä¸¤æ®µæœªè¢«å…³çš„åŒºé—´çš„åŠŸç‡ä¹‹å’Œ åŠŸç‡å’Œå¯é€šè¿‡å‰ç¼€å’Œè®¡ç®— ans=min(f[1][n][0],f[1][n][1]) #include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=55; int n,st,p[N],s[N],f[N][N][2]; inline int que(int l,int r){ return s[r]-s[l-1]; } signed main(){ read(n);read(st); for(int i=1;i&lt;=n;i++){ read(p[i]); read(s[i]); s[i]+=s[i-1]; } for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=n;j++) if(i!=st||j!=st) f[i][j][0]=f[i][j][1]=0x3f3f3f3f; for(int j=st;j&lt;=n;j++) for(int i=j-1;i&gt;=1;i--){ f[i][j][0]=min(f[i+1][j][0]+(p[i+1]-p[i])*(que(1,i)+que(j+1,n)),f[i+1][j][1]+(p[j]-p[i])*(que(1,i)+que(j+1,n))); f[i][j][1]=min(f[i][j-1][0]+(p[j]-p[i])*(que(1,i-1)+que(j,n)),f[i][j-1][1]+(p[j]-p[j-1])*(que(1,i-1)+que(j,n))); } write(min(f[1][n][0],f[1][n][1])); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P1373 å°aå’Œuimä¹‹å¤§é€ƒç¦»","slug":"P1373 å°aå’Œuimä¹‹å¤§é€ƒç¦»","date":"2019-11-18T23:53:01.000Z","updated":"2019-12-15T08:17:02.727Z","comments":true,"path":"2019/11/19/P1373 å°aå’Œuimä¹‹å¤§é€ƒç¦»/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/19/P1373 å°aå’Œuimä¹‹å¤§é€ƒç¦»/","excerpt":"","text":"P1373 å°aå’Œuimä¹‹å¤§é€ƒç¦» f[i][j][p][0/1]è¡¨ç¤ºåˆ°(i,j)æ—¶ä¸¤äººå·®ä¸ºpä¸”æœ€åä¸€æ­¥æ˜¯0/1èµ°çš„çš„æ–¹æ¡ˆæ•°, åˆå§‹f[i][j][a[i][j]][0]=1 ans=sum{f[i][j][0][1]} #include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ x=0;char c=getchar();bool f=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0){putchar(&#39;-&#39;),write(-x);} else{if(x&gt;9)write(x/10);putchar(&#39;0&#39;+x%10);} } const int mod=1e9+7; const int N=805; int n,m,k,f[N][N][18][2],a[N][N]; long long ans; signed main(){ read(n);read(m);read(k);k++; for(int i=1;i&lt;=n;i++){ for(int j=1;j&lt;=m;j++){ read(a[i][j]); f[i][j][a[i][j]][0]=1; } } for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=m;j++) for(int p=0;p&lt;k;p++){ if(i&gt;1){ (f[i][j][p][0]+=f[i-1][j][(p-a[i][j]+k)%k][1])%=mod; (f[i][j][p][1]+=f[i-1][j][(p+a[i][j])%k][0])%=mod; } if(j&gt;1){ (f[i][j][p][0]+=f[i][j-1][(p-a[i][j]+k)%k][1])%=mod; (f[i][j][p][1]+=f[i][j-1][(p+a[i][j])%k][0])%=mod; } } for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=m;j++) (ans+=f[i][j][0][1])%=mod; write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P3398 ä»“é¼ æ‰¾sugar","slug":"P3398 ä»“é¼ æ‰¾sugar","date":"2019-11-12T13:33:01.000Z","updated":"2019-12-15T08:10:04.903Z","comments":true,"path":"2019/11/12/P3398 ä»“é¼ æ‰¾sugar/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/12/P3398 ä»“é¼ æ‰¾sugar/","excerpt":"","text":"P3398 ä»“é¼ æ‰¾sugar æ¨¡æ¿é¢˜ï¼Œè¯¢é—®æ ‘ä¸Šä¸¤é“¾æ˜¯å¦æœ‰äº¤ ç®—æ³•ï¼šç»™å‡ºæ€§è´¨ï¼šè‹¥ä¸¤æ ‘é“¾æœ‰äº¤ï¼Œåˆ™å¿…æœ‰å…¶ä¸­ä¸€æ¡é“¾çš„ç«¯ç‚¹çš„lcaåœ¨å¦ä¸€æ¡é“¾ä¸Šï¼Œè®°ä¸ºP ç”±è¿™ä¸ªæ€§è´¨é¢˜ç›®ä¸€ä¸‹å˜æ°´äº†ã€‚ã€‚ã€‚ é‚£å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨ä¸€æ¡é“¾ä¸Šå‘¢ï¼Ÿ è®¾a-bé“¾lcaä¸ºcï¼Œx-yé“¾lcaä¸ºzï¼Œä¸”$d_c&gt;d_z$ WAY1. dis(x,a)+dis(x,b)=dis(a,b)æ˜¾ç„¶çš„ï¼Œä¸ç­‰å°±æˆä¸‰è§’å½¢äº† read(x),read(y),read(u),read(v); int z=lca(x,y),w=lca(u,v); if(d[z]&gt;d[w]){ swap(x,u); swap(y,v); swap(z,w); } if(dis(w,x)+dis(w,y)==dis(x,y)) puts(&quot;Y&quot;); else puts(&quot;N&quot;); WAY2. xæ˜¯x-açš„lcaæˆ–xæ˜¯x-bçš„lcaåè¯æ˜“å¾— read(x),read(y),read(u),read(v); int z=lca(x,y),w=lca(u,v); if(d[z]&gt;d[w]){ swap(x,u); swap(y,v); swap(z,w); } if(lca(w,x)==w||lca(w,y)==w) puts(&quot;Y&quot;); else puts(&quot;N&quot;); è¯æ˜ï¼šå½“ç„¶æ‰‹ç”»æ ‘çŒœç»“è®ºæ˜¯å¤§å¤šæ•°äººçš„é€‰æ‹© æˆ‘ä»¬å®¹æ˜“å‘ç°ï¼Œå¦‚æœç›¸äº¤ï¼Œè®° $x=lca(a,b)$,$y=lca(c,d)$ï¼Œåˆ™å¿…æœ‰xåœ¨c-dè·¯å¾„ä¸Šæˆ–yåœ¨a-bè·¯å¾„ä¸Š é¦–å…ˆæ˜“çŸ¥ä¸¤ç‚¹çš„lcaåœ¨å…¶è·¯å¾„ä¸Šã€‚å¦‚æœè·¯å¾„ç›¸äº¤ï¼Œé‚£ä¹ˆxè¦ä¹ˆåœ¨ç›¸äº¤çš„è·¯å¾„ä¸Šï¼Œè¦ä¹ˆä¸åœ¨ã€‚æˆ‘ä»¬ä¸å¦¨è®°ç›¸äº¤çš„é‚£æ®µä¸ºe-f å¦‚æœä¸åœ¨ï¼Œç”±å¯¹ç§°æ€§ï¼Œä¸å¦¨è®¾xé è¿‘aï¼Œé‚£ä¹ˆæœ‰aåˆ°xæ·±åº¦é€’å‡ï¼Œbåˆ°eã€eåˆ°fã€fåˆ°xæ·±åº¦é€’å‡ï¼›åŒæ ·ï¼Œè‚¯å®šæœ‰cåˆ°fã€dåˆ°eæ·±åº¦é€’å‡ï¼Œç”±æ­¤å¯çŸ¥ï¼Œyå¿…å®šä¸ºfï¼Œç”±æ­¤å¾—è¯ ä»£ç ï¼š#include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e5+5,M=N&lt;&lt;1; int n,m,en,h[N],s[N],sz[N],f[N],top[N],d[N]; struct edge{int n,v;}e[M]; inline void add(const int &amp;x,const int &amp;y){ e[++en]=(edge){h[x],y}; h[x]=en; } void dfs1(int x){ sz[x]=1; d[x]=d[f[x]]+1; for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(y==f[x]) continue; f[y]=x; dfs1(y); sz[x]+=sz[y]; if(sz[s[x]]&lt;sz[y]) s[x]=y; } } void dfs2(int x,int TOP){ top[x]=TOP; if(s[x]) dfs2(s[x],TOP); for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(y==f[x]||y==s[x]) continue; dfs2(y,y); } } inline int lca(int x,int y){ while(top[x]^top[y]) if(d[top[x]]&gt;d[top[y]]) x=f[top[x]]; else y=f[top[y]]; return d[x]&lt;d[y]?x:y; } void doit(){ int x,y,u,v; read(x),read(y),read(u),read(v); int z=lca(x,y),w=lca(u,v); if(d[z]&gt;d[w]){ swap(x,u); swap(y,v); swap(z,w); } if(lca(w,x)==w||lca(w,y)==w) puts(&quot;Y&quot;); else puts(&quot;N&quot;); } signed main(){ read(n);read(m); for(int i=1,x,y;i&lt;n;i++){ read(x);read(y); add(x,y); add(y,x); } dfs1(1); dfs2(1,1); while(m--) doit(); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"},{"name":"LCA","slug":"LCA","permalink":"https://blog.yzcthinktwice.com/tags/LCA/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"nimæ¸¸æˆåŠå˜ä½“","slug":"nimæ¸¸æˆåŠå˜ä½“","date":"2019-11-11T13:58:01.000Z","updated":"2019-12-15T08:09:59.259Z","comments":true,"path":"2019/11/11/nimæ¸¸æˆåŠå˜ä½“/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/11/nimæ¸¸æˆåŠå˜ä½“/","excerpt":"","text":"PART1. ç»å…¸nimå‡ºå¤„ é—®é¢˜ï¼šæœ‰nå †çŸ³å­ï¼Œä¸¤ä¸ªäººå¯ä»¥ä»ä»»æ„ä¸€å †çŸ³å­ä¸­æ‹¿ä»»æ„å¤šä¸ªçŸ³å­(ä¸èƒ½ä¸æ‹¿)ï¼Œæ²¡æ³•æ‹¿çš„äººå¤±è´¥ã€‚é—®è°ä¼šèƒœåˆ© ç®—æ³•ï¼šè‹¥æ¯å †çŸ³å­æ•°çš„å¼‚æˆ–å’Œä¸ä¸º0ï¼Œåˆ™å…ˆæ‰‹å¿…èƒœ è¯æ˜ï¼šç”±äºnimæ¸¸æˆçš„sgå€¼ä¸çŸ³å­æ•°ç›¸ç­‰ï¼Œæ‰€ä»¥ç”±SGå®šç†å¯ä»¥æ–¹ä¾¿çš„å¾—åˆ° ä¾‹é¢˜ï¼šP2197 ã€æ¨¡æ¿ã€‘nimæ¸¸æˆ PART2. åˆ†è£‚nimå‡ºå¤„ æ–°è§„åˆ™ï¼šæ¯æ¬¡å–å®ŒçŸ³å­åï¼Œå¯ä»¥å°†å–çš„é‚£ä¸€å †çš„çŸ³å­ åˆ†ä¸ºå¤šå †ï¼Œä¹Ÿå¯ä»¥ä¸åˆ† ç®—æ³•ï¼šä¸ç»å…¸æ— å¼‚ è¯æ˜ï¼šå¦‚æœå¼‚æˆ–å’Œä¸ä¸º0ï¼Œé‚£å…ˆæ‰‹ä¸ç”¨åˆ†æŸä¸€å †çŸ³å­ï¼ŒåŒNimæ¸¸æˆ å¦‚æœå¼‚æˆ–å’Œä¸º0ï¼Œ ä¸æ‰§è¡Œåˆ†è£‚æ“ä½œåˆ™å…ˆæ‰‹å¿…è´¥ï¼ŒåŒNimæ¸¸æˆ è‹¥æ‰§è¡Œåˆ†è£‚æ“ä½œï¼Œå¦‚æœèƒ½å¤Ÿè¯æ˜æ‰§è¡Œåˆ†è£‚æ“ä½œçš„åç»§å±€é¢å¼‚æˆ–å’Œä¾ç„¶ä¸ä¸º0ï¼Œé‚£ä¹ˆç»“è®ºæˆç«‹ é‡‡ç”¨åè¯æ³•ï¼Œè¯æ˜å¦‚æœåˆ†è£‚åå¼‚æˆ–å’Œä¸º0 ä¼šäº§ç”ŸçŸ›ç›¾ a1 xor a2 xor a3 xor â€¦â€¦xor an=0 a1=a2 xor a3 xor â€¦â€¦xor an å‡è®¾æˆ‘ä»¬å–çš„é‚£ä¸€å †æ˜¯ç¬¬1å †ï¼Œå–å®Œä¹‹åè¿˜æœ‰b1ä¸ªï¼Œb1&lt;a1 å°†b1åˆ†ä¸ºx+y è‹¥x xor y xor a2 xor a3 xor â€¦â€¦xor an=0 åˆ™ x xor y=a2 xor a3 xor â€¦â€¦ xor an æ‰€ä»¥x xor y = a1 åˆå› ä¸ºå¼‚æˆ–æ˜¯ä¸è¿›ä½çš„åŠ æ³•ï¼Œæ‰€ä»¥x xor y&lt;=b1&lt;a1äº§ç”ŸçŸ›ç›¾ PART3. é˜¶æ¢¯nimå‡ºå¤„ æ–°è§„åˆ™ï¼šå–çš„çŸ³å­ä¸æ˜¯æ‹¿å‡ºè€Œæ˜¯ä»ç¬¬iå †æ”¾å…¥ç¬¬i-1å † ç®—æ³•ï¼šå°†æ¯ä¸ªå¥‡æ•°ä½ç½®çš„æ•°xçœ‹æˆä¸€å †æœ‰xä¸ªçŸ³å­çš„çŸ³å­å †ï¼Œç„¶åç©Nimæ¸¸æˆã€‚ è¯æ˜ï¼š æ‹¿èµ°æŸä¸€å †çŸ³å­çš„ä¸€éƒ¨åˆ†ï¼Œç›¸å½“äºå°†æŸä¸ªå¥‡ä½ç½®çš„çŸ³å­ç§»åŠ¨åˆ°å®ƒå·¦è¾¹çš„å¶ä½ç½®ä¸Šã€‚ å¦‚æœå¤§å®¶éƒ½åªåŠ¨å¥‡ä½ç½®çš„çŸ³å­ï¼Œé‚£ä¹ˆè¿™ç­‰ä»·äºä¸¤äººåœ¨ç©Nimæ¸¸æˆã€‚ ä½†å¦‚æœæœ‰äººæƒ³æ‰“ç ´è§„åˆ™å‘¢ï¼Ÿ å‡è®¾Nimæ¸¸æˆå…ˆæ‰‹å¿…èƒœï¼Œé‚£ä¹ˆå…ˆæ‰‹è‚¯å®šä¼˜å…ˆç©Nimæ¸¸æˆï¼›å¦‚æœåæ‰‹è¯•å›¾ç ´åå±€é¢ï¼Œå°†æŸä¸ªå¶ä½ç½®ä¸Šçš„è‹¥å¹²çŸ³å­ç§»åŠ¨åˆ°äº†å·¦è¾¹çš„å¥‡ä½ç½®iä¸Šï¼Œé‚£ä¹ˆå…ˆæ‰‹å¯ä»¥å°†è¿™è‹¥å¹²ä¸ªåˆšç§»åˆ°içš„çŸ³å­ç»§ç»­ç§»åŠ¨åˆ°iå·¦è¾¹çš„å¶ä½ç½®ä¸Šï¼Œå¯¹Nimå±€é¢ä¾ç„¶æ²¡æœ‰ä»»ä½•å½±å“ï¼Œé™¤éåæ‰‹å›å¤´æ¥ç»§ç»­åŠ¨å¥‡ä½ç½®çš„çŸ³å­ï¼Œé‚£ä¹Ÿåªèƒ½æ˜¯è¾“ã€‚ é‚£ä¹ˆå¦‚æœNimæ¸¸æˆå…ˆæ‰‹å¿…è´¥ï¼Œä¹Ÿæ˜¯åŒç†ï¼Œåæ‰‹å¯ä»¥ç”¨ç›¸åŒçš„æ–¹å¼è¿«ä½¿å…ˆæ‰‹ç©Nimæ¸¸æˆï¼Œç›´åˆ°è¾“ä¸ºæ­¢ã€‚ å› æ­¤ï¼Œå¥‡æ•°ä½ç½®çš„çŸ³å­çš„ç›¸å…³ä¿¡æ¯ï¼Œå°±ç›´æ¥å†³å®šäº†é˜¶æ¢¯Nimé—®é¢˜çš„ç»“æœã€‚ ä¾‹é¢˜ï¼šPOJ1704 Georgia and Bob PART4. æ ‘ä¸Šé˜¶æ¢¯nimæ–°è§„åˆ™ï¼šåœ¨é˜¶æ¢¯nimçš„åŸºç¡€ä¸Šèµ‹äºˆå„èŠ‚ç‚¹æ ‘çš„é¡ºåº ç®—æ³•ï¼šå¯¹æ·±åº¦ä¸ºå¥‡æ•°çš„æ‰€æœ‰ç‚¹ç©Nimæ¸¸æˆã€‚ è¯æ˜ï¼š æ ¹æ®SGå®šç†ï¼Œåœ¨é˜¶æ¢¯nimçš„åŸºç¡€ä¸Šåšå¼‚æˆ–åˆå¹¶å³å¯ ä¾‹é¢˜ï¼š è¿™ä¸ªæ–‡æ¡£çš„T3","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"åšå¼ˆè®º","slug":"åšå¼ˆè®º","permalink":"https://blog.yzcthinktwice.com/tags/åšå¼ˆè®º/"},{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"https://blog.yzcthinktwice.com/tags/æ•™ç¨‹/"},{"name":"nimæ¸¸æˆ","slug":"nimæ¸¸æˆ","permalink":"https://blog.yzcthinktwice.com/tags/nimæ¸¸æˆ/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"LISï¼ŒLCSä¸æ ‘çŠ¶æ•°ç»„","slug":"LISï¼ŒLCSä¸æ ‘çŠ¶æ•°ç»„","date":"2019-11-03T12:50:01.000Z","updated":"2019-12-15T08:09:35.446Z","comments":true,"path":"2019/11/03/LISï¼ŒLCSä¸æ ‘çŠ¶æ•°ç»„/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/03/LISï¼ŒLCSä¸æ ‘çŠ¶æ•°ç»„/","excerpt":"","text":"æ¨¡æ‹Ÿèµ›ä¸­å‡ºåˆ°äº†ç±»ä¼¼é¢˜ï¼Œç‰¹æ„åœ¨ç½‘ä¸Šæœç´¢å­¦ä¹ ï¼Œå¹¶æœ‰æ‰€æ„Ÿæƒ³ æœ¬æ–‡ç”±æ­¤è·å¾—å¯å‘ï¼Œç‰¹æ­¤æ„Ÿè°¢ PART1. LISä»P1439 ã€æ¨¡æ¿ã€‘æœ€é•¿å…¬å…±å­åºåˆ—å¼€å§‹ 50ptçš„$O(n^2)$ç®—æ³•å¾ˆå®¹æ˜“æƒ³ï¼Œå³è®¾f[i]è¡¨ç¤ºåˆ°iç»“æŸçš„æœ€é•¿LISçš„é•¿åº¦ f[i]=\\max \\left \\{ f[j] | a_j","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"https://blog.yzcthinktwice.com/tags/æ•™ç¨‹/"},{"name":"LIS","slug":"LIS","permalink":"https://blog.yzcthinktwice.com/tags/LIS/"},{"name":"LCS","slug":"LCS","permalink":"https://blog.yzcthinktwice.com/tags/LCS/"},{"name":"æ ‘çŠ¶æ•°ç»„","slug":"æ ‘çŠ¶æ•°ç»„","permalink":"https://blog.yzcthinktwice.com/tags/æ ‘çŠ¶æ•°ç»„/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P3657 [USACO17FEB]Why Did the Cow Cross the Road II P","slug":"P3657 [USACO17FEB]Why Did the Cow Cross the Road II P","date":"2019-11-03T12:28:01.000Z","updated":"2019-12-15T08:17:05.786Z","comments":true,"path":"2019/11/03/P3657 [USACO17FEB]Why Did the Cow Cross the Road II P/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/03/P3657 [USACO17FEB]Why Did the Cow Cross the Road II P/","excerpt":"","text":"P3657 Why Did the Cow Cross the Road II P LCSæ˜¯æœ¬é¢˜æ¯”è¾ƒç›´è§‚çš„ä¸€ç§æ€è·¯ï¼Œå³å°†æ™®é€šLCSï¼ˆæœ€é•¿å…¬å…±å­åºåˆ—ï¼‰çš„ç›¸ç­‰çš„æ¡ä»¶æ”¹ä¸ºå·®çš„ç»å¯¹å€¼&lt;=4 ä¼—æ‰€å‘¨çŸ¥ï¼Œæ±‚LCSæœ‰ä¸¤ç§$O(nlogn)$æ–¹æ³• ä¸€ç§æ˜¯æ˜ å°„ï¼Œå¦ä¸€ç§æ˜¯DPä¼˜åŒ– å› ä¸ºå·®çš„ç»å¯¹å€¼&lt;=4çš„æ¡ä»¶ä¼šä½¿æ˜ å°„å˜å¾—å¤æ‚ï¼Œæˆ‘ä»¬è¿™é‡Œé‡‡ç”¨DPä¼˜åŒ–çš„æ–¹æ³• è¯¥æ–¹æ³•å…·ä½“å¯ä»¥è§[noipç§‘æ™®]å…³äºLISå’Œä¸€ç±»å¯ä»¥ç”¨æ ‘çŠ¶æ•°ç»„ä¼˜åŒ–çš„DP è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥æ–¹æ³•ä¸­è¦è®°å½•b[]ä¸­å„å€¼å¯åˆæ³•å¯¹åº”çš„å€¼åœ¨a[]çš„ä½ç½®ï¼Œè¿™ä¸ªä½ç½®æ˜¯éœ€è¦é€šè¿‡æ’åºæ¥ä¿è¯æœ‰åºçš„ #include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e5+5; int a[N],b[N],n,f[N],ans,pos[N]; vector&lt;int&gt; p[N]; struct BIT{ //æ ‘çŠ¶æ•°ç»„æ¨¡æ¿ #define lowbit(x) (x&amp;(-x)) int a[N]; void up(int x,int v){ while(x&lt;=n){ a[x]=max(a[x],v); x+=lowbit(x); } } int que(int x){ int res=0; while(x){ res=max(res,a[x]); x-=lowbit(x); } return res; } }ma; signed main(){ read(n); for(int i=1,x;i&lt;=n;i++){ read(x); pos[x]=i; //è®°å½•æŸå€¼çš„ä½ç½® } for(int i=1;i&lt;=n;i++){ read(b[i]); for(int j=max(1,b[i]-4);j&lt;=min(n,b[i]+4);j++) p[i].push_back(pos[j]); //è®°å½•b[]å€¼åˆæ³•å¯¹åº”å€¼çš„ä½ç½® sort(p[i].begin(),p[i].end()); //æ’åºä½¿ä¹‹ä¿è¯æœ‰åº } for(int i=1;i&lt;=n;i++) for(int j=p[i].size()-1;j&gt;=0;j--){ //æŒ‰ä½ç½®æLCS int pos=p[i][j]; f[pos]=ma.que(pos-1)+1; ma.up(pos,f[pos]); } for(int i=1;i&lt;=n;i++) ans=max(ans,f[i]); //å¾—åˆ°ç­”æ¡ˆ write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://blog.yzcthinktwice.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"LCS","slug":"LCS","permalink":"https://blog.yzcthinktwice.com/tags/LCS/"},{"name":"æ ‘çŠ¶æ•°ç»„","slug":"æ ‘çŠ¶æ•°ç»„","permalink":"https://blog.yzcthinktwice.com/tags/æ ‘çŠ¶æ•°ç»„/"},{"name":"USACO","slug":"USACO","permalink":"https://blog.yzcthinktwice.com/tags/USACO/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CFä¸Šè“ï¼","slug":"CFä¸Šè“ï¼","date":"2019-11-01T23:30:00.000Z","updated":"2019-12-15T08:10:21.987Z","comments":true,"path":"2019/11/02/CFä¸Šè“ï¼/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/11/02/CFä¸Šè“ï¼/","excerpt":"","text":"ä»¤äººæ¿€åŠ¨ï¼ è‡ªå·±åŠ¨æ‰‹ï¼Œä¸°è¡£è¶³é£Ÿ CF round #597æˆ‘ç»ˆäºä¸Šè“äº†ï¼ æ¯é¢˜éƒ½å¾ˆæœ‰æ€è·¯ï¼Œé™¤äº†æœ€åçš„ä¸¤ä¸ªdpé¢˜ æ²¡æœ‰ä»»ä½•ç½šæ—¶ï¼ŒDç”šè‡³æ˜¯æ´›è°·åŸé¢˜ï¼ˆæ‰“äº•ï¼‰ï¼Œå¹¶ä¸”æ²¡æ¥å¡kruskalã€‚ã€‚ã€‚ æŒºå¹¸è¿çš„ï¼Œè§è¿™é‡Œ å…¨çƒrating 272ï¼Œæ¶¨äº†161åˆ†","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"https://blog.yzcthinktwice.com/categories/æ—¥è®°/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"}],"keywords":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"https://blog.yzcthinktwice.com/categories/æ—¥è®°/"}]},{"title":"CF1239D Catowice City","slug":"CF1239D Catowice City","date":"2019-10-29T14:11:01.000Z","updated":"2019-12-15T08:10:10.061Z","comments":true,"path":"2019/10/29/CF1239D Catowice City/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/10/29/CF1239D Catowice City/","excerpt":"","text":"CF1239D Catowice City è¯´åœ¨å‰é¢çš„ï¼šå…¶å®æœ¬é¢˜åœ¨ç­”æ¡ˆçš„ç»Ÿè®¡ä¸Šå¹¶æ²¡æœ‰å¦ä¸¤ç¯‡é¢˜è§£è®²çš„é‚£ä¹ˆéº»çƒ¦ å¦‚æœä½ çœŸæ­£ææ‡‚äº†tarjanï¼Œä½ ä¼šæ˜ç™½å¦‚æœä¸€ä¸ªå¼ºè¿é€šåˆ†é‡æœ‰å‡ºè¾¹ï¼Œç”±äºå®ƒdfsçš„æ€§è´¨ï¼Œä¸€å®šä¼šç»§ç»­å‘ä¸‹éå†ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªæ²¡æœ‰å‡ºåº¦çš„å¼ºè¿é€šåˆ†é‡ å› æ­¤ï¼Œç¬¬ä¸€ä¸ªè¢«æ‰¾åˆ°çš„å¼ºè”é€šåˆ†é‡ä¸€å®šæ˜¯æ²¡æœ‰å‡ºåº¦çš„ï¼ è¿™æ ·å…¶ä½™ä¸¤ç¯‡é¢˜è§£çš„åšæ³•åœ¨è¿‡ç¨‹ä¸Šè¿˜å¯ä»¥è¢«å¤§å¹…ç®€åŒ– é¢˜è§£é¦–å…ˆï¼Œä¸€ä¸ªå¾ˆç®€å•çš„é—®é¢˜ï¼šä¸ºä»€ä¹ˆnä¸ªä¸å¯ä»¥éƒ½æ˜¯çŒ«å‘¢ï¼Ÿ å› ä¸ºå¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªäºº é‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»æŠŠè¿™ä¸ªäººæ”¾åˆ°æ— æ³•äº§ç”Ÿä»»ä½•å½±å“çš„åœ°æ–¹å» å³ä¸€ä¸ªäººç¾¤ï¼ˆæˆ–ä»…ä¸€ä¸ªäººï¼‰ è¿™ä¸ªäººç¾¤å¿…é¡»æ»¡è¶³ä¸ä¼šå†å¯¹åç»­äº§ç”Ÿå½±å“ï¼ˆå› ä¸ºè¿çŒ«ä¸åˆæ³•ï¼Œè¿äººä¸å¦‚æ¢ä¸ªéƒ¨åˆ†åšäººç¾¤ï¼‰ å³æ— å‡ºåº¦ åŒæ—¶äººç¾¤ä¸­ä¹Ÿè¦ä¿æŒå¼ºè”é€šï¼Œå› ä¸ºå¦‚æœæœ‰äººä¸å¼ºè”é€šï¼Œä»–å°±å¯ä»¥è¢«åˆ†ç¦»å‡ºçœ‹æˆçŒ« å› æ­¤é—®é¢˜è½¬åŒ–ä¸ºåœ¨ä¸€ä¸ªæœ‰å‘å›¾ä¸­æ‰¾ä¸€ä¸ªæ²¡æœ‰å‡ºåº¦çš„å¼ºè¿é€šåˆ†é‡ åœ¨è¿™ä¸ªæ²¡æœ‰å‡ºåº¦çš„å¼ºè”é€šåˆ†é‡é‡Œçš„éƒ½æ˜¯äººï¼Œå¦åˆ™æ˜¯çŒ« è€Œæˆ‘ä¹‹å‰åˆè¯´è¿‡ç¬¬ä¸€ä¸ªè¢«æ‰¾åˆ°çš„å¼ºè”é€šåˆ†é‡ä¸€å®šæ˜¯æ²¡æœ‰å‡ºåº¦çš„ï¼Œå› æ­¤ç¼–å·ä¸º1çš„å¼ºè¿é€šåˆ†é‡å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ å¦å¤–ï¼Œæ˜¾ç„¶çš„ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå¼ºè¿é€šåˆ†é‡å°±æ˜¯ä¸åˆæ³•çš„ ä»£ç #include &lt;bits/stdc++.h&gt; using namespace std; template&lt;class t&gt; inline t read(t &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } template&lt;class t&gt; inline void write(t x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=1e6+5; int h[N],st[N],lim,dfn[N],low[N],cnt,en,scc[N],sn,n,m,t,sz[N]; bool v[N]; struct edge{int n,v;}e[N]; inline void add(int x,int y){e[++en]=(edge){h[x],y};h[x]=en;} void tarjan(int x){ //tarjanæ¨¡æ¿ v[x]=1; st[++lim]=x; dfn[x]=low[x]=++cnt; for(int i=h[x];i;i=e[i].n){ int y=e[i].v; if(!dfn[y]){ tarjan(y); low[x]=min(low[x],low[y]); } else{ if(v[y]) low[x]=min(low[x],dfn[y]); } } if(dfn[x]==low[x]){ int top; sn++; for(;;){ top=st[lim--]; v[top]=0; scc[top]=sn; sz[sn]++; //sz[]æ˜¯å¼ºè¿é€šåˆ†é‡çš„å¤§å° if(top==x) break; } } } void doit(){ read(n);read(m); sn=cnt=en=lim=0; for(int i=1;i&lt;=n;i++) h[i]=sz[i]=dfn[i]=0; for(int i=1,x,y;i&lt;=m;i++){ read(x);read(y); if(x==y) continue; //è‡ªå·±å’Œè‡ªå·±çš„çŒ«å¯å¿½ç•¥ add(x,y); } for(int i=1;i&lt;=n;i++) if(!dfn[i]) tarjan(i); if(sn==1){ //åªæœ‰ä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ï¼Œä¸åˆæ³• puts(&quot;No&quot;); return ; } printf(&quot;Yes\\n%d %d\\n&quot;,sz[1],n-sz[1]); //sz[1]æ˜¯äººçš„ä¸ªæ•°ï¼Œå‡ä¸€å‡å¾—åˆ°çŒ«æ•° for(int i=1;i&lt;=n;i++) if(scc[i]==1) write(i),putchar(&#39; &#39;);puts(&quot;&quot;); //ç¬¬ä¸€ä¸ªçš„éƒ½æ˜¯äºº for(int i=1;i&lt;=n;i++) if(scc[i]!=1) write(i),putchar(&#39; &#39;);puts(&quot;&quot;); //å¦åˆ™æ˜¯çŒ« } signed main(){ read(t); while(t--) doit(); } (ps.æœ¬é¢˜æ¸…é›¶åˆå§‹åŒ–ç”¨memsetä¼šTåœ¨ç¬¬ä¸‰ä¸ªç‚¹ï¼Œè¦æ”¹ç”¨for)","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"ç¼©ç‚¹","slug":"ç¼©ç‚¹","permalink":"https://blog.yzcthinktwice.com/tags/ç¼©ç‚¹/"},{"name":"å¼ºè¿é€šåˆ†é‡","slug":"å¼ºè¿é€šåˆ†é‡","permalink":"https://blog.yzcthinktwice.com/tags/å¼ºè¿é€šåˆ†é‡/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P3294 [SCOI2016]èƒŒå•è¯","slug":"P3294 [SCOI2016]èƒŒå•è¯","date":"2019-10-28T14:28:01.000Z","updated":"2019-12-15T08:09:53.146Z","comments":true,"path":"2019/10/28/P3294 [SCOI2016]èƒŒå•è¯/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/10/28/P3294 [SCOI2016]èƒŒå•è¯/","excerpt":"","text":"P3294 ã€SCOI2016ã€‘èƒŒå•è¯ é¢˜æ„ï¼ˆå·²ç”¨è´ªå¿ƒæ€è·¯ç®€åŒ–ï¼‰ç»™å®šnä¸ªå•è¯$s_i$ï¼Œè¯·é‡æ’åºåˆ—ï¼Œä½¿æ¯ä¸ªå•è¯çš„å­˜åœ¨çš„åç¼€éƒ½åœ¨å‰é¢ è®¾$s_j$ä¸ºç¦»$s_i$æœ€è¿‘çš„åç¼€å­—ç¬¦ä¸² å®šä¹‰$a_i=i-j$ $ans=min(\\sum a_i)$ é¢˜è§£åç¼€æ˜¾ç„¶æ²¡æœ‰å‰ç¼€æ¥çš„å®¹æ˜“å¤„ç†ï¼Œæ‰€ä»¥è‡ªç„¶æƒ³åˆ°ç¿»è½¬æ¯ä¸ªå•è¯ï¼Œå»ºå‡ºtrieæ ‘ ä¸‹é¢æ˜¯ä¸ªä¾‹å­ï¼š 6 a ca ea gda hda ifb 1. å»ºå‡ºtrieæ ‘(çº¢ç‚¹æ˜¯é¢ å€’åæ¯ä¸ªå•è¯çš„æœ«å°¾ï¼Œæ³¨æ„æ ¹ä¹Ÿæ˜¯ï¼‰ï¼š void ins(char *s){ int x=0; for(int i=0;s[i];i++){ if(!a[x].nt[s[i]-&#39;a&#39;]) a[x].nt[s[i]-&#39;a&#39;]=++cnt; x=a[x].nt[s[i]-&#39;a&#39;]; } a[x].tag=1; //tag==1è¯´æ˜æ˜¯çº¢ç‚¹ } 2. é‡æ„æ ‘è·³è¿‡ç™½ç‚¹ï¼Œä¿ç•™çº¢ç‚¹ï¼ˆç™½ç‚¹æ— ç”¨ï¼Œå¯ä»¥å¿½ç•¥ï¼‰ void doit(int x){ if(a[x].tag&amp;&amp;x){ g[last[x]].push_back(x); //g[x][]å­˜é‡æ„æ ‘ä¸­ç‚¹xçš„å„¿å­ä»¬ last[x]=x; //last[x]æ˜¯åŸæ ‘é‡ŒxèŠ‚ç‚¹ä¸Šæ–¹ç¦»å®ƒæœ€è¿‘çš„çº¢ç‚¹ï¼ˆåŒ…æ‹¬è‡ªå·±ï¼‰ } for(int i=0;i&lt;26;i++) if(a[x].nt[i]){ last[a[x].nt[i]]=last[x]; doit(a[x].nt[i]); } } 3. dfséå†é‡æ„æ ‘ï¼Œå¹¶å°†ç›´æ¥ç¥–å…ˆç›¸åŒçš„å­æ ‘æŒ‰èŠ‚ç‚¹æ•°ä»å°åˆ°å¤§æ’åº inline bool cmp(const int &amp;x,const int &amp;y){ return sz[x]&lt;sz[y]; } void dfs(int x){ sz[x]=1; //sz[x]æ˜¯ä»¥xä¸ºæ ¹çš„å­æ ‘çš„å¤§å° for(int i=0;i&lt;g[x].size();i++){ dfs(g[x][i]); sz[x]+=sz[g[x][i]]; } sort(g[x].begin(),g[x].end(),cmp); } 4. æ ¹æ®é¢˜æ„éå†é‡æ„æ ‘ï¼Œç”¨dfsåºå¾—åˆ°ç­”æ¡ˆvoid getans(int x){ int dfn=cnt++; //dfnæ˜¯çˆ¶äº²çš„dfsåºï¼Œcntæ˜¯èŠ‚ç‚¹è‡ªå·±çš„dfsåº for(int i=0;i&lt;g[x].size();i++){ ans+=cnt-dfn; //ä¸¤è€…ç›¸å‡å°±æ˜¯é¢˜æ„é‡Œçš„ai getans(g[x][i]); } } æ€è·¯èƒŒåçš„ç†ç”±Q1. ä¸ºä»€ä¹ˆé¢˜æ„å¯ä»¥è¿™æ ·ç®€åŒ–ï¼Ÿä¸‰æ¡è§„åˆ™ï¼Œè§„åˆ™ä¸€æ˜¾ç„¶æ˜¯å¯ä»¥è¢«é¿å…ä¸”æ²¡æœ‰åä¸¤ç§ä¼˜çš„ï¼Œè§„åˆ™äºŒå¯ä»¥çœ‹åšè§„åˆ™ä¸‰çš„ç‰¹æ®Šæƒ…å†µï¼Œç®€å•èµ·è§ï¼Œåªè€ƒè™‘è§„åˆ™ä¸‰å³å¯ Q2. æ’åºçš„æ­£ç¡®æ€§ï¼ŸèŠ±è´¹ä¸æœ€åä¸€ä¸ªå¡«å…¥çš„åç¼€æœ‰å…³,é‚£ä¹ˆè¿™ä¸ªåç¼€çš„ä½ç½®ç¦»å½“å‰ä½ç½®è¶Šè¿‘è¶Šå¥½,ä¹Ÿå°±æ˜¯åº”è¯¥æœ‰å°½é‡å°‘çš„å•è¯å¤¹åœ¨ä¸¤ä¸ªä¸­é—´,æ‰€ä»¥æˆ‘ä»¬åº”è¯¥é€‰ä¸‹å±å•è¯æœ€å°‘çš„é‚£ä¸ªè¿›è¡Œæ‹“å±•ï¼Œè€Œä¸‹å±å•è¯çš„å¤šå°‘å°±ç­‰ä»·äºé‡æ„æ ‘ä¸­å­æ ‘çš„å¤§å°ã€‚ Q3. dfsåºçš„æ­£ç¡®æ€§ï¼Ÿè¿™é‡Œå¼•ç”¨ @åå±±å®¢ çš„é¢˜è§£ï¼š è€ƒè™‘é‡æ–°å»ºæ ‘ä¹‹åï¼ŒièŠ‚ç‚¹çš„å­æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹çš„åç¼€éƒ½æ˜¯i å¦‚æœåŒä¸€æ·±åº¦ä¸Šæœ‰ä¸æ­¢ä¸€æ£µå­æ ‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆåœ¨ä¸€æ£µä¸Šå–å‡ºä¸€ä¸ªå¶å­èŠ‚ç‚¹jï¼Œå†å–å‡ºä¸€ä¸ªæ ¹èŠ‚ç‚¹iï¼Œæˆ‘ä»¬å‘ç°å¦‚æœj&gt;içš„è¯è‚¯å®šä¸å¦‚i&lt;jä¼˜ç§€ å› ä¸ºè°ƒæ•´ä¹‹åiçš„å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹å¯¹èŠ±è´¹çš„è´¡çŒ®-=å­æ ‘å¤§å°ï¼Œjå¯¹èŠ±è´¹çš„è´¡çŒ®+1ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹åˆ°j&gt;içš„èŠ±è´¹&lt;=i&gt;jçš„æƒ…å†µ æœ€åæˆ‘ä»¬ç»è¿‡æ‰€æœ‰çš„è°ƒæ•´å¯ä»¥å‘ç°åºåˆ—å˜æˆäº†dfsåº æ‰€ä»¥dfsåºæœ€ä¼˜ å®Œæ•´ä»£ç å°†ä»¥ä¸Šå„æ­¥éª¤ä»£ç åˆåœ¨ä¸€èµ·å°±æ˜¯ï¼š tips. ANSè¦ç”¨long long!!! #include &lt;bits/stdc++.h&gt; using namespace std; inline int read(int &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } inline void write(long long x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int L=5.1e5+5; struct node{ //trieæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ int nt[26]; bool tag; }; long long ans; int cnt,last[L],sz[L],n; vector&lt;int&gt; g[L]; char s[L]; struct trie{ //trieåŠæ‰€éœ€æ“ä½œ node a[L]; int cnt; void ins(char *s){ //å»ºæ ‘ int x=0; for(int i=0;s[i];i++){ if(!a[x].nt[s[i]-&#39;a&#39;]) a[x].nt[s[i]-&#39;a&#39;]=++cnt; x=a[x].nt[s[i]-&#39;a&#39;]; } a[x].tag=1; } void doit(int x){ //é‡æ„æ ‘ if(a[x].tag&amp;&amp;x){ g[last[x]].push_back(x); last[x]=x; } for(int i=0;i&lt;26;i++) if(a[x].nt[i]){ last[a[x].nt[i]]=last[x]; doit(a[x].nt[i]); } } }tr; inline bool cmp(const int &amp;x,const int &amp;y){ return sz[x]&lt;sz[y]; } void dfs(int x){ //é‡æ’é‡æ„æ ‘ sz[x]=1; for(int i=0;i&lt;g[x].size();i++){ dfs(g[x][i]); sz[x]+=sz[g[x][i]]; } sort(g[x].begin(),g[x].end(),cmp); } void getans(int x){ //ç»Ÿè®¡ç­”æ¡ˆ int dfn=cnt++; for(int i=0;i&lt;g[x].size();i++){ ans+=cnt-dfn; getans(g[x][i]); } } signed main(){ read(n); for(int i=1;i&lt;=n;i++){ scanf(&quot;%s&quot;,s); reverse(s,s+strlen(s)); //åè½¬å•è¯ tr.ins(s); } tr.a[0].tag=1; //æ ¹ä¹Ÿæ˜¯çº¢ç‚¹ tr.doit(0); dfs(0); getans(0); write(ans); }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"https://blog.yzcthinktwice.com/tags/è´ªå¿ƒ/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"},{"name":"å­—å…¸æ ‘","slug":"å­—å…¸æ ‘","permalink":"https://blog.yzcthinktwice.com/tags/å­—å…¸æ ‘/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"P2658 ã€æ±½è½¦æ‹‰åŠ›æ¯”èµ›ã€‘","slug":"P2658 ã€æ±½è½¦æ‹‰åŠ›æ¯”èµ›ã€‘","date":"2019-10-27T14:49:01.000Z","updated":"2019-12-15T08:08:43.107Z","comments":true,"path":"2019/10/27/P2658 ã€æ±½è½¦æ‹‰åŠ›æ¯”èµ›ã€‘/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/10/27/P2658 ã€æ±½è½¦æ‹‰åŠ›æ¯”èµ›ã€‘/","excerpt":"","text":"P2658 ã€æ±½è½¦æ‹‰åŠ›æ¯”èµ›ã€‘å¹¶æŸ¥é›†çš„æ€è·¯å¾ˆå¤šäººå·²ç»è®²è¿‡äº†ï¼Œæˆ‘è¿™é‡Œæä¾›å‡ ä¸ªå¹¶æŸ¥é›†æ–¹æ³•çš„ï¼ˆå¸¸æ•°ï¼‰ä¼˜åŒ– è·¯å¾„å‹ç¼©&amp;æŒ‰ç§©åˆå¹¶ int getf(int x){ if(f[x]==x) return x; return f[x]=getf(f[x]); } void unite(int x,int y){ int fx=getf(x),fy=getf(y); if(fx==fy) return; if(rk[fx]&lt;rk[fy]) f[fx]=fy; else f[fy]=fx; if(rk[fx]==rk[fy]) rk[fx]++; } è·¯å¾„å‹ç¼©åº”è¯¥å¾ˆå¤šäººéƒ½åŠ äº†å§ã€‚ã€‚ã€‚ å››ä¸ªæ–¹å‘ï¼ˆä¸Šä¸‹å·¦å³ï¼‰-&gt;ä¸¤ä¸ªæ–¹å‘ï¼ˆä¸‹å³ï¼‰ è¾¹æ˜¯åŒå‘çš„ï¼Œè€Œä¸”æ˜¯ç½‘æ ¼å›¾ï¼Œå› æ­¤æ˜¯æœ‰ä¸ªå±‚æ¬¡æ€§çš„ï¼Œæ— éœ€é‡å¤åœ°åŒå‘éƒ½unite å°†æ¯ä¸ªè·¯æ ‡çš„faä¸ç¬¬ä¸€ä¸ªè·¯æ ‡çš„faæ¯”è¾ƒ å¯ä»¥èŠ‚çº¦ä¸€åŠçš„getf å¦å¤–ï¼Œæ„Ÿè§‰è‡ªå·±çš„ç é£è¿˜æŒºå¥½ç†è§£çš„ã€‚ã€‚ã€‚ #include &lt;bits/stdc++.h&gt; using namespace std; inline int read(int &amp;x){ char c=getchar();bool f=0;x=0; while(!isdigit(c)) f|=c==&#39;-&#39;,c=getchar(); while(isdigit(c)) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); if(f) x=-x;return x; } inline void write(int x){ if(x&lt;0) putchar(&#39;-&#39;),write(-x); else{if(x&gt;9) write(x/10);putchar(&#39;0&#39;+x%10);} } const int N=505; int n,m,f[N*N],ans,rk[N*N],a[N][N],l,r; vector&lt;int&gt; tag; inline int hash(int x,int y){ return (x-1)*m+y; } inline int getf(int x){ if(f[x]==x) return x; return f[x]=getf(f[x]); //è·¯å¾„å‹ç¼© } inline void unite(int x,int y){ int fx=getf(x),fy=getf(y); if(fx==fy) return; if(rk[fx]&lt;rk[fy]) f[fx]=fy; //æŒ‰ç§©åˆå¹¶ else f[fy]=fx; if(rk[fx]==rk[fy]) rk[fx]++; } inline bool check(int k){ for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=m;j++) f[hash(i,j)]=hash(i,j),rk[hash(i,j)]=1; //å¹¶æŸ¥é›†åˆå§‹åŒ– for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=m;j++){ if(abs(a[i][j]-a[i+1][j])&lt;=k&amp;&amp;i+1&lt;=n) //å‘ä¸‹unite(hash(i,j),hash(i+1,j)); if(abs(a[i][j]-a[i][j+1])&lt;=k&amp;&amp;j+1&lt;=m) //å‘å³ unite(hash(i,j),hash(i,j+1)); } int fa=getf(tag[0]); //å…ˆå¾—åˆ°ç¬¬ä¸€ä¸ªfa for(int i=1;i&lt;tag.size();i++) if(getf(tag[i])!=fa) //åé¢çš„ä¸ç¬¬ä¸€ä¸ªæ¯”è¾ƒ return 0; return 1; } signed main(){ read(n);read(m); for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=m;j++){ read(a[i][j]); r=max(r,a[i][j]); } for(int i=1;i&lt;=n;i++) for(int j=1,x;j&lt;=m;j++){ read(x); if(x) tag.push_back(hash(i,j)); //æˆ‘ç”¨vectorå­˜è·¯æ ‡ } while(l&lt;=r){ int mid=(l+r)&gt;&gt;1; if(check(mid)) r=mid-1,ans=mid; else l=mid+1; } write(ans); } å¦å¤–ï¼Œæˆ‘è¿™ä»½ä»£ç æ˜¯ç”¨c++äº¤çš„ï¼Œc++11ä»¥ä¸Šä¼šce","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"äºŒåˆ†ç­”æ¡ˆ","slug":"äºŒåˆ†ç­”æ¡ˆ","permalink":"https://blog.yzcthinktwice.com/tags/äºŒåˆ†ç­”æ¡ˆ/"},{"name":"æ´›è°·","slug":"æ´›è°·","permalink":"https://blog.yzcthinktwice.com/tags/æ´›è°·/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CFå†æ¬¡è¢«skip","slug":"CFå†æ¬¡è¢«skip","date":"2019-10-26T15:22:01.000Z","updated":"2019-12-15T08:10:18.360Z","comments":true,"path":"2019/10/26/CFå†æ¬¡è¢«skip/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/10/26/CFå†æ¬¡è¢«skip/","excerpt":"","text":"æ—¶éš”å¤šæ—¥ï¼Œä»Šå¤©åˆæ¥æ‰“æ‰“CFï¼Œæœ¬æ¥å¯ä»¥ä¸Šè“çš„è¯´ã€‚ã€‚ã€‚ ç»“æœsbåˆæŠŠè‡ªå·±skipäº†ï¼Œä¸€æ™šä¸Šç™½ç»™ è‡ªé—­äº†QAQ","categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"https://blog.yzcthinktwice.com/categories/æ—¥è®°/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"}],"keywords":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"https://blog.yzcthinktwice.com/categories/æ—¥è®°/"}]},{"title":"HDU5521 Meeting","slug":"HDU5521 Meeting","date":"2019-07-17T14:11:01.000Z","updated":"2019-12-15T08:09:45.945Z","comments":true,"path":"2019/07/17/HDU5521 Meeting/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/07/17/HDU5521 Meeting/","excerpt":"","text":"HDU5521 Meeting é¢˜æ„ï¼š ç»™ä½ nä¸ªç‚¹ï¼Œå®ƒä»¬ç»„æˆäº†mä¸ªå›¢ï¼Œç¬¬iä¸ªå›¢å†…æœ‰siä¸ªç‚¹ï¼Œä¸”æ¯ä¸ªå›¢å†…çš„ç‚¹äº’ç›¸ä¹‹é—´è·ç¦»ä¸ºtiï¼Œé—®å¦‚æœåŒæ—¶ä»ç‚¹1å’Œç‚¹nå‡ºå‘ï¼Œæœ€çŸ­è€—æ—¶å¤šå°‘ç›¸é‡ å¾ˆæ˜æ˜¾é¢˜ç›®ç»™å‡ºçš„æ˜¯ä¸ªæ— è´Ÿç¯çš„å›¾ï¼Œä¸”è¦è·‘å‡ºå•æºæœ€çŸ­è·¯ï¼Œé‚£ä¸å°±æ˜¯ä¸ªdijå— å¤§æ–¹å‘å®šä¸‹ï¼Œä½†å›¾è¯¥æ€ä¹ˆå»ºå‘¢ï¼Ÿ way1:ç»™æ¯ä¸ªå›¢å†…çš„æ‰€æœ‰ç‚¹ä¸¤ä¸¤æš´åŠ›å»ºè¾¹ å¦‚å›¾æ‰€ç¤ºï¼šé»‘çš„ä¸ºç‚¹ï¼Œçº¢çš„ä¸ºå›¢ï¼Œç›¸åŒé¢œè‰²çš„è¾¹é•¿åº¦ç›¸ç­‰ å…±$\\sum ^{m}_{i=1}\\dfrac {1}{2}s_{i}\\left( s_{i}-1\\right)$æ¡è¾¹ è€Œé¢˜é¢åˆå‘Šè¯‰æˆ‘ä»¬$\\sum ^{m}_{i=1}s_{i}&lt;=10^6$ è¾¹æ•°1e12è¿™è°é¡¶å¾—ä½å•ŠQuQ way2:æˆ‘ä»¬å†çœ‹ä¸Šé¢è¿™å¼ å›¾ï¼Œå‘ç°åŒä¸ªå›¢å†…ç±»ä¼¼ä¸‰è§’å½¢çš„ä¸œè¥¿å…¶å®æ˜¯ä¸éœ€è¦çš„ï¼Œå› ä¸ºåæ­£æœ‰æ›´è¿‘çš„ç›´æ¥è¿æ¥çš„è¾¹ï¼Œä¸ºå•¥è¿˜è¦å†å»ç»•ä¸ªåœˆå»æ¾å¼›æ“ä½œå‘¢ï¼Ÿ è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥åœ¨æ¯ä¸ªå›¢ä¸­å»ºä¸ªè™šç‚¹ï¼Œæ”¹æ— å‘å›¾ä¸ºæœ‰å‘å›¾ï¼Œå³å®ç‚¹å¯ä»¥0æ¶ˆè€—åˆ°è™šç‚¹ï¼Œè™šç‚¹è¦tiåˆ°å®ç‚¹ æ­£å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šè“è‰²çš„ä¸ºè™šç‚¹ï¼Œç°è‰²çš„ä¸ºä»å®ç‚¹åˆ°è™šç‚¹çš„è·¯å¾„ï¼Œé•¿åº¦ä¸º0ï¼›å½©è‰²çš„ä¸ºä»è™šç‚¹åˆ°å®ç‚¹çš„è·¯å¾„ï¼Œé•¿åº¦ä¸ºti è¾¹æ•°æ˜¯ä¸æ˜¯è¢«å‡å°‘åˆ°äº†$\\sum ^{m}_{i=1}2s_{i}$ï¼Ÿæ˜¯ä¸æ˜¯å¾ˆä¼˜ç§€ï¼Ÿ å»ºå®Œå›¾åï¼Œåˆ†åˆ«ä»¥1å’Œnä¸ºèµ·ç‚¹ï¼Œè·‘ä¸€éæœ€çŸ­è·¯ $Ans=min\\{max\\{ç‚¹1åˆ°ç‚¹iæœ€çŸ­è·¯,ç‚¹nåˆ°ç‚¹iæœ€çŸ­è·¯|1&lt;=i&lt;=n\\}\\}$ ps.è¿™é“é¢˜ååˆ†æ¯’ç˜¤ï¼Œæˆ‘æäº¤åæ›¾å››æ¬¡PEï¼Œè¾“å‡ºè¯·æ³¨æ„ä½ çš„ç©ºæ ¼ä»¥åŠæ¢è¡Œï¼Œé¿å…å†—ä½™ typedef long long ll; const int N=2e5+5,M=4e6+5; int en,T,n,m,h[N],cnt,ans[N],nm; ll dis[2][N]; struct node{ int x; ll v; inline bool operator &lt; (const node &amp;nt) const {return v&gt;nt.v;} }; struct edge{int n,v;ll w;}e[M]; //å‰å‘æ˜Ÿå­˜è¾¹ inline void add(const int &amp;x,const int &amp;y,const ll &amp;z){e[++en]=(edge){h[x],y,z};h[x]=en;} void dij(int s){ //ä¸€ä¸ªå †ä¼˜dijkstraæ¨¡æ¿ int pos; //å°æŠ€å·§ï¼Œæå‰åˆ¤æ–­å¥½å½“å‰æœ€çŸ­è·¯åº”å­˜è¿›å“ªä¸ªdis[]æ•°ç»„ if(s==1) pos=0; else pos=1; priority_queue&lt;node&gt; q; memset(dis[pos],66,sizeof dis[pos]); q.push((node){s,0}); dis[pos][s]=0; while(!q.empty()){ node x=q.top(); q.pop(); if(x.v!=dis[pos][x.x]) continue; for(int i=h[x.x];i;i=e[i].n){ int y=e[i].v; if(dis[pos][x.x]+e[i].w&lt;dis[pos][y]){ dis[pos][y]=dis[pos][x.x]+e[i].w; q.push((node){y,dis[pos][y]}); } } } } signed main(){ scanf(&quot;%d&quot;,&amp;T); while(T--){ en=nm=0; memset(h,0,sizeof h); scanf(&quot;%d%d&quot;,&amp;n,&amp;m); for(int i=1,t,s;i&lt;=m;i++){ scanf(&quot;%d%d&quot;,&amp;t,&amp;s); int center=n+i; //è™šç‚¹ for(int i=1,x;i&lt;=s;i++){ scanf(&quot;%d&quot;,&amp;x); add(x,center,0); //å®ç‚¹åˆ°è™šç‚¹æ— é•¿åº¦ add(center,x,t); //è™šç‚¹åˆ°å®ç‚¹æœ‰é•¿åº¦ } } dij(1); //ä»1è·‘ dij(n); //ä»nè·‘ ll MIN=dis[0][0]; for(int i=1;i&lt;=n;i++){ ll tp=max(dis[0][i],dis[1][i]); if(tp==MIN) ans[++nm]=i; //nmè®°å½•å½“å‰æœ€ä¼˜è§£å…±æœ‰å‡ ä¸ªï¼Œans[]è®°å½•è¿™äº›æ»¡è¶³æœ€ä¼˜è§£çš„ä¸‹æ ‡ if(tp&lt;MIN){ nm=1; //æ¯”å½“å‰æœ€ä¼˜è§£è¿˜ä¼˜ï¼Œåˆ·æ–°ï¼Œé‡æ–°ä»1å¼€å§‹ ans[1]=i; MIN=tp; } } printf(&quot;Case #%d: &quot;,++cnt); if(MIN==dis[0][0]) printf(&quot;Evil John\\n&quot;); //æ²¡æœ‰æœ€ä¼˜è§£-&gt;å³æ— è§£ else{ printf(&quot;%lld\\n&quot;,MIN); for(int i=1;i&lt;=nm;i++) if(i&lt;nm) printf(&quot;%d &quot;,ans[i]); else printf(&quot;%d\\n&quot;,ans[i]); //æœ€åä¸€ä¸ªåæ— ç©ºæ ¼ } } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"æœ€çŸ­è·¯","slug":"æœ€çŸ­è·¯","permalink":"https://blog.yzcthinktwice.com/tags/æœ€çŸ­è·¯/"},{"name":"HDU","slug":"HDU","permalink":"https://blog.yzcthinktwice.com/tags/HDU/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://blog.yzcthinktwice.com/tags/æ€ç»´/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]},{"title":"CF1194D 1-2-K Game","slug":"CF1194D 1-2-K Game","date":"2019-07-15T14:11:01.000Z","updated":"2019-12-15T08:11:25.772Z","comments":true,"path":"2019/07/15/CF1194D 1-2-K Game/","link":"","permalink":"https://blog.yzcthinktwice.com/2019/07/15/CF1194D 1-2-K Game/","excerpt":"","text":"CF1194D 1-2-K Game é¦–å…ˆè®©æˆ‘ä»¬è€ƒè™‘æ²¡æœ‰kçš„æƒ…å†µï¼š 1. (n mod 3 =0)å› ä¸ºnå¯ä»¥è¢«åˆ†è§£æˆè‹¥å¹²ä¸ª3ç›¸åŠ  è€Œæ¯ä¸ª3å¯ä»¥è¢«åˆ†è§£ä¸º1+2æˆ–2+1 æ‰€ä»¥æ— è®ºAå‡ºä»€ä¹ˆBéƒ½æœ‰æ–¹æ³•åº”å¯¹ Bèƒœ 2. (n mod 3 =1)Aå¯ä»¥å…ˆé€‰æ‹©ä½™æ•°1 è¿™æ ·é—®é¢˜åˆå›åˆ°äº†ç¬¬ä¸€ç§æƒ…å†µ ABè§’è‰²äº’æ¢ Aèƒœ 3. (n mod 3 =2)ä¸2åŒç†ï¼ŒAå…ˆé€‰2å³èƒœ è€Œç°åœ¨å¤šå‡ºæ¥çš„è¿™ä¸ªkä¹Ÿå¯ä»¥çœ‹æˆæ˜¯3çš„æŸä¸ªè‡ªç„¶æ•°å€æ•°åŠ ä¸Šä¸€ä¸ªå°äº3çš„æ•° å³$k\\equiv x\\left( mod3\\right)$ æˆ‘ä»¬å†æ¥å¯¹xåˆ†ç±»è®¨è®ºï¼š 1. (x=0)æ­¤æ—¶çš„kå°±å¥½åƒå¿«é€Ÿåœ°åˆ‡é™¤1+2æˆ–2+1çš„å›åˆ ä½†å¯¹æ‰‹æ€»ä¸ä¼šç«™ç€ä¸åŠ¨å§ï¼Ÿ æˆ‘ä»¬çŸ¥é“Bæ€»æ˜¯æœ‰æ–¹æ³•ä½¿æ¯ä¸€å›åˆå†…(A+B)%3éƒ½ç­‰äº1çš„ åˆ—ä¸¾ä¸€ä¸‹(kç”¨3ä»£æ›¿)ï¼š A:1 B:3 A:2 B:2 A:3 B:1 æ˜¯ä¸æ˜¯æ¯å›åˆåœ¨mod3æ„ä¹‰ä¸‹éƒ½æ˜¯ç›¸åŒçš„ï¼Ÿ é‚£ä¹ˆè‹¥å¹²ä¸ªå›åˆåå¦‚æœæ— æ³•å®ç°ä¸Šè¿°æ–¹æ³•äº† å³n%=k+1 å¦‚æœn=k Aè·èƒœ å¦åˆ™æƒ…å†µåˆå˜å›äº†æ— kçš„æƒ…å†µ %3åˆ¤æ–­å³å¯ 2. (x=1)æ­¤æ—¶kå°±å¥½åƒæœ‰ç€èƒ½çœç•¥è‹¥å¹²ä¸ªå›åˆåŠŸèƒ½çš„1 kå°±å¯æœ‰å¯æ— äº† åˆå›åˆ°äº†æ— kçš„æƒ…å†µ 3. (x=2)ä¸2åŒç† çŸ¥é“äº†è¿™äº›ï¼Œä»£ç å°±å¾ˆå¥½å†™äº†ï¼š int n,k,t; signed main(){ scanf(&quot;%d&quot;,&amp;t); while(t--){ scanf(&quot;%d%d&quot;,&amp;n,&amp;k); if(k%3){ if(n%3) puts(&quot;Alice&quot;); else puts(&quot;Bob&quot;); } else{ n%=k+1; if(n==k||n%3) puts(&quot;Alice&quot;); else puts(&quot;Bob&quot;); } } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}],"tags":[{"name":"CF","slug":"CF","permalink":"https://blog.yzcthinktwice.com/tags/CF/"},{"name":"åšå¼ˆè®º","slug":"åšå¼ˆè®º","permalink":"https://blog.yzcthinktwice.com/tags/åšå¼ˆè®º/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.yzcthinktwice.com/categories/ç®—æ³•/"}]}]}